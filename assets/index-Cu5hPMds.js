var ax=Object.defineProperty;var x0=n=>{throw TypeError(n)};var lx=(n,e,t)=>e in n?ax(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Y=(n,e,t)=>lx(n,typeof e!="symbol"?e+"":e,t),qp=(n,e,t)=>e.has(n)||x0("Cannot "+t);var u=(n,e,t)=>(qp(n,e,"read from private field"),t?t.call(n):e.get(n)),S=(n,e,t)=>e.has(n)?x0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),w=(n,e,t,i)=>(qp(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),E=(n,e,t)=>(qp(n,e,"access private method"),t);var $t=(n,e,t,i)=>({set _(r){w(n,e,r,t)},get _(){return u(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function pp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var MA={exports:{}},gp={},IA={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h=Symbol.for("react.element"),ux=Symbol.for("react.portal"),cx=Symbol.for("react.fragment"),hx=Symbol.for("react.strict_mode"),dx=Symbol.for("react.profiler"),fx=Symbol.for("react.provider"),px=Symbol.for("react.context"),gx=Symbol.for("react.forward_ref"),mx=Symbol.for("react.suspense"),vx=Symbol.for("react.memo"),yx=Symbol.for("react.lazy"),C0=Symbol.iterator;function wx(n){return n===null||typeof n!="object"?null:(n=C0&&n[C0]||n["@@iterator"],typeof n=="function"?n:null)}var FA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DA=Object.assign,NA={};function ru(n,e,t){this.props=n,this.context=e,this.refs=NA,this.updater=t||FA}ru.prototype.isReactComponent={};ru.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ru.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function OA(){}OA.prototype=ru.prototype;function qv(n,e,t){this.props=n,this.context=e,this.refs=NA,this.updater=t||FA}var Qv=qv.prototype=new OA;Qv.constructor=qv;DA(Qv,ru.prototype);Qv.isPureReactComponent=!0;var k0=Array.isArray,$A=Object.prototype.hasOwnProperty,Jv={current:null},HA={key:!0,ref:!0,__self:!0,__source:!0};function jA(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$A.call(e,i)&&!HA.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:$h,type:n,key:s,ref:o,props:r,_owner:Jv.current}}function Ax(n,e){return{$$typeof:$h,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Zv(n){return typeof n=="object"&&n!==null&&n.$$typeof===$h}function Ex(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var T0=/\/+/g;function Qp(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Ex(""+n.key):e.toString(36)}function xd(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case $h:case ux:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Qp(o,0):i,k0(r)?(t="",n!=null&&(t=n.replace(T0,"$&/")+"/"),xd(r,e,t,"",function(c){return c})):r!=null&&(Zv(r)&&(r=Ax(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(T0,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",k0(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Qp(s,a);o+=xd(s,e,t,l,r)}else if(l=wx(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Qp(s,a++),o+=xd(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ed(n,e,t){if(n==null)return n;var i=[],r=0;return xd(n,i,"","",function(s){return e.call(t,s,r++)}),i}function Sx(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Yt={current:null},Cd={transition:null},_x={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Cd,ReactCurrentOwner:Jv};function zA(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:ed,forEach:function(n,e,t){ed(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ed(n,function(){e++}),e},toArray:function(n){return ed(n,function(e){return e})||[]},only:function(n){if(!Zv(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};oe.Component=ru;oe.Fragment=cx;oe.Profiler=dx;oe.PureComponent=qv;oe.StrictMode=hx;oe.Suspense=mx;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_x;oe.act=zA;oe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=DA({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Jv.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)$A.call(e,l)&&!HA.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:$h,type:n.type,key:r,ref:s,props:i,_owner:o}};oe.createContext=function(n){return n={$$typeof:px,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:fx,_context:n},n.Consumer=n};oe.createElement=jA;oe.createFactory=function(n){var e=jA.bind(null,n);return e.type=n,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(n){return{$$typeof:gx,render:n}};oe.isValidElement=Zv;oe.lazy=function(n){return{$$typeof:yx,_payload:{_status:-1,_result:n},_init:Sx}};oe.memo=function(n,e){return{$$typeof:vx,type:n,compare:e===void 0?null:e}};oe.startTransition=function(n){var e=Cd.transition;Cd.transition={};try{n()}finally{Cd.transition=e}};oe.unstable_act=zA;oe.useCallback=function(n,e){return Yt.current.useCallback(n,e)};oe.useContext=function(n){return Yt.current.useContext(n)};oe.useDebugValue=function(){};oe.useDeferredValue=function(n){return Yt.current.useDeferredValue(n)};oe.useEffect=function(n,e){return Yt.current.useEffect(n,e)};oe.useId=function(){return Yt.current.useId()};oe.useImperativeHandle=function(n,e,t){return Yt.current.useImperativeHandle(n,e,t)};oe.useInsertionEffect=function(n,e){return Yt.current.useInsertionEffect(n,e)};oe.useLayoutEffect=function(n,e){return Yt.current.useLayoutEffect(n,e)};oe.useMemo=function(n,e){return Yt.current.useMemo(n,e)};oe.useReducer=function(n,e,t){return Yt.current.useReducer(n,e,t)};oe.useRef=function(n){return Yt.current.useRef(n)};oe.useState=function(n){return Yt.current.useState(n)};oe.useSyncExternalStore=function(n,e,t){return Yt.current.useSyncExternalStore(n,e,t)};oe.useTransition=function(){return Yt.current.useTransition()};oe.version="18.3.1";IA.exports=oe;var b=IA.exports;const R0=pp(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=b,xx=Symbol.for("react.element"),Cx=Symbol.for("react.fragment"),kx=Object.prototype.hasOwnProperty,Tx=bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rx={key:!0,ref:!0,__self:!0,__source:!0};function BA(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)kx.call(e,i)&&!Rx.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:xx,type:n,key:s,ref:o,props:r,_owner:Tx.current}}gp.Fragment=Cx;gp.jsx=BA;gp.jsxs=BA;MA.exports=gp;var P=MA.exports,UA={exports:{}},xn={},WA={exports:{}},VA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(M,z){var U=M.length;M.push(z);e:for(;0<U;){var re=U-1>>>1,ee=M[re];if(0<r(ee,z))M[re]=z,M[U]=ee,U=re;else break e}}function t(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var z=M[0],U=M.pop();if(U!==z){M[0]=U;e:for(var re=0,ee=M.length,fe=ee>>>1;re<fe;){var je=2*(re+1)-1,Ot=M[je],ge=je+1,le=M[ge];if(0>r(Ot,U))ge<ee&&0>r(le,Ot)?(M[re]=le,M[ge]=U,re=ge):(M[re]=Ot,M[je]=U,re=je);else if(ge<ee&&0>r(le,U))M[re]=le,M[ge]=U,re=ge;else break e}}return z}function r(M,z){var U=M.sortIndex-z.sortIndex;return U!==0?U:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,p=!1,m=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(M){for(var z=t(c);z!==null;){if(z.callback===null)i(c);else if(z.startTime<=M)i(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function x(M){if(v=!1,A(M),!m)if(t(l)!==null)m=!0,X(C);else{var z=t(c);z!==null&&H(x,z.startTime-M)}}function C(M,z){m=!1,v&&(v=!1,g(R),R=-1),p=!0;var U=f;try{for(A(z),d=t(l);d!==null&&(!(d.expirationTime>z)||M&&!D());){var re=d.callback;if(typeof re=="function"){d.callback=null,f=d.priorityLevel;var ee=re(d.expirationTime<=z);z=n.unstable_now(),typeof ee=="function"?d.callback=ee:d===t(l)&&i(l),A(z)}else i(l);d=t(l)}if(d!==null)var fe=!0;else{var je=t(c);je!==null&&H(x,je.startTime-z),fe=!1}return fe}finally{d=null,f=U,p=!1}}var k=!1,T=null,R=-1,L=5,I=-1;function D(){return!(n.unstable_now()-I<L)}function Q(){if(T!==null){var M=n.unstable_now();I=M;var z=!0;try{z=T(!0,M)}finally{z?G():(k=!1,T=null)}}else k=!1}var G;if(typeof y=="function")G=function(){y(Q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=Q,G=function(){J.postMessage(null)}}else G=function(){_(Q,0)};function X(M){T=M,k||(k=!0,G())}function H(M,z){R=_(function(){M(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,X(C))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(M){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var U=f;f=z;try{return M()}finally{f=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=f;f=M;try{return z()}finally{f=U}},n.unstable_scheduleCallback=function(M,z,U){var re=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?re+U:re):U=re,M){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=U+ee,M={id:h++,callback:z,priorityLevel:M,startTime:U,expirationTime:ee,sortIndex:-1},U>re?(M.sortIndex=U,e(c,M),t(l)===null&&M===t(c)&&(v?(g(R),R=-1):v=!0,H(x,U-re))):(M.sortIndex=ee,e(l,M),m||p||(m=!0,X(C))),M},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(M){var z=f;return function(){var U=f;f=z;try{return M.apply(this,arguments)}finally{f=U}}}})(VA);WA.exports=VA;var Px=WA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=b,bn=Px;function F(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GA=new Set,rc={};function ua(n,e){ql(n,e),ql(n+"Capture",e)}function ql(n,e){for(rc[n]=e,n=0;n<e.length;n++)GA.add(e[n])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fg=Object.prototype.hasOwnProperty,Mx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P0={},L0={};function Ix(n){return Fg.call(L0,n)?!0:Fg.call(P0,n)?!1:Mx.test(n)?L0[n]=!0:(P0[n]=!0,!1)}function Fx(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Dx(n,e,t,i){if(e===null||typeof e>"u"||Fx(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_t[n]=new Kt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];_t[e]=new Kt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){_t[n]=new Kt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_t[n]=new Kt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_t[n]=new Kt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){_t[n]=new Kt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){_t[n]=new Kt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){_t[n]=new Kt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){_t[n]=new Kt(n,5,!1,n.toLowerCase(),null,!1,!1)});var ey=/[\-:]([a-z])/g;function ty(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(ey,ty);_t[e]=new Kt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(ey,ty);_t[e]=new Kt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(ey,ty);_t[e]=new Kt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){_t[n]=new Kt(n,1,!1,n.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){_t[n]=new Kt(n,1,!1,n.toLowerCase(),null,!0,!0)});function ny(n,e,t,i){var r=_t.hasOwnProperty(e)?_t[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Dx(e,t,r,i)&&(t=null),i||r===null?Ix(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Fr=Lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),Ta=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),iy=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),XA=Symbol.for("react.provider"),YA=Symbol.for("react.context"),ry=Symbol.for("react.forward_ref"),Ng=Symbol.for("react.suspense"),Og=Symbol.for("react.suspense_list"),sy=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),KA=Symbol.for("react.offscreen"),M0=Symbol.iterator;function du(n){return n===null||typeof n!="object"?null:(n=M0&&n[M0]||n["@@iterator"],typeof n=="function"?n:null)}var He=Object.assign,Jp;function xu(n){if(Jp===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Jp=e&&e[1]||""}return`
`+Jp+n}var Zp=!1;function eg(n,e){if(!n||Zp)return"";Zp=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zp=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?xu(n):""}function Nx(n){switch(n.tag){case 5:return xu(n.type);case 16:return xu("Lazy");case 13:return xu("Suspense");case 19:return xu("SuspenseList");case 0:case 2:case 15:return n=eg(n.type,!1),n;case 11:return n=eg(n.type.render,!1),n;case 1:return n=eg(n.type,!0),n;default:return""}}function $g(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ra:return"Fragment";case Ta:return"Portal";case Dg:return"Profiler";case iy:return"StrictMode";case Ng:return"Suspense";case Og:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case YA:return(n.displayName||"Context")+".Consumer";case XA:return(n._context.displayName||"Context")+".Provider";case ry:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case sy:return e=n.displayName||null,e!==null?e:$g(n.type)||"Memo";case Br:e=n._payload,n=n._init;try{return $g(n(e))}catch{}}return null}function Ox(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $g(e);case 8:return e===iy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ps(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qA(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $x(n){var e=qA(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function nd(n){n._valueTracker||(n._valueTracker=$x(n))}function QA(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=qA(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Af(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Hg(n,e){var t=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function I0(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Ps(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JA(n,e){e=e.checked,e!=null&&ny(n,"checked",e,!1)}function jg(n,e){JA(n,e);var t=Ps(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?zg(n,e.type,t):e.hasOwnProperty("defaultValue")&&zg(n,e.type,Ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function F0(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function zg(n,e,t){(e!=="number"||Af(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Cu=Array.isArray;function za(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Ps(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Bg(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function D0(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(F(92));if(Cu(t)){if(1<t.length)throw Error(F(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ps(t)}}function ZA(n,e){var t=Ps(e.value),i=Ps(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function N0(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function eE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ug(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?eE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var id,tE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(id=id||document.createElement("div"),id.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=id.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function sc(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hx=["Webkit","ms","Moz","O"];Object.keys(Vu).forEach(function(n){Hx.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Vu[e]=Vu[n]})});function nE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Vu.hasOwnProperty(n)&&Vu[n]?(""+e).trim():e+"px"}function iE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=nE(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var jx=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wg(n,e){if(e){if(jx[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Vg(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gg=null;function oy(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xg=null,Ba=null,Ua=null;function O0(n){if(n=zh(n)){if(typeof Xg!="function")throw Error(F(280));var e=n.stateNode;e&&(e=Ap(e),Xg(n.stateNode,n.type,e))}}function rE(n){Ba?Ua?Ua.push(n):Ua=[n]:Ba=n}function sE(){if(Ba){var n=Ba,e=Ua;if(Ua=Ba=null,O0(n),e)for(n=0;n<e.length;n++)O0(e[n])}}function oE(n,e){return n(e)}function aE(){}var tg=!1;function lE(n,e,t){if(tg)return n(e,t);tg=!0;try{return oE(n,e,t)}finally{tg=!1,(Ba!==null||Ua!==null)&&(aE(),sE())}}function oc(n,e){var t=n.stateNode;if(t===null)return null;var i=Ap(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(F(231,e,typeof t));return t}var Yg=!1;if(Cr)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){Yg=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{Yg=!1}function zx(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var Gu=!1,Ef=null,Sf=!1,Kg=null,Bx={onError:function(n){Gu=!0,Ef=n}};function Ux(n,e,t,i,r,s,o,a,l){Gu=!1,Ef=null,zx.apply(Bx,arguments)}function Wx(n,e,t,i,r,s,o,a,l){if(Ux.apply(this,arguments),Gu){if(Gu){var c=Ef;Gu=!1,Ef=null}else throw Error(F(198));Sf||(Sf=!0,Kg=c)}}function ca(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function uE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function $0(n){if(ca(n)!==n)throw Error(F(188))}function Vx(n){var e=n.alternate;if(!e){if(e=ca(n),e===null)throw Error(F(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return $0(r),n;if(s===i)return $0(r),e;s=s.sibling}throw Error(F(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(F(189))}}if(t.alternate!==i)throw Error(F(190))}if(t.tag!==3)throw Error(F(188));return t.stateNode.current===t?n:e}function cE(n){return n=Vx(n),n!==null?hE(n):null}function hE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=hE(n);if(e!==null)return e;n=n.sibling}return null}var dE=bn.unstable_scheduleCallback,H0=bn.unstable_cancelCallback,Gx=bn.unstable_shouldYield,Xx=bn.unstable_requestPaint,Ve=bn.unstable_now,Yx=bn.unstable_getCurrentPriorityLevel,ay=bn.unstable_ImmediatePriority,fE=bn.unstable_UserBlockingPriority,_f=bn.unstable_NormalPriority,Kx=bn.unstable_LowPriority,pE=bn.unstable_IdlePriority,mp=null,Oi=null;function qx(n){if(Oi&&typeof Oi.onCommitFiberRoot=="function")try{Oi.onCommitFiberRoot(mp,n,void 0,(n.current.flags&128)===128)}catch{}}var ci=Math.clz32?Math.clz32:Zx,Qx=Math.log,Jx=Math.LN2;function Zx(n){return n>>>=0,n===0?32:31-(Qx(n)/Jx|0)|0}var rd=64,sd=4194304;function ku(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function bf(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=ku(a):(s&=o,s!==0&&(i=ku(s)))}else o=t&~r,o!==0?i=ku(o):s!==0&&(i=ku(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ci(e),r=1<<t,i|=n[t],e&=~r;return i}function eC(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tC(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ci(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=eC(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function qg(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function gE(){var n=rd;return rd<<=1,!(rd&4194240)&&(rd=64),n}function ng(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Hh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ci(e),n[e]=t}function nC(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-ci(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function ly(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ci(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var we=0;function mE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var vE,uy,yE,wE,AE,Qg=!1,od=[],Ss=null,_s=null,bs=null,ac=new Map,lc=new Map,Wr=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j0(n,e){switch(n){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":ac.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(e.pointerId)}}function pu(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=zh(e),e!==null&&uy(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function rC(n,e,t,i,r){switch(e){case"focusin":return Ss=pu(Ss,n,e,t,i,r),!0;case"dragenter":return _s=pu(_s,n,e,t,i,r),!0;case"mouseover":return bs=pu(bs,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return ac.set(s,pu(ac.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,lc.set(s,pu(lc.get(s)||null,n,e,t,i,r)),!0}return!1}function EE(n){var e=Ks(n.target);if(e!==null){var t=ca(e);if(t!==null){if(e=t.tag,e===13){if(e=uE(t),e!==null){n.blockedOn=e,AE(n.priority,function(){yE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function kd(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Jg(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Gg=i,t.target.dispatchEvent(i),Gg=null}else return e=zh(t),e!==null&&uy(e),n.blockedOn=t,!1;e.shift()}return!0}function z0(n,e,t){kd(n)&&t.delete(e)}function sC(){Qg=!1,Ss!==null&&kd(Ss)&&(Ss=null),_s!==null&&kd(_s)&&(_s=null),bs!==null&&kd(bs)&&(bs=null),ac.forEach(z0),lc.forEach(z0)}function gu(n,e){n.blockedOn===e&&(n.blockedOn=null,Qg||(Qg=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,sC)))}function uc(n){function e(r){return gu(r,n)}if(0<od.length){gu(od[0],n);for(var t=1;t<od.length;t++){var i=od[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Ss!==null&&gu(Ss,n),_s!==null&&gu(_s,n),bs!==null&&gu(bs,n),ac.forEach(e),lc.forEach(e),t=0;t<Wr.length;t++)i=Wr[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Wr.length&&(t=Wr[0],t.blockedOn===null);)EE(t),t.blockedOn===null&&Wr.shift()}var Wa=Fr.ReactCurrentBatchConfig,xf=!0;function oC(n,e,t,i){var r=we,s=Wa.transition;Wa.transition=null;try{we=1,cy(n,e,t,i)}finally{we=r,Wa.transition=s}}function aC(n,e,t,i){var r=we,s=Wa.transition;Wa.transition=null;try{we=4,cy(n,e,t,i)}finally{we=r,Wa.transition=s}}function cy(n,e,t,i){if(xf){var r=Jg(n,e,t,i);if(r===null)dg(n,e,i,Cf,t),j0(n,i);else if(rC(r,n,e,t,i))i.stopPropagation();else if(j0(n,i),e&4&&-1<iC.indexOf(n)){for(;r!==null;){var s=zh(r);if(s!==null&&vE(s),s=Jg(n,e,t,i),s===null&&dg(n,e,i,Cf,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else dg(n,e,i,null,t)}}var Cf=null;function Jg(n,e,t,i){if(Cf=null,n=oy(i),n=Ks(n),n!==null)if(e=ca(n),e===null)n=null;else if(t=e.tag,t===13){if(n=uE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Cf=n,null}function SE(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yx()){case ay:return 1;case fE:return 4;case _f:case Kx:return 16;case pE:return 536870912;default:return 16}default:return 16}}var As=null,hy=null,Td=null;function _E(){if(Td)return Td;var n,e=hy,t=e.length,i,r="value"in As?As.value:As.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Td=r.slice(n,1<i?1-i:void 0)}function Rd(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ad(){return!0}function B0(){return!1}function Cn(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ad:B0,this.isPropagationStopped=B0,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),e}var su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dy=Cn(su),jh=He({},su,{view:0,detail:0}),lC=Cn(jh),ig,rg,mu,vp=He({},jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fy,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==mu&&(mu&&n.type==="mousemove"?(ig=n.screenX-mu.screenX,rg=n.screenY-mu.screenY):rg=ig=0,mu=n),ig)},movementY:function(n){return"movementY"in n?n.movementY:rg}}),U0=Cn(vp),uC=He({},vp,{dataTransfer:0}),cC=Cn(uC),hC=He({},jh,{relatedTarget:0}),sg=Cn(hC),dC=He({},su,{animationName:0,elapsedTime:0,pseudoElement:0}),fC=Cn(dC),pC=He({},su,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gC=Cn(pC),mC=He({},su,{data:0}),W0=Cn(mC),vC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AC(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=wC[n])?!!e[n]:!1}function fy(){return AC}var EC=He({},jh,{key:function(n){if(n.key){var e=vC[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Rd(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fy,charCode:function(n){return n.type==="keypress"?Rd(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Rd(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),SC=Cn(EC),_C=He({},vp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=Cn(_C),bC=He({},jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fy}),xC=Cn(bC),CC=He({},su,{propertyName:0,elapsedTime:0,pseudoElement:0}),kC=Cn(CC),TC=He({},vp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),RC=Cn(TC),PC=[9,13,27,32],py=Cr&&"CompositionEvent"in window,Xu=null;Cr&&"documentMode"in document&&(Xu=document.documentMode);var LC=Cr&&"TextEvent"in window&&!Xu,bE=Cr&&(!py||Xu&&8<Xu&&11>=Xu),G0=" ",X0=!1;function xE(n,e){switch(n){case"keyup":return PC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pa=!1;function MC(n,e){switch(n){case"compositionend":return CE(e);case"keypress":return e.which!==32?null:(X0=!0,G0);case"textInput":return n=e.data,n===G0&&X0?null:n;default:return null}}function IC(n,e){if(Pa)return n==="compositionend"||!py&&xE(n,e)?(n=_E(),Td=hy=As=null,Pa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bE&&e.locale!=="ko"?null:e.data;default:return null}}var FC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!FC[n.type]:e==="textarea"}function kE(n,e,t,i){rE(i),e=kf(e,"onChange"),0<e.length&&(t=new dy("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Yu=null,cc=null;function DC(n){$E(n,0)}function yp(n){var e=Ia(n);if(QA(e))return n}function NC(n,e){if(n==="change")return e}var TE=!1;if(Cr){var og;if(Cr){var ag="oninput"in document;if(!ag){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),ag=typeof K0.oninput=="function"}og=ag}else og=!1;TE=og&&(!document.documentMode||9<document.documentMode)}function q0(){Yu&&(Yu.detachEvent("onpropertychange",RE),cc=Yu=null)}function RE(n){if(n.propertyName==="value"&&yp(cc)){var e=[];kE(e,cc,n,oy(n)),lE(DC,e)}}function OC(n,e,t){n==="focusin"?(q0(),Yu=e,cc=t,Yu.attachEvent("onpropertychange",RE)):n==="focusout"&&q0()}function $C(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yp(cc)}function HC(n,e){if(n==="click")return yp(e)}function jC(n,e){if(n==="input"||n==="change")return yp(e)}function zC(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var di=typeof Object.is=="function"?Object.is:zC;function hc(n,e){if(di(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Fg.call(e,r)||!di(n[r],e[r]))return!1}return!0}function Q0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function J0(n,e){var t=Q0(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Q0(t)}}function PE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?PE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function LE(){for(var n=window,e=Af();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Af(n.document)}return e}function gy(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function BC(n){var e=LE(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&PE(t.ownerDocument.documentElement,t)){if(i!==null&&gy(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=J0(t,s);var o=J0(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var UC=Cr&&"documentMode"in document&&11>=document.documentMode,La=null,Zg=null,Ku=null,em=!1;function Z0(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;em||La==null||La!==Af(i)||(i=La,"selectionStart"in i&&gy(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ku&&hc(Ku,i)||(Ku=i,i=kf(Zg,"onSelect"),0<i.length&&(e=new dy("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=La)))}function ld(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ma={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},lg={},ME={};Cr&&(ME=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function wp(n){if(lg[n])return lg[n];if(!Ma[n])return n;var e=Ma[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in ME)return lg[n]=e[t];return n}var IE=wp("animationend"),FE=wp("animationiteration"),DE=wp("animationstart"),NE=wp("transitionend"),OE=new Map,ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(n,e){OE.set(n,e),ua(e,[n])}for(var ug=0;ug<ew.length;ug++){var cg=ew[ug],WC=cg.toLowerCase(),VC=cg[0].toUpperCase()+cg.slice(1);Ns(WC,"on"+VC)}Ns(IE,"onAnimationEnd");Ns(FE,"onAnimationIteration");Ns(DE,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(NE,"onTransitionEnd");ql("onMouseEnter",["mouseout","mouseover"]);ql("onMouseLeave",["mouseout","mouseover"]);ql("onPointerEnter",["pointerout","pointerover"]);ql("onPointerLeave",["pointerout","pointerover"]);ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function tw(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,Wx(i,e,void 0,n),n.currentTarget=null}function $E(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;tw(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;tw(r,a,c),s=l}}}if(Sf)throw n=Kg,Sf=!1,Kg=null,n}function Ce(n,e){var t=e[sm];t===void 0&&(t=e[sm]=new Set);var i=n+"__bubble";t.has(i)||(HE(e,n,2,!1),t.add(i))}function hg(n,e,t){var i=0;e&&(i|=4),HE(t,n,i,e)}var ud="_reactListening"+Math.random().toString(36).slice(2);function dc(n){if(!n[ud]){n[ud]=!0,GA.forEach(function(t){t!=="selectionchange"&&(GC.has(t)||hg(t,!1,n),hg(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[ud]||(e[ud]=!0,hg("selectionchange",!1,e))}}function HE(n,e,t,i){switch(SE(e)){case 1:var r=oC;break;case 4:r=aC;break;default:r=cy}t=r.bind(null,e,t,n),r=void 0,!Yg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function dg(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ks(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}lE(function(){var c=s,h=oy(t),d=[];e:{var f=OE.get(n);if(f!==void 0){var p=dy,m=n;switch(n){case"keypress":if(Rd(t)===0)break e;case"keydown":case"keyup":p=SC;break;case"focusin":m="focus",p=sg;break;case"focusout":m="blur",p=sg;break;case"beforeblur":case"afterblur":p=sg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xC;break;case IE:case FE:case DE:p=fC;break;case NE:p=kC;break;case"scroll":p=lC;break;case"wheel":p=RC;break;case"copy":case"cut":case"paste":p=gC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=V0}var v=(e&4)!==0,_=!v&&n==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=c,A;y!==null;){A=y;var x=A.stateNode;if(A.tag===5&&x!==null&&(A=x,g!==null&&(x=oc(y,g),x!=null&&v.push(fc(y,x,A)))),_)break;y=y.return}0<v.length&&(f=new p(f,m,null,t,h),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Gg&&(m=t.relatedTarget||t.fromElement)&&(Ks(m)||m[kr]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=c,m=m?Ks(m):null,m!==null&&(_=ca(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=U0,x="onMouseLeave",g="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(v=V0,x="onPointerLeave",g="onPointerEnter",y="pointer"),_=p==null?f:Ia(p),A=m==null?f:Ia(m),f=new v(x,y+"leave",p,t,h),f.target=_,f.relatedTarget=A,x=null,Ks(h)===c&&(v=new v(g,y+"enter",m,t,h),v.target=A,v.relatedTarget=_,x=v),_=x,p&&m)t:{for(v=p,g=m,y=0,A=v;A;A=wa(A))y++;for(A=0,x=g;x;x=wa(x))A++;for(;0<y-A;)v=wa(v),y--;for(;0<A-y;)g=wa(g),A--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=wa(v),g=wa(g)}v=null}else v=null;p!==null&&nw(d,f,p,v,!1),m!==null&&_!==null&&nw(d,_,m,v,!0)}}e:{if(f=c?Ia(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=NC;else if(Y0(f))if(TE)C=jC;else{C=$C;var k=OC}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=HC);if(C&&(C=C(n,c))){kE(d,C,t,h);break e}k&&k(n,f,c),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&zg(f,"number",f.value)}switch(k=c?Ia(c):window,n){case"focusin":(Y0(k)||k.contentEditable==="true")&&(La=k,Zg=c,Ku=null);break;case"focusout":Ku=Zg=La=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,Z0(d,t,h);break;case"selectionchange":if(UC)break;case"keydown":case"keyup":Z0(d,t,h)}var T;if(py)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Pa?xE(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(bE&&t.locale!=="ko"&&(Pa||R!=="onCompositionStart"?R==="onCompositionEnd"&&Pa&&(T=_E()):(As=h,hy="value"in As?As.value:As.textContent,Pa=!0)),k=kf(c,R),0<k.length&&(R=new W0(R,n,null,t,h),d.push({event:R,listeners:k}),T?R.data=T:(T=CE(t),T!==null&&(R.data=T)))),(T=LC?MC(n,t):IC(n,t))&&(c=kf(c,"onBeforeInput"),0<c.length&&(h=new W0("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=T))}$E(d,e)})}function fc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function kf(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=oc(n,t),s!=null&&i.unshift(fc(n,s,r)),s=oc(n,e),s!=null&&i.push(fc(n,s,r))),n=n.return}return i}function wa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function nw(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=oc(t,s),l!=null&&o.unshift(fc(t,l,a))):r||(l=oc(t,s),l!=null&&o.push(fc(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var XC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function iw(n){return(typeof n=="string"?n:""+n).replace(XC,`
`).replace(YC,"")}function cd(n,e,t){if(e=iw(e),iw(n)!==e&&t)throw Error(F(425))}function Tf(){}var tm=null,nm=null;function im(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rm=typeof setTimeout=="function"?setTimeout:void 0,KC=typeof clearTimeout=="function"?clearTimeout:void 0,rw=typeof Promise=="function"?Promise:void 0,qC=typeof queueMicrotask=="function"?queueMicrotask:typeof rw<"u"?function(n){return rw.resolve(null).then(n).catch(QC)}:rm;function QC(n){setTimeout(function(){throw n})}function fg(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),uc(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);uc(e)}function xs(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function sw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ou=Math.random().toString(36).slice(2),Ni="__reactFiber$"+ou,pc="__reactProps$"+ou,kr="__reactContainer$"+ou,sm="__reactEvents$"+ou,JC="__reactListeners$"+ou,ZC="__reactHandles$"+ou;function Ks(n){var e=n[Ni];if(e)return e;for(var t=n.parentNode;t;){if(e=t[kr]||t[Ni]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=sw(n);n!==null;){if(t=n[Ni])return t;n=sw(n)}return e}n=t,t=n.parentNode}return null}function zh(n){return n=n[Ni]||n[kr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ia(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(F(33))}function Ap(n){return n[pc]||null}var om=[],Fa=-1;function Os(n){return{current:n}}function Te(n){0>Fa||(n.current=om[Fa],om[Fa]=null,Fa--)}function xe(n,e){Fa++,om[Fa]=n.current,n.current=e}var Ls={},Nt=Os(Ls),on=Os(!1),Qo=Ls;function Ql(n,e){var t=n.type.contextTypes;if(!t)return Ls;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function an(n){return n=n.childContextTypes,n!=null}function Rf(){Te(on),Te(Nt)}function ow(n,e,t){if(Nt.current!==Ls)throw Error(F(168));xe(Nt,e),xe(on,t)}function jE(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(F(108,Ox(n)||"Unknown",r));return He({},t,i)}function Pf(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ls,Qo=Nt.current,xe(Nt,n),xe(on,on.current),!0}function aw(n,e,t){var i=n.stateNode;if(!i)throw Error(F(169));t?(n=jE(n,e,Qo),i.__reactInternalMemoizedMergedChildContext=n,Te(on),Te(Nt),xe(Nt,n)):Te(on),xe(on,t)}var Gi=null,Ep=!1,pg=!1;function zE(n){Gi===null?Gi=[n]:Gi.push(n)}function ek(n){Ep=!0,zE(n)}function $s(){if(!pg&&Gi!==null){pg=!0;var n=0,e=we;try{var t=Gi;for(we=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Gi=null,Ep=!1}catch(r){throw Gi!==null&&(Gi=Gi.slice(n+1)),dE(ay,$s),r}finally{we=e,pg=!1}}return null}var Da=[],Na=0,Lf=null,Mf=0,In=[],Fn=0,Jo=null,yr=1,wr="";function zs(n,e){Da[Na++]=Mf,Da[Na++]=Lf,Lf=n,Mf=e}function BE(n,e,t){In[Fn++]=yr,In[Fn++]=wr,In[Fn++]=Jo,Jo=n;var i=yr;n=wr;var r=32-ci(i)-1;i&=~(1<<r),t+=1;var s=32-ci(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,yr=1<<32-ci(e)+r|t<<r|i,wr=s+n}else yr=1<<s|t<<r|i,wr=n}function my(n){n.return!==null&&(zs(n,1),BE(n,1,0))}function vy(n){for(;n===Lf;)Lf=Da[--Na],Da[Na]=null,Mf=Da[--Na],Da[Na]=null;for(;n===Jo;)Jo=In[--Fn],In[Fn]=null,wr=In[--Fn],In[Fn]=null,yr=In[--Fn],In[Fn]=null}var Sn=null,En=null,Le=!1,li=null;function UE(n,e){var t=On(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function lw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Sn=n,En=xs(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Sn=n,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Jo!==null?{id:yr,overflow:wr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=On(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Sn=n,En=null,!0):!1;default:return!1}}function am(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lm(n){if(Le){var e=En;if(e){var t=e;if(!lw(n,e)){if(am(n))throw Error(F(418));e=xs(t.nextSibling);var i=Sn;e&&lw(n,e)?UE(i,t):(n.flags=n.flags&-4097|2,Le=!1,Sn=n)}}else{if(am(n))throw Error(F(418));n.flags=n.flags&-4097|2,Le=!1,Sn=n}}}function uw(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Sn=n}function hd(n){if(n!==Sn)return!1;if(!Le)return uw(n),Le=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!im(n.type,n.memoizedProps)),e&&(e=En)){if(am(n))throw WE(),Error(F(418));for(;e;)UE(n,e),e=xs(e.nextSibling)}if(uw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(F(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){En=xs(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}En=null}}else En=Sn?xs(n.stateNode.nextSibling):null;return!0}function WE(){for(var n=En;n;)n=xs(n.nextSibling)}function Jl(){En=Sn=null,Le=!1}function yy(n){li===null?li=[n]:li.push(n)}var tk=Fr.ReactCurrentBatchConfig;function vu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(F(309));var i=t.stateNode}if(!i)throw Error(F(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(F(284));if(!t._owner)throw Error(F(290,n))}return n}function dd(n,e){throw n=Object.prototype.toString.call(e),Error(F(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function cw(n){var e=n._init;return e(n._payload)}function VE(n){function e(g,y){if(n){var A=g.deletions;A===null?(g.deletions=[y],g.flags|=16):A.push(y)}}function t(g,y){if(!n)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function i(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function r(g,y){return g=Rs(g,y),g.index=0,g.sibling=null,g}function s(g,y,A){return g.index=A,n?(A=g.alternate,A!==null?(A=A.index,A<y?(g.flags|=2,y):A):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,y,A,x){return y===null||y.tag!==6?(y=Eg(A,g.mode,x),y.return=g,y):(y=r(y,A),y.return=g,y)}function l(g,y,A,x){var C=A.type;return C===Ra?h(g,y,A.props.children,x,A.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Br&&cw(C)===y.type)?(x=r(y,A.props),x.ref=vu(g,y,A),x.return=g,x):(x=Nd(A.type,A.key,A.props,null,g.mode,x),x.ref=vu(g,y,A),x.return=g,x)}function c(g,y,A,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==A.containerInfo||y.stateNode.implementation!==A.implementation?(y=Sg(A,g.mode,x),y.return=g,y):(y=r(y,A.children||[]),y.return=g,y)}function h(g,y,A,x,C){return y===null||y.tag!==7?(y=qo(A,g.mode,x,C),y.return=g,y):(y=r(y,A),y.return=g,y)}function d(g,y,A){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Eg(""+y,g.mode,A),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case td:return A=Nd(y.type,y.key,y.props,null,g.mode,A),A.ref=vu(g,null,y),A.return=g,A;case Ta:return y=Sg(y,g.mode,A),y.return=g,y;case Br:var x=y._init;return d(g,x(y._payload),A)}if(Cu(y)||du(y))return y=qo(y,g.mode,A,null),y.return=g,y;dd(g,y)}return null}function f(g,y,A,x){var C=y!==null?y.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return C!==null?null:a(g,y,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case td:return A.key===C?l(g,y,A,x):null;case Ta:return A.key===C?c(g,y,A,x):null;case Br:return C=A._init,f(g,y,C(A._payload),x)}if(Cu(A)||du(A))return C!==null?null:h(g,y,A,x,null);dd(g,A)}return null}function p(g,y,A,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(A)||null,a(y,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case td:return g=g.get(x.key===null?A:x.key)||null,l(y,g,x,C);case Ta:return g=g.get(x.key===null?A:x.key)||null,c(y,g,x,C);case Br:var k=x._init;return p(g,y,A,k(x._payload),C)}if(Cu(x)||du(x))return g=g.get(A)||null,h(y,g,x,C,null);dd(y,x)}return null}function m(g,y,A,x){for(var C=null,k=null,T=y,R=y=0,L=null;T!==null&&R<A.length;R++){T.index>R?(L=T,T=null):L=T.sibling;var I=f(g,T,A[R],x);if(I===null){T===null&&(T=L);break}n&&T&&I.alternate===null&&e(g,T),y=s(I,y,R),k===null?C=I:k.sibling=I,k=I,T=L}if(R===A.length)return t(g,T),Le&&zs(g,R),C;if(T===null){for(;R<A.length;R++)T=d(g,A[R],x),T!==null&&(y=s(T,y,R),k===null?C=T:k.sibling=T,k=T);return Le&&zs(g,R),C}for(T=i(g,T);R<A.length;R++)L=p(T,g,R,A[R],x),L!==null&&(n&&L.alternate!==null&&T.delete(L.key===null?R:L.key),y=s(L,y,R),k===null?C=L:k.sibling=L,k=L);return n&&T.forEach(function(D){return e(g,D)}),Le&&zs(g,R),C}function v(g,y,A,x){var C=du(A);if(typeof C!="function")throw Error(F(150));if(A=C.call(A),A==null)throw Error(F(151));for(var k=C=null,T=y,R=y=0,L=null,I=A.next();T!==null&&!I.done;R++,I=A.next()){T.index>R?(L=T,T=null):L=T.sibling;var D=f(g,T,I.value,x);if(D===null){T===null&&(T=L);break}n&&T&&D.alternate===null&&e(g,T),y=s(D,y,R),k===null?C=D:k.sibling=D,k=D,T=L}if(I.done)return t(g,T),Le&&zs(g,R),C;if(T===null){for(;!I.done;R++,I=A.next())I=d(g,I.value,x),I!==null&&(y=s(I,y,R),k===null?C=I:k.sibling=I,k=I);return Le&&zs(g,R),C}for(T=i(g,T);!I.done;R++,I=A.next())I=p(T,g,R,I.value,x),I!==null&&(n&&I.alternate!==null&&T.delete(I.key===null?R:I.key),y=s(I,y,R),k===null?C=I:k.sibling=I,k=I);return n&&T.forEach(function(Q){return e(g,Q)}),Le&&zs(g,R),C}function _(g,y,A,x){if(typeof A=="object"&&A!==null&&A.type===Ra&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case td:e:{for(var C=A.key,k=y;k!==null;){if(k.key===C){if(C=A.type,C===Ra){if(k.tag===7){t(g,k.sibling),y=r(k,A.props.children),y.return=g,g=y;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Br&&cw(C)===k.type){t(g,k.sibling),y=r(k,A.props),y.ref=vu(g,k,A),y.return=g,g=y;break e}t(g,k);break}else e(g,k);k=k.sibling}A.type===Ra?(y=qo(A.props.children,g.mode,x,A.key),y.return=g,g=y):(x=Nd(A.type,A.key,A.props,null,g.mode,x),x.ref=vu(g,y,A),x.return=g,g=x)}return o(g);case Ta:e:{for(k=A.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===A.containerInfo&&y.stateNode.implementation===A.implementation){t(g,y.sibling),y=r(y,A.children||[]),y.return=g,g=y;break e}else{t(g,y);break}else e(g,y);y=y.sibling}y=Sg(A,g.mode,x),y.return=g,g=y}return o(g);case Br:return k=A._init,_(g,y,k(A._payload),x)}if(Cu(A))return m(g,y,A,x);if(du(A))return v(g,y,A,x);dd(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,y!==null&&y.tag===6?(t(g,y.sibling),y=r(y,A),y.return=g,g=y):(t(g,y),y=Eg(A,g.mode,x),y.return=g,g=y),o(g)):t(g,y)}return _}var Zl=VE(!0),GE=VE(!1),If=Os(null),Ff=null,Oa=null,wy=null;function Ay(){wy=Oa=Ff=null}function Ey(n){var e=If.current;Te(If),n._currentValue=e}function um(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Va(n,e){Ff=n,wy=Oa=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(rn=!0),n.firstContext=null)}function jn(n){var e=n._currentValue;if(wy!==n)if(n={context:n,memoizedValue:e,next:null},Oa===null){if(Ff===null)throw Error(F(308));Oa=n,Ff.dependencies={lanes:0,firstContext:n}}else Oa=Oa.next=n;return e}var qs=null;function Sy(n){qs===null?qs=[n]:qs.push(n)}function XE(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Sy(e)):(t.next=r.next,r.next=t),e.interleaved=t,Tr(n,i)}function Tr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ur=!1;function _y(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ar(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Tr(n,t)}return r=i.interleaved,r===null?(e.next=e,Sy(i)):(e.next=r.next,r.next=e),i.interleaved=e,Tr(n,t)}function Pd(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,ly(n,t)}}function hw(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Df(n,e,t,i){var r=n.updateQueue;Ur=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,v=a;switch(f=e,p=t,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=He({},d,f);break e;case 2:Ur=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ea|=o,n.lanes=o,n.memoizedState=d}}function dw(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(F(191,r));r.call(i)}}}var Bh={},$i=Os(Bh),gc=Os(Bh),mc=Os(Bh);function Qs(n){if(n===Bh)throw Error(F(174));return n}function by(n,e){switch(xe(mc,e),xe(gc,n),xe($i,Bh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ug(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ug(e,n)}Te($i),xe($i,e)}function eu(){Te($i),Te(gc),Te(mc)}function KE(n){Qs(mc.current);var e=Qs($i.current),t=Ug(e,n.type);e!==t&&(xe(gc,n),xe($i,t))}function xy(n){gc.current===n&&(Te($i),Te(gc))}var Ne=Os(0);function Nf(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gg=[];function Cy(){for(var n=0;n<gg.length;n++)gg[n]._workInProgressVersionPrimary=null;gg.length=0}var Ld=Fr.ReactCurrentDispatcher,mg=Fr.ReactCurrentBatchConfig,Zo=0,Oe=null,nt=null,ft=null,Of=!1,qu=!1,vc=0,nk=0;function xt(){throw Error(F(321))}function ky(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!di(n[t],e[t]))return!1;return!0}function Ty(n,e,t,i,r,s){if(Zo=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ld.current=n===null||n.memoizedState===null?ok:ak,n=t(i,r),qu){s=0;do{if(qu=!1,vc=0,25<=s)throw Error(F(301));s+=1,ft=nt=null,e.updateQueue=null,Ld.current=lk,n=t(i,r)}while(qu)}if(Ld.current=$f,e=nt!==null&&nt.next!==null,Zo=0,ft=nt=Oe=null,Of=!1,e)throw Error(F(300));return n}function Ry(){var n=vc!==0;return vc=0,n}function vi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Oe.memoizedState=ft=n:ft=ft.next=n,ft}function zn(){if(nt===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var e=ft===null?Oe.memoizedState:ft.next;if(e!==null)ft=e,nt=n;else{if(n===null)throw Error(F(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ft===null?Oe.memoizedState=ft=n:ft=ft.next=n}return ft}function yc(n,e){return typeof e=="function"?e(n):e}function vg(n){var e=zn(),t=e.queue;if(t===null)throw Error(F(311));t.lastRenderedReducer=n;var i=nt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Zo&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Oe.lanes|=h,ea|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,di(i,e.memoizedState)||(rn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Oe.lanes|=s,ea|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function yg(n){var e=zn(),t=e.queue;if(t===null)throw Error(F(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);di(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function qE(){}function QE(n,e){var t=Oe,i=zn(),r=e(),s=!di(i.memoizedState,r);if(s&&(i.memoizedState=r,rn=!0),i=i.queue,Py(eS.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||ft!==null&&ft.memoizedState.tag&1){if(t.flags|=2048,wc(9,ZE.bind(null,t,i,r,e),void 0,null),pt===null)throw Error(F(349));Zo&30||JE(t,e,r)}return r}function JE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function ZE(n,e,t,i){e.value=t,e.getSnapshot=i,tS(e)&&nS(n)}function eS(n,e,t){return t(function(){tS(e)&&nS(n)})}function tS(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!di(n,t)}catch{return!0}}function nS(n){var e=Tr(n,1);e!==null&&hi(e,n,1,-1)}function fw(n){var e=vi();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:n},e.queue=n,n=n.dispatch=sk.bind(null,Oe,n),[e.memoizedState,n]}function wc(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function iS(){return zn().memoizedState}function Md(n,e,t,i){var r=vi();Oe.flags|=n,r.memoizedState=wc(1|e,t,void 0,i===void 0?null:i)}function Sp(n,e,t,i){var r=zn();i=i===void 0?null:i;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,i!==null&&ky(i,o.deps)){r.memoizedState=wc(e,t,s,i);return}}Oe.flags|=n,r.memoizedState=wc(1|e,t,s,i)}function pw(n,e){return Md(8390656,8,n,e)}function Py(n,e){return Sp(2048,8,n,e)}function rS(n,e){return Sp(4,2,n,e)}function sS(n,e){return Sp(4,4,n,e)}function oS(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function aS(n,e,t){return t=t!=null?t.concat([n]):null,Sp(4,4,oS.bind(null,e,n),t)}function Ly(){}function lS(n,e){var t=zn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&ky(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function uS(n,e){var t=zn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&ky(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function cS(n,e,t){return Zo&21?(di(t,e)||(t=gE(),Oe.lanes|=t,ea|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,rn=!0),n.memoizedState=t)}function ik(n,e){var t=we;we=t!==0&&4>t?t:4,n(!0);var i=mg.transition;mg.transition={};try{n(!1),e()}finally{we=t,mg.transition=i}}function hS(){return zn().memoizedState}function rk(n,e,t){var i=Ts(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},dS(n))fS(e,t);else if(t=XE(n,e,t,i),t!==null){var r=Wt();hi(t,n,i,r),pS(t,e,i)}}function sk(n,e,t){var i=Ts(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(dS(n))fS(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,di(a,o)){var l=e.interleaved;l===null?(r.next=r,Sy(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=XE(n,e,r,i),t!==null&&(r=Wt(),hi(t,n,i,r),pS(t,e,i))}}function dS(n){var e=n.alternate;return n===Oe||e!==null&&e===Oe}function fS(n,e){qu=Of=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function pS(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,ly(n,t)}}var $f={readContext:jn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},ok={readContext:jn,useCallback:function(n,e){return vi().memoizedState=[n,e===void 0?null:e],n},useContext:jn,useEffect:pw,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Md(4194308,4,oS.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Md(4194308,4,n,e)},useInsertionEffect:function(n,e){return Md(4,2,n,e)},useMemo:function(n,e){var t=vi();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=vi();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=rk.bind(null,Oe,n),[i.memoizedState,n]},useRef:function(n){var e=vi();return n={current:n},e.memoizedState=n},useState:fw,useDebugValue:Ly,useDeferredValue:function(n){return vi().memoizedState=n},useTransition:function(){var n=fw(!1),e=n[0];return n=ik.bind(null,n[1]),vi().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Oe,r=vi();if(Le){if(t===void 0)throw Error(F(407));t=t()}else{if(t=e(),pt===null)throw Error(F(349));Zo&30||JE(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,pw(eS.bind(null,i,s,n),[n]),i.flags|=2048,wc(9,ZE.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=vi(),e=pt.identifierPrefix;if(Le){var t=wr,i=yr;t=(i&~(1<<32-ci(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=vc++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=nk++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ak={readContext:jn,useCallback:lS,useContext:jn,useEffect:Py,useImperativeHandle:aS,useInsertionEffect:rS,useLayoutEffect:sS,useMemo:uS,useReducer:vg,useRef:iS,useState:function(){return vg(yc)},useDebugValue:Ly,useDeferredValue:function(n){var e=zn();return cS(e,nt.memoizedState,n)},useTransition:function(){var n=vg(yc)[0],e=zn().memoizedState;return[n,e]},useMutableSource:qE,useSyncExternalStore:QE,useId:hS,unstable_isNewReconciler:!1},lk={readContext:jn,useCallback:lS,useContext:jn,useEffect:Py,useImperativeHandle:aS,useInsertionEffect:rS,useLayoutEffect:sS,useMemo:uS,useReducer:yg,useRef:iS,useState:function(){return yg(yc)},useDebugValue:Ly,useDeferredValue:function(n){var e=zn();return nt===null?e.memoizedState=n:cS(e,nt.memoizedState,n)},useTransition:function(){var n=yg(yc)[0],e=zn().memoizedState;return[n,e]},useMutableSource:qE,useSyncExternalStore:QE,useId:hS,unstable_isNewReconciler:!1};function Gn(n,e){if(n&&n.defaultProps){e=He({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function cm(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:He({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var _p={isMounted:function(n){return(n=n._reactInternals)?ca(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Wt(),r=Ts(n),s=Ar(i,r);s.payload=e,t!=null&&(s.callback=t),e=Cs(n,s,r),e!==null&&(hi(e,n,r,i),Pd(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Wt(),r=Ts(n),s=Ar(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Cs(n,s,r),e!==null&&(hi(e,n,r,i),Pd(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Wt(),i=Ts(n),r=Ar(t,i);r.tag=2,e!=null&&(r.callback=e),e=Cs(n,r,i),e!==null&&(hi(e,n,i,t),Pd(e,n,i))}};function gw(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!hc(t,i)||!hc(r,s):!0}function gS(n,e,t){var i=!1,r=Ls,s=e.contextType;return typeof s=="object"&&s!==null?s=jn(s):(r=an(e)?Qo:Nt.current,i=e.contextTypes,s=(i=i!=null)?Ql(n,r):Ls),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_p,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function mw(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&_p.enqueueReplaceState(e,e.state,null)}function hm(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},_y(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=jn(s):(s=an(e)?Qo:Nt.current,r.context=Ql(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cm(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&_p.enqueueReplaceState(r,r.state,null),Df(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function tu(n,e){try{var t="",i=e;do t+=Nx(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function wg(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function dm(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var uk=typeof WeakMap=="function"?WeakMap:Map;function mS(n,e,t){t=Ar(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){jf||(jf=!0,Sm=i),dm(n,e)},t}function vS(n,e,t){t=Ar(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){dm(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){dm(n,e),typeof i!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function vw(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new uk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=_k.bind(null,n,e,t),e.then(n,n))}function yw(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ww(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ar(-1,1),e.tag=2,Cs(t,e,1))),t.lanes|=1),n)}var ck=Fr.ReactCurrentOwner,rn=!1;function Bt(n,e,t,i){e.child=n===null?GE(e,null,t,i):Zl(e,n.child,t,i)}function Aw(n,e,t,i,r){t=t.render;var s=e.ref;return Va(e,r),i=Ty(n,e,t,i,s,r),t=Ry(),n!==null&&!rn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Rr(n,e,r)):(Le&&t&&my(e),e.flags|=1,Bt(n,e,i,r),e.child)}function Ew(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!Hy(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,yS(n,e,s,i,r)):(n=Nd(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:hc,t(o,i)&&n.ref===e.ref)return Rr(n,e,r)}return e.flags|=1,n=Rs(s,i),n.ref=e.ref,n.return=e,e.child=n}function yS(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(hc(s,i)&&n.ref===e.ref)if(rn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(rn=!0);else return e.lanes=n.lanes,Rr(n,e,r)}return fm(n,e,t,i,r)}function wS(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Ha,wn),wn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,xe(Ha,wn),wn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,xe(Ha,wn),wn|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,xe(Ha,wn),wn|=i;return Bt(n,e,r,t),e.child}function AS(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function fm(n,e,t,i,r){var s=an(t)?Qo:Nt.current;return s=Ql(e,s),Va(e,r),t=Ty(n,e,t,i,s,r),i=Ry(),n!==null&&!rn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Rr(n,e,r)):(Le&&i&&my(e),e.flags|=1,Bt(n,e,t,r),e.child)}function Sw(n,e,t,i,r){if(an(t)){var s=!0;Pf(e)}else s=!1;if(Va(e,r),e.stateNode===null)Id(n,e),gS(e,t,i),hm(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=jn(c):(c=an(t)?Qo:Nt.current,c=Ql(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&mw(e,o,i,c),Ur=!1;var f=e.memoizedState;o.state=f,Df(e,i,o,r),l=e.memoizedState,a!==i||f!==l||on.current||Ur?(typeof h=="function"&&(cm(e,t,h,i),l=e.memoizedState),(a=Ur||gw(e,t,a,i,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,YE(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=an(t)?Qo:Nt.current,l=Ql(e,l));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&mw(e,o,i,l),Ur=!1,f=e.memoizedState,o.state=f,Df(e,i,o,r);var m=e.memoizedState;a!==d||f!==m||on.current||Ur?(typeof p=="function"&&(cm(e,t,p,i),m=e.memoizedState),(c=Ur||gw(e,t,c,i,f,m,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return pm(n,e,t,i,s,r)}function pm(n,e,t,i,r,s){AS(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&aw(e,t,!1),Rr(n,e,s);i=e.stateNode,ck.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Zl(e,n.child,null,s),e.child=Zl(e,null,a,s)):Bt(n,e,a,s),e.memoizedState=i.state,r&&aw(e,t,!0),e.child}function ES(n){var e=n.stateNode;e.pendingContext?ow(n,e.pendingContext,e.pendingContext!==e.context):e.context&&ow(n,e.context,!1),by(n,e.containerInfo)}function _w(n,e,t,i,r){return Jl(),yy(r),e.flags|=256,Bt(n,e,t,i),e.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function mm(n){return{baseLanes:n,cachePool:null,transitions:null}}function SS(n,e,t){var i=e.pendingProps,r=Ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),xe(Ne,r&1),n===null)return lm(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cp(o,i,0,null),n=qo(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=mm(t),e.memoizedState=gm,n):My(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return hk(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Rs(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Rs(a,s):(s=qo(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?mm(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=gm,i}return s=n.child,n=s.sibling,i=Rs(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function My(n,e){return e=Cp({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function fd(n,e,t,i){return i!==null&&yy(i),Zl(e,n.child,null,t),n=My(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function hk(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=wg(Error(F(422))),fd(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Cp({mode:"visible",children:i.children},r,0,null),s=qo(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Zl(e,n.child,null,o),e.child.memoizedState=mm(o),e.memoizedState=gm,s);if(!(e.mode&1))return fd(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(F(419)),i=wg(s,i,void 0),fd(n,e,o,i)}if(a=(o&n.childLanes)!==0,rn||a){if(i=pt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Tr(n,r),hi(i,n,r,-1))}return $y(),i=wg(Error(F(421))),fd(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=bk.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,En=xs(r.nextSibling),Sn=e,Le=!0,li=null,n!==null&&(In[Fn++]=yr,In[Fn++]=wr,In[Fn++]=Jo,yr=n.id,wr=n.overflow,Jo=e),e=My(e,i.children),e.flags|=4096,e)}function bw(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),um(n.return,e,t)}function Ag(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function _S(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Bt(n,e,i.children,t),i=Ne.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bw(n,t,e);else if(n.tag===19)bw(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(xe(Ne,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Nf(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Ag(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Nf(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Ag(e,!0,t,null,s);break;case"together":Ag(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Id(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Rr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ea|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(F(153));if(e.child!==null){for(n=e.child,t=Rs(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Rs(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function dk(n,e,t){switch(e.tag){case 3:ES(e),Jl();break;case 5:KE(e);break;case 1:an(e.type)&&Pf(e);break;case 4:by(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;xe(If,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(xe(Ne,Ne.current&1),e.flags|=128,null):t&e.child.childLanes?SS(n,e,t):(xe(Ne,Ne.current&1),n=Rr(n,e,t),n!==null?n.sibling:null);xe(Ne,Ne.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return _S(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),xe(Ne,Ne.current),i)break;return null;case 22:case 23:return e.lanes=0,wS(n,e,t)}return Rr(n,e,t)}var bS,vm,xS,CS;bS=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};vm=function(){};xS=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Qs($i.current);var s=null;switch(t){case"input":r=Hg(n,r),i=Hg(n,i),s=[];break;case"select":r=He({},r,{value:void 0}),i=He({},i,{value:void 0}),s=[];break;case"textarea":r=Bg(n,r),i=Bg(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Tf)}Wg(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ce("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};CS=function(n,e,t,i){t!==i&&(e.flags|=4)};function yu(n,e){if(!Le)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Ct(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function fk(n,e,t){var i=e.pendingProps;switch(vy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return an(e.type)&&Rf(),Ct(e),null;case 3:return i=e.stateNode,eu(),Te(on),Te(Nt),Cy(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(hd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,li!==null&&(xm(li),li=null))),vm(n,e),Ct(e),null;case 5:xy(e);var r=Qs(mc.current);if(t=e.type,n!==null&&e.stateNode!=null)xS(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(F(166));return Ct(e),null}if(n=Qs($i.current),hd(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Ni]=e,i[pc]=s,n=(e.mode&1)!==0,t){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(r=0;r<Tu.length;r++)Ce(Tu[r],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":I0(i,s),Ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",i);break;case"textarea":D0(i,s),Ce("invalid",i)}Wg(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&cd(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cd(i.textContent,a,n),r=["children",""+a]):rc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",i)}switch(t){case"input":nd(i),F0(i,s,!0);break;case"textarea":nd(i),N0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Tf)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=eE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Ni]=e,n[pc]=i,bS(n,e,!1,!1),e.stateNode=n;e:{switch(o=Vg(t,i),t){case"dialog":Ce("cancel",n),Ce("close",n),r=i;break;case"iframe":case"object":case"embed":Ce("load",n),r=i;break;case"video":case"audio":for(r=0;r<Tu.length;r++)Ce(Tu[r],n);r=i;break;case"source":Ce("error",n),r=i;break;case"img":case"image":case"link":Ce("error",n),Ce("load",n),r=i;break;case"details":Ce("toggle",n),r=i;break;case"input":I0(n,i),r=Hg(n,i),Ce("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=He({},i,{value:void 0}),Ce("invalid",n);break;case"textarea":D0(n,i),r=Bg(n,i),Ce("invalid",n);break;default:r=i}Wg(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iE(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tE(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&sc(n,l):typeof l=="number"&&sc(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ce("scroll",n):l!=null&&ny(n,s,l,o))}switch(t){case"input":nd(n),F0(n,i,!1);break;case"textarea":nd(n),N0(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ps(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?za(n,!!i.multiple,s,!1):i.defaultValue!=null&&za(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Tf)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(n&&e.stateNode!=null)CS(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(F(166));if(t=Qs(mc.current),Qs($i.current),hd(e)){if(i=e.stateNode,t=e.memoizedProps,i[Ni]=e,(s=i.nodeValue!==t)&&(n=Sn,n!==null))switch(n.tag){case 3:cd(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&cd(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Ni]=e,e.stateNode=i}return Ct(e),null;case 13:if(Te(Ne),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Le&&En!==null&&e.mode&1&&!(e.flags&128))WE(),Jl(),e.flags|=98560,s=!1;else if(s=hd(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Ni]=e}else Jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),s=!1}else li!==null&&(xm(li),li=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Ne.current&1?rt===0&&(rt=3):$y())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return eu(),vm(n,e),n===null&&dc(e.stateNode.containerInfo),Ct(e),null;case 10:return Ey(e.type._context),Ct(e),null;case 17:return an(e.type)&&Rf(),Ct(e),null;case 19:if(Te(Ne),s=e.memoizedState,s===null)return Ct(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)yu(s,!1);else{if(rt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Nf(n),o!==null){for(e.flags|=128,yu(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return xe(Ne,Ne.current&1|2),e.child}n=n.sibling}s.tail!==null&&Ve()>nu&&(e.flags|=128,i=!0,yu(s,!1),e.lanes=4194304)}else{if(!i)if(n=Nf(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),yu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return Ct(e),null}else 2*Ve()-s.renderingStartTime>nu&&t!==1073741824&&(e.flags|=128,i=!0,yu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ve(),e.sibling=null,t=Ne.current,xe(Ne,i?t&1|2:t&1),e):(Ct(e),null);case 22:case 23:return Oy(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?wn&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function pk(n,e){switch(vy(e),e.tag){case 1:return an(e.type)&&Rf(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return eu(),Te(on),Te(Nt),Cy(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return xy(e),null;case 13:if(Te(Ne),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Jl()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Te(Ne),null;case 4:return eu(),null;case 10:return Ey(e.type._context),null;case 22:case 23:return Oy(),null;case 24:return null;default:return null}}var pd=!1,It=!1,gk=typeof WeakSet=="function"?WeakSet:Set,j=null;function $a(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Ue(n,e,i)}else t.current=null}function ym(n,e,t){try{t()}catch(i){Ue(n,e,i)}}var xw=!1;function mk(n,e){if(tm=xf,n=LE(),gy(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++c===r&&(a=o),f===s&&++h===i&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(nm={focusedElem:n,selectionRange:t},xf=!1,j=e;j!==null;)if(e=j,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,j=n;else for(;j!==null;){e=j;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,_=m.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Gn(e.type,v),_);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(x){Ue(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}return m=xw,xw=!1,m}function Qu(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&ym(e,t,s)}r=r.next}while(r!==i)}}function bp(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function wm(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function kS(n){var e=n.alternate;e!==null&&(n.alternate=null,kS(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ni],delete e[pc],delete e[sm],delete e[JC],delete e[ZC])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function TS(n){return n.tag===5||n.tag===3||n.tag===4}function Cw(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||TS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Am(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Tf));else if(i!==4&&(n=n.child,n!==null))for(Am(n,e,t),n=n.sibling;n!==null;)Am(n,e,t),n=n.sibling}function Em(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Em(n,e,t),n=n.sibling;n!==null;)Em(n,e,t),n=n.sibling}var wt=null,ai=!1;function $r(n,e,t){for(t=t.child;t!==null;)RS(n,e,t),t=t.sibling}function RS(n,e,t){if(Oi&&typeof Oi.onCommitFiberUnmount=="function")try{Oi.onCommitFiberUnmount(mp,t)}catch{}switch(t.tag){case 5:It||$a(t,e);case 6:var i=wt,r=ai;wt=null,$r(n,e,t),wt=i,ai=r,wt!==null&&(ai?(n=wt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):wt.removeChild(t.stateNode));break;case 18:wt!==null&&(ai?(n=wt,t=t.stateNode,n.nodeType===8?fg(n.parentNode,t):n.nodeType===1&&fg(n,t),uc(n)):fg(wt,t.stateNode));break;case 4:i=wt,r=ai,wt=t.stateNode.containerInfo,ai=!0,$r(n,e,t),wt=i,ai=r;break;case 0:case 11:case 14:case 15:if(!It&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ym(t,e,o),r=r.next}while(r!==i)}$r(n,e,t);break;case 1:if(!It&&($a(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Ue(t,e,a)}$r(n,e,t);break;case 21:$r(n,e,t);break;case 22:t.mode&1?(It=(i=It)||t.memoizedState!==null,$r(n,e,t),It=i):$r(n,e,t);break;default:$r(n,e,t)}}function kw(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new gk),e.forEach(function(i){var r=xk.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Wn(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,ai=!1;break e;case 3:wt=a.stateNode.containerInfo,ai=!0;break e;case 4:wt=a.stateNode.containerInfo,ai=!0;break e}a=a.return}if(wt===null)throw Error(F(160));RS(s,o,r),wt=null,ai=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Ue(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PS(e,n),e=e.sibling}function PS(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Wn(e,n),gi(n),i&4){try{Qu(3,n,n.return),bp(3,n)}catch(v){Ue(n,n.return,v)}try{Qu(5,n,n.return)}catch(v){Ue(n,n.return,v)}}break;case 1:Wn(e,n),gi(n),i&512&&t!==null&&$a(t,t.return);break;case 5:if(Wn(e,n),gi(n),i&512&&t!==null&&$a(t,t.return),n.flags&32){var r=n.stateNode;try{sc(r,"")}catch(v){Ue(n,n.return,v)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&JA(r,s),Vg(a,o);var c=Vg(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?iE(r,d):h==="dangerouslySetInnerHTML"?tE(r,d):h==="children"?sc(r,d):ny(r,h,d,c)}switch(a){case"input":jg(r,s);break;case"textarea":ZA(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?za(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?za(r,!!s.multiple,s.defaultValue,!0):za(r,!!s.multiple,s.multiple?[]:"",!1))}r[pc]=s}catch(v){Ue(n,n.return,v)}}break;case 6:if(Wn(e,n),gi(n),i&4){if(n.stateNode===null)throw Error(F(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(v){Ue(n,n.return,v)}}break;case 3:if(Wn(e,n),gi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{uc(e.containerInfo)}catch(v){Ue(n,n.return,v)}break;case 4:Wn(e,n),gi(n);break;case 13:Wn(e,n),gi(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Dy=Ve())),i&4&&kw(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(It=(c=It)||h,Wn(e,n),It=c):Wn(e,n),gi(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(j=n,h=n.child;h!==null;){for(d=j=h;j!==null;){switch(f=j,p=f.child,f.tag){case 0:case 11:case 14:case 15:Qu(4,f,f.return);break;case 1:$a(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Ue(i,t,v)}}break;case 5:$a(f,f.return);break;case 22:if(f.memoizedState!==null){Rw(d);continue}}p!==null?(p.return=f,j=p):Rw(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=nE("display",o))}catch(v){Ue(n,n.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Ue(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wn(e,n),gi(n),i&4&&kw(n);break;case 21:break;default:Wn(e,n),gi(n)}}function gi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(TS(t)){var i=t;break e}t=t.return}throw Error(F(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(sc(r,""),i.flags&=-33);var s=Cw(n);Em(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Cw(n);Am(n,a,o);break;default:throw Error(F(161))}}catch(l){Ue(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function vk(n,e,t){j=n,LS(n)}function LS(n,e,t){for(var i=(n.mode&1)!==0;j!==null;){var r=j,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||pd;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||It;a=pd;var c=It;if(pd=o,(It=l)&&!c)for(j=r;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?Pw(r):l!==null?(l.return=o,j=l):Pw(r);for(;s!==null;)j=s,LS(s),s=s.sibling;j=r,pd=a,It=c}Tw(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,j=s):Tw(n)}}function Tw(n){for(;j!==null;){var e=j;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||bp(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!It)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Gn(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dw(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}dw(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&uc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}It||e.flags&512&&wm(e)}catch(f){Ue(e,e.return,f)}}if(e===n){j=null;break}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}}function Rw(n){for(;j!==null;){var e=j;if(e===n){j=null;break}var t=e.sibling;if(t!==null){t.return=e.return,j=t;break}j=e.return}}function Pw(n){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{bp(4,e)}catch(l){Ue(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Ue(e,r,l)}}var s=e.return;try{wm(e)}catch(l){Ue(e,s,l)}break;case 5:var o=e.return;try{wm(e)}catch(l){Ue(e,o,l)}}}catch(l){Ue(e,e.return,l)}if(e===n){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var yk=Math.ceil,Hf=Fr.ReactCurrentDispatcher,Iy=Fr.ReactCurrentOwner,$n=Fr.ReactCurrentBatchConfig,ce=0,pt=null,qe=null,At=0,wn=0,Ha=Os(0),rt=0,Ac=null,ea=0,xp=0,Fy=0,Ju=null,nn=null,Dy=0,nu=1/0,Ui=null,jf=!1,Sm=null,ks=null,gd=!1,Es=null,zf=0,Zu=0,_m=null,Fd=-1,Dd=0;function Wt(){return ce&6?Ve():Fd!==-1?Fd:Fd=Ve()}function Ts(n){return n.mode&1?ce&2&&At!==0?At&-At:tk.transition!==null?(Dd===0&&(Dd=gE()),Dd):(n=we,n!==0||(n=window.event,n=n===void 0?16:SE(n.type)),n):1}function hi(n,e,t,i){if(50<Zu)throw Zu=0,_m=null,Error(F(185));Hh(n,t,i),(!(ce&2)||n!==pt)&&(n===pt&&(!(ce&2)&&(xp|=t),rt===4&&Vr(n,At)),ln(n,i),t===1&&ce===0&&!(e.mode&1)&&(nu=Ve()+500,Ep&&$s()))}function ln(n,e){var t=n.callbackNode;tC(n,e);var i=bf(n,n===pt?At:0);if(i===0)t!==null&&H0(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&H0(t),e===1)n.tag===0?ek(Lw.bind(null,n)):zE(Lw.bind(null,n)),qC(function(){!(ce&6)&&$s()}),t=null;else{switch(mE(i)){case 1:t=ay;break;case 4:t=fE;break;case 16:t=_f;break;case 536870912:t=pE;break;default:t=_f}t=HS(t,MS.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function MS(n,e){if(Fd=-1,Dd=0,ce&6)throw Error(F(327));var t=n.callbackNode;if(Ga()&&n.callbackNode!==t)return null;var i=bf(n,n===pt?At:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Bf(n,i);else{e=i;var r=ce;ce|=2;var s=FS();(pt!==n||At!==e)&&(Ui=null,nu=Ve()+500,Ko(n,e));do try{Ek();break}catch(a){IS(n,a)}while(!0);Ay(),Hf.current=s,ce=r,qe!==null?e=0:(pt=null,At=0,e=rt)}if(e!==0){if(e===2&&(r=qg(n),r!==0&&(i=r,e=bm(n,r))),e===1)throw t=Ac,Ko(n,0),Vr(n,i),ln(n,Ve()),t;if(e===6)Vr(n,i);else{if(r=n.current.alternate,!(i&30)&&!wk(r)&&(e=Bf(n,i),e===2&&(s=qg(n),s!==0&&(i=s,e=bm(n,s))),e===1))throw t=Ac,Ko(n,0),Vr(n,i),ln(n,Ve()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(F(345));case 2:Bs(n,nn,Ui);break;case 3:if(Vr(n,i),(i&130023424)===i&&(e=Dy+500-Ve(),10<e)){if(bf(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Wt(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=rm(Bs.bind(null,n,nn,Ui),e);break}Bs(n,nn,Ui);break;case 4:if(Vr(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-ci(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*yk(i/1960))-i,10<i){n.timeoutHandle=rm(Bs.bind(null,n,nn,Ui),i);break}Bs(n,nn,Ui);break;case 5:Bs(n,nn,Ui);break;default:throw Error(F(329))}}}return ln(n,Ve()),n.callbackNode===t?MS.bind(null,n):null}function bm(n,e){var t=Ju;return n.current.memoizedState.isDehydrated&&(Ko(n,e).flags|=256),n=Bf(n,e),n!==2&&(e=nn,nn=t,e!==null&&xm(e)),n}function xm(n){nn===null?nn=n:nn.push.apply(nn,n)}function wk(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!di(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(n,e){for(e&=~Fy,e&=~xp,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ci(e),i=1<<t;n[t]=-1,e&=~i}}function Lw(n){if(ce&6)throw Error(F(327));Ga();var e=bf(n,0);if(!(e&1))return ln(n,Ve()),null;var t=Bf(n,e);if(n.tag!==0&&t===2){var i=qg(n);i!==0&&(e=i,t=bm(n,i))}if(t===1)throw t=Ac,Ko(n,0),Vr(n,e),ln(n,Ve()),t;if(t===6)throw Error(F(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Bs(n,nn,Ui),ln(n,Ve()),null}function Ny(n,e){var t=ce;ce|=1;try{return n(e)}finally{ce=t,ce===0&&(nu=Ve()+500,Ep&&$s())}}function ta(n){Es!==null&&Es.tag===0&&!(ce&6)&&Ga();var e=ce;ce|=1;var t=$n.transition,i=we;try{if($n.transition=null,we=1,n)return n()}finally{we=i,$n.transition=t,ce=e,!(ce&6)&&$s()}}function Oy(){wn=Ha.current,Te(Ha)}function Ko(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,KC(t)),qe!==null)for(t=qe.return;t!==null;){var i=t;switch(vy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Rf();break;case 3:eu(),Te(on),Te(Nt),Cy();break;case 5:xy(i);break;case 4:eu();break;case 13:Te(Ne);break;case 19:Te(Ne);break;case 10:Ey(i.type._context);break;case 22:case 23:Oy()}t=t.return}if(pt=n,qe=n=Rs(n.current,null),At=wn=e,rt=0,Ac=null,Fy=xp=ea=0,nn=Ju=null,qs!==null){for(e=0;e<qs.length;e++)if(t=qs[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}qs=null}return n}function IS(n,e){do{var t=qe;try{if(Ay(),Ld.current=$f,Of){for(var i=Oe.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Of=!1}if(Zo=0,ft=nt=Oe=null,qu=!1,vc=0,Iy.current=null,t===null||t.return===null){rt=1,Ac=e,qe=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=yw(o);if(p!==null){p.flags&=-257,ww(p,o,a,s,e),p.mode&1&&vw(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){vw(s,c,e),$y();break e}l=Error(F(426))}}else if(Le&&a.mode&1){var _=yw(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ww(_,o,a,s,e),yy(tu(l,a));break e}}s=l=tu(l,a),rt!==4&&(rt=2),Ju===null?Ju=[s]:Ju.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=mS(s,l,e);hw(s,g);break e;case 1:a=l;var y=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ks===null||!ks.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=vS(s,a,e);hw(s,x);break e}}s=s.return}while(s!==null)}NS(t)}catch(C){e=C,qe===t&&t!==null&&(qe=t=t.return);continue}break}while(!0)}function FS(){var n=Hf.current;return Hf.current=$f,n===null?$f:n}function $y(){(rt===0||rt===3||rt===2)&&(rt=4),pt===null||!(ea&268435455)&&!(xp&268435455)||Vr(pt,At)}function Bf(n,e){var t=ce;ce|=2;var i=FS();(pt!==n||At!==e)&&(Ui=null,Ko(n,e));do try{Ak();break}catch(r){IS(n,r)}while(!0);if(Ay(),ce=t,Hf.current=i,qe!==null)throw Error(F(261));return pt=null,At=0,rt}function Ak(){for(;qe!==null;)DS(qe)}function Ek(){for(;qe!==null&&!Gx();)DS(qe)}function DS(n){var e=$S(n.alternate,n,wn);n.memoizedProps=n.pendingProps,e===null?NS(n):qe=e,Iy.current=null}function NS(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=pk(t,e),t!==null){t.flags&=32767,qe=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{rt=6,qe=null;return}}else if(t=fk(t,e,wn),t!==null){qe=t;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=n}while(e!==null);rt===0&&(rt=5)}function Bs(n,e,t){var i=we,r=$n.transition;try{$n.transition=null,we=1,Sk(n,e,t,i)}finally{$n.transition=r,we=i}return null}function Sk(n,e,t,i){do Ga();while(Es!==null);if(ce&6)throw Error(F(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(F(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(nC(n,s),n===pt&&(qe=pt=null,At=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||gd||(gd=!0,HS(_f,function(){return Ga(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=$n.transition,$n.transition=null;var o=we;we=1;var a=ce;ce|=4,Iy.current=null,mk(n,t),PS(t,n),BC(nm),xf=!!tm,nm=tm=null,n.current=t,vk(t),Xx(),ce=a,we=o,$n.transition=s}else n.current=t;if(gd&&(gd=!1,Es=n,zf=r),s=n.pendingLanes,s===0&&(ks=null),qx(t.stateNode),ln(n,Ve()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(jf)throw jf=!1,n=Sm,Sm=null,n;return zf&1&&n.tag!==0&&Ga(),s=n.pendingLanes,s&1?n===_m?Zu++:(Zu=0,_m=n):Zu=0,$s(),null}function Ga(){if(Es!==null){var n=mE(zf),e=$n.transition,t=we;try{if($n.transition=null,we=16>n?16:n,Es===null)var i=!1;else{if(n=Es,Es=null,zf=0,ce&6)throw Error(F(331));var r=ce;for(ce|=4,j=n.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(j=c;j!==null;){var h=j;switch(h.tag){case 0:case 11:case 15:Qu(8,h,s)}var d=h.child;if(d!==null)d.return=h,j=d;else for(;j!==null;){h=j;var f=h.sibling,p=h.return;if(kS(h),h===c){j=null;break}if(f!==null){f.return=p,j=f;break}j=p}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qu(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,j=g;break e}j=s.return}}var y=n.current;for(j=y;j!==null;){o=j;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,j=A;else e:for(o=y;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bp(9,a)}}catch(C){Ue(a,a.return,C)}if(a===o){j=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,j=x;break e}j=a.return}}if(ce=r,$s(),Oi&&typeof Oi.onPostCommitFiberRoot=="function")try{Oi.onPostCommitFiberRoot(mp,n)}catch{}i=!0}return i}finally{we=t,$n.transition=e}}return!1}function Mw(n,e,t){e=tu(t,e),e=mS(n,e,1),n=Cs(n,e,1),e=Wt(),n!==null&&(Hh(n,1,e),ln(n,e))}function Ue(n,e,t){if(n.tag===3)Mw(n,n,t);else for(;e!==null;){if(e.tag===3){Mw(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ks===null||!ks.has(i))){n=tu(t,n),n=vS(e,n,1),e=Cs(e,n,1),n=Wt(),e!==null&&(Hh(e,1,n),ln(e,n));break}}e=e.return}}function _k(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Wt(),n.pingedLanes|=n.suspendedLanes&t,pt===n&&(At&t)===t&&(rt===4||rt===3&&(At&130023424)===At&&500>Ve()-Dy?Ko(n,0):Fy|=t),ln(n,e)}function OS(n,e){e===0&&(n.mode&1?(e=sd,sd<<=1,!(sd&130023424)&&(sd=4194304)):e=1);var t=Wt();n=Tr(n,e),n!==null&&(Hh(n,e,t),ln(n,t))}function bk(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),OS(n,t)}function xk(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(F(314))}i!==null&&i.delete(e),OS(n,t)}var $S;$S=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||on.current)rn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return rn=!1,dk(n,e,t);rn=!!(n.flags&131072)}else rn=!1,Le&&e.flags&1048576&&BE(e,Mf,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Id(n,e),n=e.pendingProps;var r=Ql(e,Nt.current);Va(e,t),r=Ty(null,e,i,n,r,t);var s=Ry();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(i)?(s=!0,Pf(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,_y(e),r.updater=_p,e.stateNode=r,r._reactInternals=e,hm(e,i,n,t),e=pm(null,e,i,!0,s,t)):(e.tag=0,Le&&s&&my(e),Bt(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Id(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=kk(i),n=Gn(i,n),r){case 0:e=fm(null,e,i,n,t);break e;case 1:e=Sw(null,e,i,n,t);break e;case 11:e=Aw(null,e,i,n,t);break e;case 14:e=Ew(null,e,i,Gn(i.type,n),t);break e}throw Error(F(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gn(i,r),fm(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gn(i,r),Sw(n,e,i,r,t);case 3:e:{if(ES(e),n===null)throw Error(F(387));i=e.pendingProps,s=e.memoizedState,r=s.element,YE(n,e),Df(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=tu(Error(F(423)),e),e=_w(n,e,i,t,r);break e}else if(i!==r){r=tu(Error(F(424)),e),e=_w(n,e,i,t,r);break e}else for(En=xs(e.stateNode.containerInfo.firstChild),Sn=e,Le=!0,li=null,t=GE(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Jl(),i===r){e=Rr(n,e,t);break e}Bt(n,e,i,t)}e=e.child}return e;case 5:return KE(e),n===null&&lm(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,im(i,r)?o=null:s!==null&&im(i,s)&&(e.flags|=32),AS(n,e),Bt(n,e,o,t),e.child;case 6:return n===null&&lm(e),null;case 13:return SS(n,e,t);case 4:return by(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Zl(e,null,i,t):Bt(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gn(i,r),Aw(n,e,i,r,t);case 7:return Bt(n,e,e.pendingProps,t),e.child;case 8:return Bt(n,e,e.pendingProps.children,t),e.child;case 12:return Bt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,xe(If,i._currentValue),i._currentValue=o,s!==null)if(di(s.value,o)){if(s.children===r.children&&!on.current){e=Rr(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Ar(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),um(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),um(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Bt(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Va(e,t),r=jn(r),i=i(r),e.flags|=1,Bt(n,e,i,t),e.child;case 14:return i=e.type,r=Gn(i,e.pendingProps),r=Gn(i.type,r),Ew(n,e,i,r,t);case 15:return yS(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gn(i,r),Id(n,e),e.tag=1,an(i)?(n=!0,Pf(e)):n=!1,Va(e,t),gS(e,i,r),hm(e,i,r,t),pm(null,e,i,!0,n,t);case 19:return _S(n,e,t);case 22:return wS(n,e,t)}throw Error(F(156,e.tag))};function HS(n,e){return dE(n,e)}function Ck(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,e,t,i){return new Ck(n,e,t,i)}function Hy(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kk(n){if(typeof n=="function")return Hy(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ry)return 11;if(n===sy)return 14}return 2}function Rs(n,e){var t=n.alternate;return t===null?(t=On(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Nd(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")Hy(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ra:return qo(t.children,r,s,e);case iy:o=8,r|=8;break;case Dg:return n=On(12,t,e,r|2),n.elementType=Dg,n.lanes=s,n;case Ng:return n=On(13,t,e,r),n.elementType=Ng,n.lanes=s,n;case Og:return n=On(19,t,e,r),n.elementType=Og,n.lanes=s,n;case KA:return Cp(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case XA:o=10;break e;case YA:o=9;break e;case ry:o=11;break e;case sy:o=14;break e;case Br:o=16,i=null;break e}throw Error(F(130,n==null?n:typeof n,""))}return e=On(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function qo(n,e,t,i){return n=On(7,n,i,e),n.lanes=t,n}function Cp(n,e,t,i){return n=On(22,n,i,e),n.elementType=KA,n.lanes=t,n.stateNode={isHidden:!1},n}function Eg(n,e,t){return n=On(6,n,null,e),n.lanes=t,n}function Sg(n,e,t){return e=On(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Tk(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ng(0),this.expirationTimes=ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ng(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function jy(n,e,t,i,r,s,o,a,l){return n=new Tk(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=On(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},_y(s),n}function Rk(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ta,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function jS(n){if(!n)return Ls;n=n._reactInternals;e:{if(ca(n)!==n||n.tag!==1)throw Error(F(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(n.tag===1){var t=n.type;if(an(t))return jE(n,t,e)}return e}function zS(n,e,t,i,r,s,o,a,l){return n=jy(t,i,!0,n,r,s,o,a,l),n.context=jS(null),t=n.current,i=Wt(),r=Ts(t),s=Ar(i,r),s.callback=e??null,Cs(t,s,r),n.current.lanes=r,Hh(n,r,i),ln(n,i),n}function kp(n,e,t,i){var r=e.current,s=Wt(),o=Ts(r);return t=jS(t),e.context===null?e.context=t:e.pendingContext=t,e=Ar(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Cs(r,e,o),n!==null&&(hi(n,r,o,s),Pd(n,r,o)),o}function Uf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Iw(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function zy(n,e){Iw(n,e),(n=n.alternate)&&Iw(n,e)}function Pk(){return null}var BS=typeof reportError=="function"?reportError:function(n){console.error(n)};function By(n){this._internalRoot=n}Tp.prototype.render=By.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(F(409));kp(n,e,null,null)};Tp.prototype.unmount=By.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ta(function(){kp(null,n,null,null)}),e[kr]=null}};function Tp(n){this._internalRoot=n}Tp.prototype.unstable_scheduleHydration=function(n){if(n){var e=wE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Wr.length&&e!==0&&e<Wr[t].priority;t++);Wr.splice(t,0,n),t===0&&EE(n)}};function Uy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Rp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Fw(){}function Lk(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Uf(o);s.call(c)}}var o=zS(e,i,n,0,null,!1,!1,"",Fw);return n._reactRootContainer=o,n[kr]=o.current,dc(n.nodeType===8?n.parentNode:n),ta(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Uf(l);a.call(c)}}var l=jy(n,0,!1,null,null,!1,!1,"",Fw);return n._reactRootContainer=l,n[kr]=l.current,dc(n.nodeType===8?n.parentNode:n),ta(function(){kp(e,l,t,i)}),l}function Pp(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Uf(o);a.call(l)}}kp(e,o,n,r)}else o=Lk(t,e,n,r,i);return Uf(o)}vE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ku(e.pendingLanes);t!==0&&(ly(e,t|1),ln(e,Ve()),!(ce&6)&&(nu=Ve()+500,$s()))}break;case 13:ta(function(){var i=Tr(n,1);if(i!==null){var r=Wt();hi(i,n,1,r)}}),zy(n,1)}};uy=function(n){if(n.tag===13){var e=Tr(n,134217728);if(e!==null){var t=Wt();hi(e,n,134217728,t)}zy(n,134217728)}};yE=function(n){if(n.tag===13){var e=Ts(n),t=Tr(n,e);if(t!==null){var i=Wt();hi(t,n,e,i)}zy(n,e)}};wE=function(){return we};AE=function(n,e){var t=we;try{return we=n,e()}finally{we=t}};Xg=function(n,e,t){switch(e){case"input":if(jg(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Ap(i);if(!r)throw Error(F(90));QA(i),jg(i,r)}}}break;case"textarea":ZA(n,t);break;case"select":e=t.value,e!=null&&za(n,!!t.multiple,e,!1)}};oE=Ny;aE=ta;var Mk={usingClientEntryPoint:!1,Events:[zh,Ia,Ap,rE,sE,Ny]},wu={findFiberByHostInstance:Ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ik={bundleType:wu.bundleType,version:wu.version,rendererPackageName:wu.rendererPackageName,rendererConfig:wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=cE(n),n===null?null:n.stateNode},findFiberByHostInstance:wu.findFiberByHostInstance||Pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{mp=md.inject(Ik),Oi=md}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mk;xn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uy(e))throw Error(F(200));return Rk(n,e,null,t)};xn.createRoot=function(n,e){if(!Uy(n))throw Error(F(299));var t=!1,i="",r=BS;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=jy(n,1,!1,null,null,t,!1,i,r),n[kr]=e.current,dc(n.nodeType===8?n.parentNode:n),new By(e)};xn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(F(188)):(n=Object.keys(n).join(","),Error(F(268,n)));return n=cE(e),n=n===null?null:n.stateNode,n};xn.flushSync=function(n){return ta(n)};xn.hydrate=function(n,e,t){if(!Rp(e))throw Error(F(200));return Pp(null,n,e,!0,t)};xn.hydrateRoot=function(n,e,t){if(!Uy(n))throw Error(F(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=BS;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=zS(e,null,n,1,t??null,r,!1,s,o),n[kr]=e.current,dc(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Tp(e)};xn.render=function(n,e,t){if(!Rp(e))throw Error(F(200));return Pp(null,n,e,!1,t)};xn.unmountComponentAtNode=function(n){if(!Rp(n))throw Error(F(40));return n._reactRootContainer?(ta(function(){Pp(null,null,n,!1,function(){n._reactRootContainer=null,n[kr]=null})}),!0):!1};xn.unstable_batchedUpdates=Ny;xn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Rp(t))throw Error(F(200));if(n==null||n._reactInternals===void 0)throw Error(F(38));return Pp(n,e,t,!1,i)};xn.version="18.3.1-next-f1338f8080-20240426";function US(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(US)}catch(n){console.error(n)}}US(),UA.exports=xn;var Fk=UA.exports,WS,Dw=Fk;WS=Dw.createRoot,Dw.hydrateRoot;var Wy={};Wy.match=jk;Wy.parse=VS;var Dk=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,Nk=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,Ok=/^(?:(min|max)-)?(.+)/,$k=/(em|rem|px|cm|mm|in|pt|pc)?$/,Hk=/(dpi|dpcm|dppx)?$/;function jk(n,e){return VS(n).some(function(t){var i=t.inverse,r=t.type==="all"||e.type===t.type;if(r&&i||!(r||i))return!1;var s=t.expressions.every(function(o){var a=o.feature,l=o.modifier,c=o.value,h=e[a];if(!h)return!1;switch(a){case"orientation":case"scan":return h.toLowerCase()===c.toLowerCase();case"width":case"height":case"device-width":case"device-height":c=$w(c),h=$w(h);break;case"resolution":c=Ow(c),h=Ow(h);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":c=Nw(c),h=Nw(h);break;case"grid":case"color":case"color-index":case"monochrome":c=parseInt(c,10)||1,h=parseInt(h,10)||0;break}switch(l){case"min":return h>=c;case"max":return h<=c;default:return h===c}});return s&&!i||!s&&i})}function VS(n){return n.split(",").map(function(e){e=e.trim();var t=e.match(Dk),i=t[1],r=t[2],s=t[3]||"",o={};return o.inverse=!!i&&i.toLowerCase()==="not",o.type=r?r.toLowerCase():"all",s=s.match(/\([^\)]+\)/g)||[],o.expressions=s.map(function(a){var l=a.match(Nk),c=l[1].toLowerCase().match(Ok);return{modifier:c[1],feature:c[2],value:l[2]}}),o})}function Nw(n){var e=Number(n),t;return e||(t=n.match(/^(\d+)\s*\/\s*(\d+)$/),e=t[1]/t[2]),e}function Ow(n){var e=parseFloat(n),t=String(n).match(Hk)[1];switch(t){case"dpcm":return e/2.54;case"dppx":return e*96;default:return e}}function $w(n){var e=parseFloat(n),t=String(n).match($k)[1];switch(t){case"em":return e*16;case"rem":return e*16;case"cm":return e*96/2.54;case"mm":return e*96/2.54/10;case"in":return e*96;case"pt":return e*72;case"pc":return e*72/12;default:return e}}var zk=Wy.match,Hw=typeof window<"u"?window.matchMedia:null;function Bk(n,e,t){var i=this,r;Hw&&!t&&(r=Hw.call(window,n)),r?(this.matches=r.matches,this.media=r.media,r.addListener(a)):(this.matches=zk(n,e),this.media=n),this.addListener=s,this.removeListener=o,this.dispose=l;function s(c){r&&r.addListener(c)}function o(c){r&&r.removeListener(c)}function a(c){i.matches=c.matches,i.media=c.media}function l(){r&&r.removeListener(a)}}function Uk(n,e,t){return new Bk(n,e,t)}var Wk=Uk;const Vk=pp(Wk);var Gk=/[A-Z]/g,Xk=/^ms-/,_g={};function Yk(n){return"-"+n.toLowerCase()}function GS(n){if(_g.hasOwnProperty(n))return _g[n];var e=n.replace(Gk,Yk);return _g[n]=Xk.test(e)?"-"+e:e}function Kk(n,e){if(n===e)return!0;if(!n||!e)return!1;const t=Object.keys(n),i=Object.keys(e),r=t.length;if(i.length!==r)return!1;for(let s=0;s<r;s++){const o=t[s];if(n[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}var XS={exports:{}},qk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Qk=qk,Jk=Qk;function YS(){}function KS(){}KS.resetWarningCache=YS;var Zk=function(){function n(i,r,s,o,a,l){if(l!==Jk){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:KS,resetWarningCache:YS};return t.PropTypes=t,t};XS.exports=Zk();var eT=XS.exports;const de=pp(eT),zt=de.oneOfType([de.string,de.number]),Vy={all:de.bool,grid:de.bool,aural:de.bool,braille:de.bool,handheld:de.bool,print:de.bool,projection:de.bool,screen:de.bool,tty:de.bool,tv:de.bool,embossed:de.bool},qS={orientation:de.oneOf(["portrait","landscape"]),scan:de.oneOf(["progressive","interlace"]),aspectRatio:de.string,deviceAspectRatio:de.string,height:zt,deviceHeight:zt,width:zt,deviceWidth:zt,color:de.bool,colorIndex:de.bool,monochrome:de.bool,resolution:zt,type:Object.keys(Vy)},{type:ZF,...tT}=qS,QS={minAspectRatio:de.string,maxAspectRatio:de.string,minDeviceAspectRatio:de.string,maxDeviceAspectRatio:de.string,minHeight:zt,maxHeight:zt,minDeviceHeight:zt,maxDeviceHeight:zt,minWidth:zt,maxWidth:zt,minDeviceWidth:zt,maxDeviceWidth:zt,minColor:de.number,maxColor:de.number,minColorIndex:de.number,maxColorIndex:de.number,minMonochrome:de.number,maxMonochrome:de.number,minResolution:zt,maxResolution:zt,...tT},nT={...Vy,...QS};var iT={all:nT,types:Vy,matchers:qS,features:QS};const rT=n=>`not ${n}`,sT=(n,e)=>{const t=GS(n);return typeof e=="number"&&(e=`${e}px`),e===!0?t:e===!1?rT(t):`(${t}: ${e})`},oT=n=>n.join(" and "),aT=n=>{const e=[];return Object.keys(iT.all).forEach(t=>{const i=n[t];i!=null&&e.push(sT(t,i))}),oT(e)},lT=b.createContext(void 0),uT=n=>n.query||aT(n),jw=n=>n?Object.keys(n).reduce((t,i)=>(t[GS(i)]=n[i],t),{}):void 0,JS=()=>{const n=b.useRef(!1);return b.useEffect(()=>{n.current=!0},[]),n.current},cT=n=>{const e=b.useContext(lT),t=()=>jw(n)||jw(e),[i,r]=b.useState(t);return b.useEffect(()=>{const s=t();Kk(i,s)||r(s)},[n,e]),i},hT=n=>{const e=()=>uT(n),[t,i]=b.useState(e);return b.useEffect(()=>{const r=e();t!==r&&i(r)},[n]),t},dT=(n,e)=>{const t=()=>Vk(n,e||{},!!e),[i,r]=b.useState(t),s=JS();return b.useEffect(()=>{if(s){const o=t();return r(o),()=>{o&&o.dispose()}}},[n,e]),i},fT=n=>{const[e,t]=b.useState(n.matches);return b.useEffect(()=>{const i=r=>{t(r.matches)};return n.addListener(i),t(n.matches),()=>{n.removeListener(i)}},[n]),e},pT=(n,e,t)=>{const i=cT(e),r=hT(n);if(!r)throw new Error("Invalid or missing MediaQuery!");const s=dT(r,i),o=fT(s),a=JS();return b.useEffect(()=>{a&&t&&t(o)},[o]),b.useEffect(()=>()=>{s&&s.dispose()},[]),o},zw="/assets/logo-Cnkx7HzV.png";var Gy={};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.parse=ET;Gy.serialize=ST;const gT=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,mT=/^[\u0021-\u003A\u003C-\u007E]*$/,vT=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,yT=/^[\u0020-\u003A\u003D-\u007E]*$/,wT=Object.prototype.toString,AT=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function ET(n,e){const t=new AT,i=n.length;if(i<2)return t;const r=(e==null?void 0:e.decode)||_T;let s=0;do{const o=n.indexOf("=",s);if(o===-1)break;const a=n.indexOf(";",s),l=a===-1?i:a;if(o>l){s=n.lastIndexOf(";",o-1)+1;continue}const c=Bw(n,s,o),h=Uw(n,o,c),d=n.slice(c,h);if(t[d]===void 0){let f=Bw(n,o+1,l),p=Uw(n,l,f);const m=r(n.slice(f,p));t[d]=m}s=l+1}while(s<i);return t}function Bw(n,e,t){do{const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}while(++e<t);return t}function Uw(n,e,t){for(;e>t;){const i=n.charCodeAt(--e);if(i!==32&&i!==9)return e+1}return t}function ST(n,e,t){const i=(t==null?void 0:t.encode)||encodeURIComponent;if(!gT.test(n))throw new TypeError(`argument name is invalid: ${n}`);const r=i(e);if(!mT.test(r))throw new TypeError(`argument val is invalid: ${e}`);let s=n+"="+r;if(!t)return s;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);s+="; Max-Age="+t.maxAge}if(t.domain){if(!vT.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);s+="; Domain="+t.domain}if(t.path){if(!yT.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);s+="; Path="+t.path}if(t.expires){if(!bT(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);s+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(s+="; HttpOnly"),t.secure&&(s+="; Secure"),t.partitioned&&(s+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return s}function _T(n){if(n.indexOf("%")===-1)return n;try{return decodeURIComponent(n)}catch{return n}}function bT(n){return wT.call(n)==="[object Date]"}/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Pr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cm({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xy(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function ZS(n,e,t="/"){return xT(n,e,t,!1)}function xT(n,e,t,i){let r=typeof e=="string"?Xy(e):e,s=na(r.pathname||"/",t);if(s==null)return null;let o=e_(n);CT(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=OT(s);a=DT(o[l],c,i)}return a}function e_(n,e=[],t=[],i=""){let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Et(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=Er([i,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(Et(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),e_(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:IT(c,s.index),routesMeta:h})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of t_(s.path))r(s,o,l)}),e}function t_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=t_(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function CT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var kT=/^:[\w-]+$/,TT=3,RT=2,PT=1,LT=10,MT=-2,Ww=n=>n==="*";function IT(n,e){let t=n.split("/"),i=t.length;return t.some(Ww)&&(i+=MT),e&&(i+=RT),t.filter(r=>!Ww(r)).reduce((r,s)=>r+(kT.test(s)?TT:s===""?PT:LT),i)}function FT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function DT(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=Wf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&t&&!i[i.length-1].route.index&&(d=Wf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Er([s,d.pathname]),pathnameBase:zT(Er([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Er([s,d.pathnameBase]))}return o}function Wf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=NT(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:d},f)=>{if(h==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function NT(n,e=!1,t=!0){Pr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function OT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function na(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function $T(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Xy(n):n;return{pathname:t?t.startsWith("/")?t:HT(t,e):e,search:BT(i),hash:UT(r)}}function HT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function bg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function n_(n){let e=jT(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function i_(n,e,t,i=!1){let r;typeof n=="string"?r=Xy(n):(r={...n},Et(!r.pathname||!r.pathname.includes("?"),bg("?","pathname","search",r)),Et(!r.pathname||!r.pathname.includes("#"),bg("#","pathname","hash",r)),Et(!r.search||!r.search.includes("#"),bg("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=$T(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var Er=n=>n.join("/").replace(/\/\/+/g,"/"),zT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,UT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function WT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var r_=["POST","PUT","PATCH","DELETE"];new Set(r_);var VT=["GET",...r_];new Set(VT);var au=b.createContext(null);au.displayName="DataRouter";var Lp=b.createContext(null);Lp.displayName="DataRouterState";var s_=b.createContext({isTransitioning:!1});s_.displayName="ViewTransition";var GT=b.createContext(new Map);GT.displayName="Fetchers";var XT=b.createContext(null);XT.displayName="Await";var Dr=b.createContext(null);Dr.displayName="Navigation";var Yy=b.createContext(null);Yy.displayName="Location";var Nr=b.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Ky=b.createContext(null);Ky.displayName="RouteError";function YT(n,{relative:e}={}){Et(Mp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=b.useContext(Dr),{hash:r,pathname:s,search:o}=Uh(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:Er([t,s])),i.createHref({pathname:a,search:o,hash:r})}function Mp(){return b.useContext(Yy)!=null}function ha(){return Et(Mp(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Yy).location}var o_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a_(n){b.useContext(Dr).static||b.useLayoutEffect(n)}function KT(){let{isDataRoute:n}=b.useContext(Nr);return n?lR():qT()}function qT(){Et(Mp(),"useNavigate() may be used only in the context of a <Router> component.");let n=b.useContext(au),{basename:e,navigator:t}=b.useContext(Dr),{matches:i}=b.useContext(Nr),{pathname:r}=ha(),s=JSON.stringify(n_(i)),o=b.useRef(!1);return a_(()=>{o.current=!0}),b.useCallback((l,c={})=>{if(Pr(o.current,o_),!o.current)return;if(typeof l=="number"){t.go(l);return}let h=i_(l,JSON.parse(s),r,c.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Er([e,h.pathname])),(c.replace?t.replace:t.push)(h,c.state,c)},[e,t,s,r,n])}b.createContext(null);function Uh(n,{relative:e}={}){let{matches:t}=b.useContext(Nr),{pathname:i}=ha(),r=JSON.stringify(n_(t));return b.useMemo(()=>i_(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function QT(n,e,t,i){Et(Mp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=b.useContext(Dr),{matches:s}=b.useContext(Nr),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",h=o&&o.route;{let g=h&&h.path||"";l_(l,!h||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let d=ha(),f;f=d;let p=f.pathname||"/",m=p;if(c!=="/"){let g=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=ZS(n,{pathname:m});return Pr(h||v!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Pr(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nR(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Er([c,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Er([c,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,t,i)}function JT(){let n=aR(),e=WT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:r},t):null,o)}var ZT=b.createElement(JT,null),eR=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(Nr.Provider,{value:this.props.routeContext},b.createElement(Ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tR({routeContext:n,match:e,children:t}){let i=b.useContext(au);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Nr.Provider,{value:n},t)}function nR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,s=t==null?void 0:t.errors;if(s!=null){let l=r.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Et(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,a=-1;if(t)for(let l=0;l<r.length;l++){let c=r[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:h,errors:d}=t,f=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||f){o=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}return r.reduceRight((l,c,h)=>{let d,f=!1,p=null,m=null;t&&(d=s&&c.route.id?s[c.route.id]:void 0,p=c.route.errorElement||ZT,o&&(a<0&&h===0?(l_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):a===h&&(f=!0,m=c.route.hydrateFallbackElement||null)));let v=e.concat(r.slice(0,h+1)),_=()=>{let g;return d?g=p:f?g=m:c.route.Component?g=b.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=l,b.createElement(tR,{match:c,routeContext:{outlet:l,matches:v,isDataRoute:t!=null},children:g})};return t&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?b.createElement(eR,{location:t.location,revalidation:t.revalidation,component:p,error:d,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}function qy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iR(n){let e=b.useContext(au);return Et(e,qy(n)),e}function rR(n){let e=b.useContext(Lp);return Et(e,qy(n)),e}function sR(n){let e=b.useContext(Nr);return Et(e,qy(n)),e}function Qy(n){let e=sR(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oR(){return Qy("useRouteId")}function aR(){var i;let n=b.useContext(Ky),e=rR("useRouteError"),t=Qy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function lR(){let{router:n}=iR("useNavigate"),e=Qy("useNavigate"),t=b.useRef(!1);return a_(()=>{t.current=!0}),b.useCallback(async(r,s={})=>{Pr(t.current,o_),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var Vw={};function l_(n,e,t){!e&&!Vw[n]&&(Vw[n]=!0,Pr(!1,t))}b.memo(uR);function uR({routes:n,future:e,state:t}){return QT(n,void 0,t,e)}var Od="get",$d="application/x-www-form-urlencoded";function Ip(n){return n!=null&&typeof n.tagName=="string"}function cR(n){return Ip(n)&&n.tagName.toLowerCase()==="button"}function hR(n){return Ip(n)&&n.tagName.toLowerCase()==="form"}function dR(n){return Ip(n)&&n.tagName.toLowerCase()==="input"}function fR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pR(n,e){return n.button===0&&(!e||e==="_self")&&!fR(n)}var vd=null;function gR(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var mR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xg(n){return n!=null&&!mR.has(n)?(Pr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$d}"`),null):n}function vR(n,e){let t,i,r,s,o;if(hR(n)){let a=n.getAttribute("action");i=a?na(a,e):null,t=n.getAttribute("method")||Od,r=xg(n.getAttribute("enctype"))||$d,s=new FormData(n)}else if(cR(n)||dR(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(i=l?na(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||Od,r=xg(n.getAttribute("formenctype"))||xg(a.getAttribute("enctype"))||$d,s=new FormData(a,n),!gR()){let{name:c,type:h,value:d}=n;if(h==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,d)}}else{if(Ip(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Od,i=null,r=$d,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}function Jy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function yR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function AR(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await yR(s,t);return o.links?o.links():[]}return[]}));return bR(i.flat(1).filter(wR).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Gw(n,e,t,i,r,s){let o=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,a=(l,c)=>{var h;return t[c].pathname!==l.pathname||((h=t[c].route.path)==null?void 0:h.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var d;let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((d=t[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function ER(n,e){return SR(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function SR(n){return[...new Set(n)]}function _R(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function bR(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(_R(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function xR(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function CR(){let n=b.useContext(au);return Jy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function kR(){let n=b.useContext(Lp);return Jy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Zy=b.createContext(void 0);Zy.displayName="FrameworkContext";function u_(){let n=b.useContext(Zy);return Jy(n,"You must render this element inside a <HydratedRouter> element"),n}function TR(n,e){let t=b.useContext(Zy),[i,r]=b.useState(!1),[s,o]=b.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=e,f=b.useRef(null);b.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let v=g=>{g.forEach(y=>{o(y.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return f.current&&_.observe(f.current),()=>{_.disconnect()}}},[n]),b.useEffect(()=>{if(i){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[i]);let p=()=>{r(!0)},m=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,f,{}]:[s,f,{onFocus:Au(a,p),onBlur:Au(l,m),onMouseEnter:Au(c,p),onMouseLeave:Au(h,m),onTouchStart:Au(d,p)}]:[!1,f,{}]}function Au(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function RR({page:n,...e}){let{router:t}=CR(),i=b.useMemo(()=>ZS(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?b.createElement(LR,{page:n,matches:i,...e}):null}function PR(n){let{manifest:e,routeModules:t}=u_(),[i,r]=b.useState([]);return b.useEffect(()=>{let s=!1;return AR(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function LR({page:n,matches:e,...t}){let i=ha(),{manifest:r,routeModules:s}=u_(),{loaderData:o,matches:a}=kR(),l=b.useMemo(()=>Gw(n,e,a,r,i,"data"),[n,e,a,r,i]),c=b.useMemo(()=>Gw(n,e,a,r,i,"assets"),[n,e,a,r,i]),h=b.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let p=new Set,m=!1;if(e.forEach(_=>{var y;let g=r.routes[_.route.id];!g||!g.hasLoader||(!l.some(A=>A.route.id===_.route.id)&&_.route.id in o&&((y=s[_.route.id])!=null&&y.shouldRevalidate)||g.hasClientLoader?m=!0:p.add(_.route.id))}),p.size===0)return[];let v=xR(n);return m&&p.size>0&&v.searchParams.set("_routes",e.filter(_=>p.has(_.route.id)).map(_=>_.route.id).join(",")),[v.pathname+v.search]},[o,i,r,l,e,n,s]),d=b.useMemo(()=>ER(c,r),[c,r]),f=PR(c);return b.createElement(b.Fragment,null,h.map(p=>b.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...t})),d.map(p=>b.createElement("link",{key:p,rel:"modulepreload",href:p,...t})),f.map(({key:p,link:m})=>b.createElement("link",{key:p,...m})))}function MR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var c_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c_&&(window.__reactRouterVersion="7.1.3")}catch{}var h_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e0=b.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d,...f},p){let{basename:m}=b.useContext(Dr),v=typeof c=="string"&&h_.test(c),_,g=!1;if(typeof c=="string"&&v&&(_=c,c_))try{let L=new URL(window.location.href),I=c.startsWith("//")?new URL(L.protocol+c):new URL(c),D=na(I.pathname,m);I.origin===L.origin&&D!=null?c=D+I.search+I.hash:g=!0}catch{Pr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=YT(c,{relative:r}),[A,x,C]=TR(i,f),k=DR(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,viewTransition:d});function T(L){e&&e(L),L.defaultPrevented||k(L)}let R=b.createElement("a",{...f,...C,href:_||y,onClick:g||s?e:T,ref:MR(p,x),target:l,"data-discover":!v&&t==="render"?"true":void 0});return A&&!v?b.createElement(b.Fragment,null,R,b.createElement(RR,{page:y})):R});e0.displayName="Link";var t0=b.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...c},h){let d=Uh(o,{relative:c.relative}),f=ha(),p=b.useContext(Lp),{navigator:m,basename:v}=b.useContext(Dr),_=p!=null&&jR(d)&&a===!0,g=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,y=f.pathname,A=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(y=y.toLowerCase(),A=A?A.toLowerCase():null,g=g.toLowerCase()),A&&v&&(A=na(A,v)||A);const x=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let C=y===g||!r&&y.startsWith(g)&&y.charAt(x)==="/",k=A!=null&&(A===g||!r&&A.startsWith(g)&&A.charAt(g.length)==="/"),T={isActive:C,isPending:k,isTransitioning:_},R=C?e:void 0,L;typeof i=="function"?L=i(T):L=[i,C?"active":null,k?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(T):s;return b.createElement(e0,{...c,"aria-current":R,className:L,ref:h,style:I,to:o,viewTransition:a},typeof l=="function"?l(T):l)});t0.displayName="NavLink";var IR=b.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=Od,action:a,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:d,...f},p)=>{let m=$R(),v=HR(a,{relative:c}),_=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&h_.test(a),y=A=>{if(l&&l(A),A.defaultPrevented)return;A.preventDefault();let x=A.nativeEvent.submitter,C=(x==null?void 0:x.getAttribute("formmethod"))||o;m(x||A.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:r,state:s,relative:c,preventScrollReset:h,viewTransition:d})};return b.createElement("form",{ref:p,method:_,action:v,onSubmit:i?l:y,...f,"data-discover":!g&&n==="render"?"true":void 0})});IR.displayName="Form";function FR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d_(n){let e=b.useContext(au);return Et(e,FR(n)),e}function DR(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=KT(),l=ha(),c=Uh(n,{relative:s});return b.useCallback(h=>{if(pR(h,e)){h.preventDefault();let d=t!==void 0?t:Cm(l)===Cm(c);a(n,{replace:d,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,c,t,i,e,n,r,s,o])}var NR=0,OR=()=>`__${String(++NR)}__`;function $R(){let{router:n}=d_("useSubmit"),{basename:e}=b.useContext(Dr),t=oR();return b.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=vR(i,e);if(r.navigate===!1){let h=r.fetcherKey||OR();await n.fetch(h,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function HR(n,{relative:e}={}){let{basename:t}=b.useContext(Dr),i=b.useContext(Nr);Et(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Uh(n||".",{relative:e})},o=ha();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Er([t,s.pathname])),Cm(s)}function jR(n,e={}){let t=b.useContext(s_);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=d_("useViewTransitionState"),r=Uh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=na(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=na(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Wf(r.pathname,o)!=null||Wf(r.pathname,s)!=null}new TextEncoder;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var km=function(){return km=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},km.apply(this,arguments)};function zR(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}var Xa="",ec=null,Hd=null,f_=null;function n0(){Xa="",ec!==null&&ec.disconnect(),Hd!==null&&(window.clearTimeout(Hd),Hd=null)}function Xw(n){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],t=["A","AREA"];return e.includes(n.tagName)&&!n.hasAttribute("disabled")||t.includes(n.tagName)&&n.hasAttribute("href")}function Yw(){var n=null;if(Xa==="#")n=document.body;else{var e=Xa.replace("#","");n=document.getElementById(e),n===null&&Xa==="#top"&&(n=document.body)}if(n!==null){f_(n);var t=n.getAttribute("tabindex");return t===null&&!Xw(n)&&n.setAttribute("tabindex",-1),n.focus({preventScroll:!0}),t===null&&!Xw(n)&&(n.blur(),n.removeAttribute("tabindex")),n0(),!0}return!1}function BR(n){window.setTimeout(function(){Yw()===!1&&(ec===null&&(ec=new MutationObserver(Yw)),ec.observe(document,{attributes:!0,childList:!0,subtree:!0}),Hd=window.setTimeout(function(){n0()},n||1e4))},0)}function p_(n){return R0.forwardRef(function(e,t){var i="";typeof e.to=="string"&&e.to.includes("#")?i="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(i=e.to.hash);var r={};n===t0&&(r.isActive=function(a,l){return a&&a.isExact&&l.hash===i});function s(a){n0(),Xa=e.elementId?"#"+e.elementId:i,e.onClick&&e.onClick(a),Xa!==""&&!a.defaultPrevented&&a.button===0&&(!e.target||e.target==="_self")&&!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&(f_=e.scroll||function(l){return e.smooth?l.scrollIntoView({behavior:"smooth"}):l.scrollIntoView()},BR(e.timeout))}var o=zR(e,["scroll","smooth","timeout","elementId"]);return R0.createElement(n,km({},r,o,{onClick:s,ref:t}),e.children)})}var Hr=p_(e0);p_(t0);function i0(){function n(s){r(s)}const[e,t]=b.useState(!1);b.useEffect(()=>{window.matchMedia("(max-width: 100vh)").matches===!0?r(!0):r(!1)},[]);const[i,r]=b.useState(!1);return pT({query:"(max-width: 100vh)"},void 0,n),P.jsxs("div",{id:"navbar",className:e?"expanded":"contracted",children:[i&&P.jsxs("div",{id:"mobile-nav-top-row",children:[P.jsx("button",{id:"menu",onClick:()=>t(!e),children:"≡"}),P.jsx(Hr,{id:"nav-img-link",to:"/",children:P.jsx("img",{id:"mobile-nav-logo",src:zw,alt:"UMaine JVP Logo"})})]}),P.jsx(Hr,{className:"nav-item",to:"/#events",onClick:()=>t(!1),children:"events"}),P.jsx(Hr,{className:"nav-item",to:"/#about",onClick:()=>t(!1),children:"about"}),P.jsx(Hr,{className:"nav-item",to:"/#get-involved",onClick:()=>t(!1),children:"get involved"}),P.jsx(Hr,{className:"nav-item",to:"/#contact",onClick:()=>t(!1),children:"contact"}),!i&&P.jsx(Hr,{to:"/",style:{height:"inherit"},children:P.jsx("img",{id:"jvp-logo",src:zw,alt:"UMaine JVP Logo"})}),P.jsx(Hr,{className:"nav-item",to:"/demands",onClick:()=>t(!1),children:"demands"}),P.jsx(Hr,{className:"nav-item",to:"/minutes-1982",onClick:()=>t(!1),children:"precedent"}),P.jsx("a",{className:"nav-item",href:"https://drive.google.com/drive/folders/1SWLi8IUPuZs8z0OCBCMCIkrilyiRcONI",target:"_blank",rel:"noreferrer",onClick:()=>t(!e),children:"materials"}),P.jsx("a",{id:"register",className:"nav-item",href:"https://bit.ly/UMSDivest",target:"_blank",rel:"noreferrer",onClick:()=>t(!e),children:"petition"})]})}const UR="/JVP-logo.svg",Kw="/ig_icon.webp",WR="/mailing_list_icon.png";function VR(){return P.jsxs(P.Fragment,{children:[P.jsx(i0,{}),P.jsxs("div",{className:"page-content",children:[P.jsx("div",{id:"splash-image",title:"Free Palestine protestors gather outside Fogler Library",children:P.jsxs("div",{className:"splash-square",children:[P.jsx("h1",{className:"title",children:"UMaine Jewish Voice for Peace"}),P.jsx("a",{className:"button",href:"https://bit.ly/UMSDivest",target:"_blank",rel:"noreferrer",children:"SIGN FOR THE UMAINE SYSTEM TO DIVEST!"}),P.jsx("a",{className:"button",href:"https://docs.google.com/forms/d/e/1FAIpQLSftZI_yXCV5ZaaNDYtZNQSOpmtybHPDDMCWdK_9pi3zIJ7Ukg/viewform",target:"_blank",rel:"noreferrer",children:"JOIN OUR MAILING LIST!"})]})}),P.jsxs("section",{className:"main-nav-section",id:"events",children:[P.jsx("h2",{children:"EVENTS"}),"Stay tuned for more event news soon!"]}),P.jsx("hr",{}),P.jsxs("section",{className:"main-nav-section",id:"about",children:[P.jsxs("div",{id:"about-image-header",children:[P.jsx("img",{src:UR,alt:"Jewish Voice for Peace logo"}),P.jsxs("div",{id:"about-image-header-title",children:[P.jsx("h1",{children:"UMaine Jewish Voice for Peace"}),P.jsx("h2",{children:"a grassroots, multiracial, intergenerational movement in solidarity with Palestinian liberation"})]})]}),P.jsx("h2",{children:"ABOUT UMAINE JVP"}),P.jsxs("p",{children:["We are an official chapter of"," ",P.jsx("a",{href:"https://www.jewishvoiceforpeace.org/",target:"_blank",rel:"noreferrer",children:"Jewish Voice for Peace"})," ","here at the University of Maine. JVP is a national organization focusing on dismantling Zionism and achieving Palestinian liberation."]}),P.jsx("p",{children:"Like generations of Jewish leftists before us, we fight for the liberation of all people. We believe that through organizing, we can and will dismantle the institutions and structures that sustain injustice and grow something new, joyful, beautiful, and life-sustaining in their place."}),P.jsx("p",{children:"We are welcome to people of all ethnic and/or religious backgrounds who want to fight for peace and justice. We invite any UMaine System community members be you students, faculty, staff, alumni, or taxpaying mainers to sign up for our email list and sign the petition calling on the university of Maine to divest from the state of Israel and corporations complicit in the genocide in Gaza."})]}),P.jsx("hr",{}),P.jsxs("section",{className:"main-nav-section",id:"get-involved",children:[P.jsx("h2",{children:"JOIN US IN OUR WEEKLY MEETINGS!"}),P.jsx("p",{children:"We meet every Tuesday from 5:30-6:30pm in the Senior Skulls room of the Memorial Union!"}),P.jsxs("div",{className:"buttons-container",children:[P.jsxs("div",{className:"social-section",children:[P.jsx("img",{className:"social-logo",src:WR,alt:"Email Logo"}),P.jsx("a",{className:"button",href:"https://docs.google.com/forms/d/e/1FAIpQLSftZI_yXCV5ZaaNDYtZNQSOpmtybHPDDMCWdK_9pi3zIJ7Ukg/viewform",target:"_blank",rel:"noreferrer",children:"JOIN OUR MAILING LIST!"})]}),P.jsxs("div",{className:"social-section",children:[P.jsx("img",{className:"social-logo",src:Kw,alt:"Instagram Logo"}),P.jsx("a",{className:"button",href:"https://www.instagram.com/umainejvp/",target:"_blank",rel:"noreferrer",children:"FOLLOW US ON INSTAGRAM!"})]})]}),P.jsx("h2",{children:"WHY SHOULD YOU JOIN UMAINE JVP?"}),P.jsxs("ul",{children:[P.jsx("li",{children:"if you've been looking for a political home for Jews on the left in this perilous moment"}),P.jsx("li",{children:"if you've been wanting a Jewish community with justice at the center"}),P.jsxs("li",{children:["if you're ",P.jsx("em",{children:"not"})," Jewish, but are still looking for such a community"]}),P.jsx("li",{children:"if you've been looking to turn your rage and grief into meaningful, strategic action..."})]}),P.jsx("p",{children:P.jsx("strong",{children:"Join us. You belong here."})})]}),P.jsx("hr",{}),P.jsxs("section",{className:"main-nav-section",id:"contact",children:[P.jsx("h2",{children:"CONTACT US"}),P.jsxs("p",{children:["Send us an email at"," ",P.jsx("a",{href:"mailto:umaine@jvp.org",target:"_blank",rel:"noreferrer",children:"umaine@jvp.org"})]}),P.jsxs("p",{className:"social-section",children:[P.jsx("img",{className:"social-logo",src:Kw,alt:"Instagram Logo"}),P.jsx("a",{href:"https://www.instagram.com/umainejvp/",target:"_blank",rel:"noreferrer",children:"or contact us on Instagram!"})]}),P.jsx("p",{children:"We hope to hear from you soon :)"})]}),P.jsx("footer",{})]})]})}/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qw="popstate";function GR(n={}){function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=da(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Tm("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Ec(s))}function i(r,s){fi(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return YR(e,t,i,n)}function $e(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XR(){return Math.random().toString(36).substring(2,10)}function Qw(n,e){return{usr:n.state,key:n.key,idx:e}}function Tm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?da(e):e,state:t,key:e&&e.key||i||XR()}}function Ec({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function da(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function YR(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",l=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let _=h(),g=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:g})}function f(_,g){a="PUSH";let y=Tm(v.location,_,g);t&&t(y,_),c=h()+1;let A=Qw(y,c),x=v.createHref(y);try{o.pushState(A,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(x)}s&&l&&l({action:a,location:v.location,delta:1})}function p(_,g){a="REPLACE";let y=Tm(v.location,_,g);t&&t(y,_),c=h();let A=Qw(y,c),x=v.createHref(y);o.replaceState(A,"",x),s&&l&&l({action:a,location:v.location,delta:0})}function m(_){return KR(_)}let v={get action(){return a},get location(){return n(r,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(qw,d),l=_,()=>{r.removeEventListener(qw,d),l=null}},createHref(_){return e(r,_)},createURL:m,encodeLocation(_){let g=m(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(_){return o.go(_)}};return v}function KR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$e(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ec(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function g_(n,e,t="/"){return qR(n,e,t,!1)}function qR(n,e,t,i){let r=typeof e=="string"?da(e):e,s=Lr(r.pathname||"/",t);if(s==null)return null;let o=m_(n);QR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=lP(s);a=oP(o[l],c,i)}return a}function m_(n,e=[],t=[],i="",r=!1){let s=(o,a,l=r,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&l)return;$e(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let d=Sr([i,h.relativePath]),f=t.concat(h);o.children&&o.children.length>0&&($e(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),m_(o.children,e,f,d,l)),!(o.path==null&&!o.index)&&e.push({path:d,score:rP(d,o.index),routesMeta:f})};return n.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of v_(o.path))s(o,a,!0,c)}),e}function v_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=v_(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function QR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sP(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var JR=/^:[\w-]+$/,ZR=3,eP=2,tP=1,nP=10,iP=-2,Jw=n=>n==="*";function rP(n,e){let t=n.split("/"),i=t.length;return t.some(Jw)&&(i+=iP),e&&(i+=eP),t.filter(r=>!Jw(r)).reduce((r,s)=>r+(JR.test(s)?ZR:s===""?tP:nP),i)}function sP(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function oP(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=Vf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&t&&!i[i.length-1].route.index&&(d=Vf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Sr([s,d.pathname]),pathnameBase:dP(Sr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Sr([s,d.pathnameBase]))}return o}function Vf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=aP(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:d},f)=>{if(h==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function aP(n,e=!1,t=!0){fi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function lP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Lr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function uP(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?da(n):n;return{pathname:t?t.startsWith("/")?t:cP(t,e):e,search:fP(i),hash:pP(r)}}function cP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Cg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function y_(n){let e=hP(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function w_(n,e,t,i=!1){let r;typeof n=="string"?r=da(n):(r={...n},$e(!r.pathname||!r.pathname.includes("?"),Cg("?","pathname","search",r)),$e(!r.pathname||!r.pathname.includes("#"),Cg("#","pathname","hash",r)),$e(!r.search||!r.search.includes("#"),Cg("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=uP(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var Sr=n=>n.join("/").replace(/\/\/+/g,"/"),dP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function gP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var A_=["POST","PUT","PATCH","DELETE"];new Set(A_);var mP=["GET",...A_];new Set(mP);var lu=b.createContext(null);lu.displayName="DataRouter";var Fp=b.createContext(null);Fp.displayName="DataRouterState";b.createContext(!1);var E_=b.createContext({isTransitioning:!1});E_.displayName="ViewTransition";var vP=b.createContext(new Map);vP.displayName="Fetchers";var yP=b.createContext(null);yP.displayName="Await";var Hi=b.createContext(null);Hi.displayName="Navigation";var Wh=b.createContext(null);Wh.displayName="Location";var Or=b.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var r0=b.createContext(null);r0.displayName="RouteError";function wP(n,{relative:e}={}){$e(Vh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=b.useContext(Hi),{hash:r,pathname:s,search:o}=Gh(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:Sr([t,s])),i.createHref({pathname:a,search:o,hash:r})}function Vh(){return b.useContext(Wh)!=null}function fa(){return $e(Vh(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Wh).location}var S_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function __(n){b.useContext(Hi).static||b.useLayoutEffect(n)}function AP(){let{isDataRoute:n}=b.useContext(Or);return n?IP():EP()}function EP(){$e(Vh(),"useNavigate() may be used only in the context of a <Router> component.");let n=b.useContext(lu),{basename:e,navigator:t}=b.useContext(Hi),{matches:i}=b.useContext(Or),{pathname:r}=fa(),s=JSON.stringify(y_(i)),o=b.useRef(!1);return __(()=>{o.current=!0}),b.useCallback((l,c={})=>{if(fi(o.current,S_),!o.current)return;if(typeof l=="number"){t.go(l);return}let h=w_(l,JSON.parse(s),r,c.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Sr([e,h.pathname])),(c.replace?t.replace:t.push)(h,c.state,c)},[e,t,s,r,n])}b.createContext(null);function Gh(n,{relative:e}={}){let{matches:t}=b.useContext(Or),{pathname:i}=fa(),r=JSON.stringify(y_(t));return b.useMemo(()=>w_(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function SP(n,e){return b_(n,e)}function b_(n,e,t,i,r){var y;$e(Vh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(Hi),{matches:o}=b.useContext(Or),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",d=a&&a.route;{let A=d&&d.path||"";x_(c,!d||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let f=fa(),p;if(e){let A=typeof e=="string"?da(e):e;$e(h==="/"||((y=A.pathname)==null?void 0:y.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),p=A}else p=f;let m=p.pathname||"/",v=m;if(h!=="/"){let A=h.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=g_(n,{pathname:v});fi(d||_!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),fi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=kP(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:Sr([h,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:Sr([h,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),o,t,i,r);return e&&g?b.createElement(Wh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},g):g}function _P(){let n=MP(),e=gP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:r},t):null,o)}var bP=b.createElement(_P,null),xP=class extends b.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?b.createElement(Or.Provider,{value:this.props.routeContext},b.createElement(r0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CP({routeContext:n,match:e,children:t}){let i=b.useContext(lu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Or.Provider,{value:n},t)}function kP(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let c=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);$e(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(t)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:d,errors:f}=t,p=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let f,p=!1,m=null,v=null;t&&(f=o&&h.route.id?o[h.route.id]:void 0,m=h.route.errorElement||bP,a&&(l<0&&d===0?(x_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):l===d&&(p=!0,v=h.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,d+1)),g=()=>{let y;return f?y=m:p?y=v:h.route.Component?y=b.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,b.createElement(CP,{match:h,routeContext:{outlet:c,matches:_,isDataRoute:t!=null},children:y})};return t&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?b.createElement(xP,{location:t.location,revalidation:t.revalidation,component:m,error:f,children:g(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:i}):g()},null)}function s0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TP(n){let e=b.useContext(lu);return $e(e,s0(n)),e}function RP(n){let e=b.useContext(Fp);return $e(e,s0(n)),e}function PP(n){let e=b.useContext(Or);return $e(e,s0(n)),e}function o0(n){let e=PP(n),t=e.matches[e.matches.length-1];return $e(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function LP(){return o0("useRouteId")}function MP(){var i;let n=b.useContext(r0),e=RP("useRouteError"),t=o0("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function IP(){let{router:n}=TP("useNavigate"),e=o0("useNavigate"),t=b.useRef(!1);return __(()=>{t.current=!0}),b.useCallback(async(r,s={})=>{fi(t.current,S_),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var Zw={};function x_(n,e,t){!e&&!Zw[n]&&(Zw[n]=!0,fi(!1,t))}b.memo(FP);function FP({routes:n,future:e,state:t,unstable_onError:i}){return b_(n,void 0,t,i,e)}function jd(n){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DP({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){$e(!Vh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=b.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof t=="string"&&(t=da(t));let{pathname:l="/",search:c="",hash:h="",state:d=null,key:f="default"}=t,p=b.useMemo(()=>{let m=Lr(l,o);return m==null?null:{location:{pathname:m,search:c,hash:h,state:d,key:f},navigationType:i}},[o,l,c,h,d,f,i]);return fi(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:b.createElement(Hi.Provider,{value:a},b.createElement(Wh.Provider,{children:e,value:p}))}function NP({children:n,location:e}){return SP(Rm(n),e)}function Rm(n,e=[]){let t=[];return b.Children.forEach(n,(i,r)=>{if(!b.isValidElement(i))return;let s=[...e,r];if(i.type===b.Fragment){t.push.apply(t,Rm(i.props.children,s));return}$e(i.type===jd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Rm(i.props.children,s)),t.push(o)}),t}var zd="get",Bd="application/x-www-form-urlencoded";function Dp(n){return n!=null&&typeof n.tagName=="string"}function OP(n){return Dp(n)&&n.tagName.toLowerCase()==="button"}function $P(n){return Dp(n)&&n.tagName.toLowerCase()==="form"}function HP(n){return Dp(n)&&n.tagName.toLowerCase()==="input"}function jP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zP(n,e){return n.button===0&&(!e||e==="_self")&&!jP(n)}var yd=null;function BP(){if(yd===null)try{new FormData(document.createElement("form"),0),yd=!1}catch{yd=!0}return yd}var UP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kg(n){return n!=null&&!UP.has(n)?(fi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bd}"`),null):n}function WP(n,e){let t,i,r,s,o;if($P(n)){let a=n.getAttribute("action");i=a?Lr(a,e):null,t=n.getAttribute("method")||zd,r=kg(n.getAttribute("enctype"))||Bd,s=new FormData(n)}else if(OP(n)||HP(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(i=l?Lr(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||zd,r=kg(n.getAttribute("formenctype"))||kg(a.getAttribute("enctype"))||Bd,s=new FormData(a,n),!BP()){let{name:c,type:h,value:d}=n;if(h==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,d)}}else{if(Dp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zd,i=null,r=Bd,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function a0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function VP(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Lr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function GP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function YP(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await GP(s,t);return o.links?o.links():[]}return[]}));return JP(i.flat(1).filter(XP).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function eA(n,e,t,i,r,s){let o=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,a=(l,c)=>{var h;return t[c].pathname!==l.pathname||((h=t[c].route.path)==null?void 0:h.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var d;let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((d=t[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function KP(n,e,{includeHydrateFallback:t}={}){return qP(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function qP(n){return[...new Set(n)]}function QP(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function JP(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(QP(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function C_(){let n=b.useContext(lu);return a0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZP(){let n=b.useContext(Fp);return a0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var l0=b.createContext(void 0);l0.displayName="FrameworkContext";function k_(){let n=b.useContext(l0);return a0(n,"You must render this element inside a <HydratedRouter> element"),n}function eL(n,e){let t=b.useContext(l0),[i,r]=b.useState(!1),[s,o]=b.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=e,f=b.useRef(null);b.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let v=g=>{g.forEach(y=>{o(y.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return f.current&&_.observe(f.current),()=>{_.disconnect()}}},[n]),b.useEffect(()=>{if(i){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[i]);let p=()=>{r(!0)},m=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,f,{}]:[s,f,{onFocus:Eu(a,p),onBlur:Eu(l,m),onMouseEnter:Eu(c,p),onMouseLeave:Eu(h,m),onTouchStart:Eu(d,p)}]:[!1,f,{}]}function Eu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tL({page:n,...e}){let{router:t}=C_(),i=b.useMemo(()=>g_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?b.createElement(iL,{page:n,matches:i,...e}):null}function nL(n){let{manifest:e,routeModules:t}=k_(),[i,r]=b.useState([]);return b.useEffect(()=>{let s=!1;return YP(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function iL({page:n,matches:e,...t}){let i=fa(),{manifest:r,routeModules:s}=k_(),{basename:o}=C_(),{loaderData:a,matches:l}=ZP(),c=b.useMemo(()=>eA(n,e,l,r,i,"data"),[n,e,l,r,i]),h=b.useMemo(()=>eA(n,e,l,r,i,"assets"),[n,e,l,r,i]),d=b.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let m=new Set,v=!1;if(e.forEach(g=>{var A;let y=r.routes[g.route.id];!y||!y.hasLoader||(!c.some(x=>x.route.id===g.route.id)&&g.route.id in a&&((A=s[g.route.id])!=null&&A.shouldRevalidate)||y.hasClientLoader?v=!0:m.add(g.route.id))}),m.size===0)return[];let _=VP(n,o,"data");return v&&m.size>0&&_.searchParams.set("_routes",e.filter(g=>m.has(g.route.id)).map(g=>g.route.id).join(",")),[_.pathname+_.search]},[o,a,i,r,c,e,n,s]),f=b.useMemo(()=>KP(h,r),[h,r]),p=nL(h);return b.createElement(b.Fragment,null,d.map(m=>b.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...t})),f.map(m=>b.createElement("link",{key:m,rel:"modulepreload",href:m,...t})),p.map(({key:m,link:v})=>b.createElement("link",{key:m,nonce:t.nonce,...v})))}function rL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var T_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T_&&(window.__reactRouterVersion="7.9.2")}catch{}function sL({basename:n,children:e,window:t}){let i=b.useRef();i.current==null&&(i.current=GR({window:t,v5Compat:!0}));let r=i.current,[s,o]=b.useState({action:r.action,location:r.location}),a=b.useCallback(l=>{b.startTransition(()=>o(l))},[o]);return b.useLayoutEffect(()=>r.listen(a),[r,a]),b.createElement(DP,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var R_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P_=b.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d,...f},p){let{basename:m}=b.useContext(Hi),v=typeof c=="string"&&R_.test(c),_,g=!1;if(typeof c=="string"&&v&&(_=c,T_))try{let L=new URL(window.location.href),I=c.startsWith("//")?new URL(L.protocol+c):new URL(c),D=Lr(I.pathname,m);I.origin===L.origin&&D!=null?c=D+I.search+I.hash:g=!0}catch{fi(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=wP(c,{relative:r}),[A,x,C]=eL(i,f),k=uL(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,viewTransition:d});function T(L){e&&e(L),L.defaultPrevented||k(L)}let R=b.createElement("a",{...f,...C,href:_||y,onClick:g||s?e:T,ref:rL(p,x),target:l,"data-discover":!v&&t==="render"?"true":void 0});return A&&!v?b.createElement(b.Fragment,null,R,b.createElement(tL,{page:y})):R});P_.displayName="Link";var oL=b.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...c},h){let d=Gh(o,{relative:c.relative}),f=fa(),p=b.useContext(Fp),{navigator:m,basename:v}=b.useContext(Hi),_=p!=null&&pL(d)&&a===!0,g=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,y=f.pathname,A=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(y=y.toLowerCase(),A=A?A.toLowerCase():null,g=g.toLowerCase()),A&&v&&(A=Lr(A,v)||A);const x=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let C=y===g||!r&&y.startsWith(g)&&y.charAt(x)==="/",k=A!=null&&(A===g||!r&&A.startsWith(g)&&A.charAt(g.length)==="/"),T={isActive:C,isPending:k,isTransitioning:_},R=C?e:void 0,L;typeof i=="function"?L=i(T):L=[i,C?"active":null,k?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(T):s;return b.createElement(P_,{...c,"aria-current":R,className:L,ref:h,style:I,to:o,viewTransition:a},typeof l=="function"?l(T):l)});oL.displayName="NavLink";var aL=b.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=zd,action:a,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:d,...f},p)=>{let m=dL(),v=fL(a,{relative:c}),_=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&R_.test(a),y=A=>{if(l&&l(A),A.defaultPrevented)return;A.preventDefault();let x=A.nativeEvent.submitter,C=(x==null?void 0:x.getAttribute("formmethod"))||o;m(x||A.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:r,state:s,relative:c,preventScrollReset:h,viewTransition:d})};return b.createElement("form",{ref:p,method:_,action:v,onSubmit:i?l:y,...f,"data-discover":!g&&n==="render"?"true":void 0})});aL.displayName="Form";function lL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L_(n){let e=b.useContext(lu);return $e(e,lL(n)),e}function uL(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=AP(),l=fa(),c=Gh(n,{relative:s});return b.useCallback(h=>{if(zP(h,e)){h.preventDefault();let d=t!==void 0?t:Ec(l)===Ec(c);a(n,{replace:d,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,c,t,i,e,n,r,s,o])}var cL=0,hL=()=>`__${String(++cL)}__`;function dL(){let{router:n}=L_("useSubmit"),{basename:e}=b.useContext(Hi),t=LP();return b.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=WP(i,e);if(r.navigate===!1){let h=r.fetcherKey||hL();await n.fetch(h,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function fL(n,{relative:e}={}){let{basename:t}=b.useContext(Hi),i=b.useContext(Or);$e(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Gh(n||".",{relative:e})},o=fa();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Sr([t,s.pathname])),Ec(s)}function pL(n,{relative:e}={}){let t=b.useContext(E_);$e(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=L_("useViewTransitionState"),r=Gh(n,{relative:e});if(!t.isTransitioning)return!1;let s=Lr(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=Lr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Vf(r.pathname,o)!=null||Vf(r.pathname,s)!=null}const gL="modulepreload",mL=function(n){return"/"+n},tA={},wd=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(t.map(l=>{if(l=mL(l),l in tA)return;tA[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":gL,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var tc={};tc.d=(n,e)=>{for(var t in e)tc.o(e,t)&&!tc.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};tc.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var q=globalThis.pdfjsLib={};tc.d(q,{AbortException:()=>ga,AnnotationEditorLayer:()=>zv,AnnotationEditorParamsType:()=>K,AnnotationEditorType:()=>te,AnnotationEditorUIManager:()=>ra,AnnotationLayer:()=>pI,AnnotationMode:()=>Gr,ColorPicker:()=>Kf,DOMSVGFactory:()=>A0,DrawLayer:()=>Vv,FeatureTest:()=>Vt,GlobalWorkerOptions:()=>vr,ImageKind:()=>Ud,InvalidPDFException:()=>I_,MissingPDFException:()=>pa,OPS:()=>Xn,OutputScale:()=>Fm,PDFDataRangeTransport:()=>R1,PDFDateString:()=>f0,PDFWorker:()=>Ka,PasswordResponses:()=>AL,PermissionFlag:()=>wL,PixelsPerInch:()=>Ms,RenderingCancelledException:()=>h0,TextLayer:()=>lv,UnexpectedResponseException:()=>Hp,Util:()=>B,VerbosityLevel:()=>Np,XfaLayer:()=>L1,build:()=>YM,createValidAbsoluteUrl:()=>bL,fetchData:()=>zp,getDocument:()=>HM,getFilenameFromUrl:()=>IL,getPdfFilenameFromUrl:()=>FL,getXfaPageViewport:()=>DL,isDataScheme:()=>Bp,isPdfFile:()=>d0,noContextMenu:()=>Bn,normalizeUnicode:()=>PL,setLayerDimensions:()=>ia,shadow:()=>ue,version:()=>XM});const Dt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),M_=[1,0,0,1,0,0],Pm=[.001,0,0,.001,0,0],vL=1e7,Tg=1.35,yn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Gr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},yL="pdfjs_internal_editor_",te={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},K={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},wL={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},kt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ud={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Je={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Su={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Np={ERRORS:0,WARNINGS:1,INFOS:5},Xn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},AL={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Op=Np.WARNINGS;function EL(n){Number.isInteger(n)&&(Op=n)}function SL(){return Op}function $p(n){Op>=Np.INFOS&&console.log(`Info: ${n}`)}function ie(n){Op>=Np.WARNINGS&&console.log(`Warning: ${n}`)}function ke(n){throw new Error(n)}function it(n,e){n||ke(e)}function _L(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function bL(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=RL(n)}catch{}}const i=e?new URL(n,e):new URL(n);if(_L(i))return i}catch{}return null}function ue(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Hs=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class Lm extends Hs{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Mm extends Hs{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class I_ extends Hs{constructor(e){super(e,"InvalidPDFException")}}class pa extends Hs{constructor(e){super(e,"MissingPDFException")}}class Hp extends Hs{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class xL extends Hs{constructor(e){super(e,"FormatError")}}class ga extends Hs{constructor(e){super(e,"AbortException")}}function F_(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&ke("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function jp(n){typeof n!="string"&&ke("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function CL(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function u0(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}function kL(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function TL(){try{return new Function(""),!0}catch{return!1}}class Vt{static get isLittleEndian(){return ue(this,"isLittleEndian",kL())}static get isEvalSupported(){return ue(this,"isEvalSupported",TL())}static get isOffscreenCanvasSupported(){return ue(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?ue(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):ue(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return ue(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Rg=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var br,Wd,Im;class B{static makeHexColor(e,t,i){return`#${Rg[e]}${Rg[t]}${Rg[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[i,r]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-s*r))/2,c=a+l||1,h=a-l||1;return[Math.sqrt(c),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static bezierBoundingBox(e,t,i,r,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],E(this,br,Im).call(this,e,i,s,a,t,r,o,l,3*(-e+3*(i-s)+a),6*(e-2*i+s),3*(i-e),c),E(this,br,Im).call(this,e,i,s,a,t,r,o,l,3*(-t+3*(r-o)+l),6*(t-2*r+o),3*(r-t),c),c}}br=new WeakSet,Wd=function(e,t,i,r,s,o,a,l,c,h){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,m=d*(d*(d*e+3*c*t)+3*f*i)+p*r,v=d*(d*(d*s+3*c*o)+3*f*a)+p*l;h[0]=Math.min(h[0],m),h[1]=Math.min(h[1],v),h[2]=Math.max(h[2],m),h[3]=Math.max(h[3],v)},Im=function(e,t,i,r,s,o,a,l,c,h,d,f){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&E(this,br,Wd).call(this,e,t,i,r,s,o,a,l,-d/h,f);return}const p=h**2-4*d*c;if(p<0)return;const m=Math.sqrt(p),v=2*c;E(this,br,Wd).call(this,e,t,i,r,s,o,a,l,(-h+m)/v,f),E(this,br,Wd).call(this,e,t,i,r,s,o,a,l,(-h-m)/v,f)},S(B,br);function RL(n){return decodeURIComponent(escape(n))}let Pg=null,nA=null;function PL(n){return Pg||(Pg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,nA=new Map([["ﬅ","ſt"]])),n.replaceAll(Pg,(e,t,i)=>t?t.normalize("NFKC"):nA.get(i))}function LL(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return F_(n)}const c0="pdfjs_internal_id_",ji={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function ML(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(F_(n))}const Bi="http://www.w3.org/2000/svg",Xs=class Xs{};Y(Xs,"CSS",96),Y(Xs,"PDF",72),Y(Xs,"PDF_TO_CSS_UNITS",Xs.CSS/Xs.PDF);let Ms=Xs;async function zp(n,e="text"){if(Ru(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Xh{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,h,d,f;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,h=0,d=0,f=1;break;case 90:c=0,h=1,d=1,f=0;break;case 270:c=0,h=-1,d=-1,f=0;break;case 0:c=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f);let p,m,v,_;c===0?(p=Math.abs(l-e[1])*t+r,m=Math.abs(a-e[0])*t+s,v=(e[3]-e[1])*t,_=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+r,m=Math.abs(l-e[1])*t+s,v=(e[2]-e[0])*t,_=(e[3]-e[1])*t),this.transform=[c*t,h*t,d*t,f*t,p-c*t*a-d*t*l,m-h*t*a-f*t*l],this.width=v,this.height=_}get rawDims(){const{viewBox:e}=this;return ue(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Xh({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return B.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=B.applyTransform([e[0],e[1]],this.transform),i=B.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return B.applyInverseTransform([e,t],this.transform)}}class h0 extends Hs{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Bp(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function d0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function IL(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function FL(n,e="document.pdf"){if(typeof n!="string")return e;if(Bp(n))return ie('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class iA{constructor(){Y(this,"started",Object.create(null));Y(this,"times",[])}time(e){e in this.started&&ie(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ie(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Ru(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Bn(n){n.preventDefault()}function rA(n){console.log("Deprecated API usage: "+n)}var _c;class f0{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,_c)||w(this,_c,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,_c).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=h,a+=d):c==="+"&&(o-=h,a-=d),new Date(Date.UTC(i,r,s,o,a,l))}}_c=new WeakMap,S(f0,_c);function DL(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new Xh({viewBox:s,scale:e,rotation:t})}function p0(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ie(`Not a valid color format: "${n}"`),[0,0,0])}function NL(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,p0(i))}e.remove()}function De(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function zi(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function ia(n,e,t=!1,i=!0){if(e instanceof Xh){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,a=Vt.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,h=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,d=a?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=h,o.height=d):(o.width=d,o.height=h)}i&&n.setAttribute("data-main-rotation",e.rotation)}class Fm{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Xr,Js,Yn,Zs,bc,xc,Qf,D_,Gt,N_,O_,Vd,$_,Nm;const Wi=class Wi{constructor(e){S(this,Gt);S(this,Xr,null);S(this,Js,null);S(this,Yn);S(this,Zs,null);S(this,bc,null);w(this,Yn,e),u(Wi,xc)||w(Wi,xc,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=w(this,Xr,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,Yn)._uiManager._signal;e.addEventListener("contextmenu",Bn,{signal:t}),e.addEventListener("pointerdown",E(Wi,Qf,D_),{signal:t});const i=w(this,Zs,document.createElement("div"));i.className="buttons",e.append(i);const r=u(this,Yn).toolbarPosition;if(r){const{style:s}=e,o=u(this,Yn)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return E(this,Gt,$_).call(this),e}get div(){return u(this,Xr)}hide(){var e;u(this,Xr).classList.add("hidden"),(e=u(this,Js))==null||e.hideDropdown()}show(){var e;u(this,Xr).classList.remove("hidden"),(e=u(this,bc))==null||e.shown()}async addAltText(e){const t=await e.render();E(this,Gt,Vd).call(this,t),u(this,Zs).prepend(t,u(this,Gt,Nm)),w(this,bc,e)}addColorPicker(e){w(this,Js,e);const t=e.renderButton();E(this,Gt,Vd).call(this,t),u(this,Zs).prepend(t,u(this,Gt,Nm))}remove(){var e;u(this,Xr).remove(),(e=u(this,Js))==null||e.destroy(),w(this,Js,null)}};Xr=new WeakMap,Js=new WeakMap,Yn=new WeakMap,Zs=new WeakMap,bc=new WeakMap,xc=new WeakMap,Qf=new WeakSet,D_=function(e){e.stopPropagation()},Gt=new WeakSet,N_=function(e){u(this,Yn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},O_=function(e){u(this,Yn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Vd=function(e){const t=u(this,Yn)._uiManager._signal;e.addEventListener("focusin",E(this,Gt,N_).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",E(this,Gt,O_).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Bn,{signal:t})},$_=function(){const{editorType:e,_uiManager:t}=u(this,Yn),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",u(Wi,xc)[e]),E(this,Gt,Vd).call(this,i),i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),u(this,Zs).append(i)},Nm=function(){const e=document.createElement("div");return e.className="divider",e},S(Wi,Qf),S(Wi,xc,null);let Dm=Wi;var Cc,eo,to,Fs,H_,j_,z_;class OL{constructor(e){S(this,Fs);S(this,Cc,null);S(this,eo,null);S(this,to);w(this,to,e)}show(e,t,i){const[r,s]=E(this,Fs,j_).call(this,t,i),{style:o}=u(this,eo)||w(this,eo,E(this,Fs,H_).call(this));e.append(u(this,eo)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,eo).remove()}}Cc=new WeakMap,eo=new WeakMap,to=new WeakMap,Fs=new WeakSet,H_=function(){const e=w(this,eo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Bn,{signal:u(this,to)._signal});const t=w(this,Cc,document.createElement("div"));return t.className="buttons",e.append(t),E(this,Fs,z_).call(this),e},j_=function(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const a=s.x+(t?s.width:0);if(o>i){r=a,i=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,i]},z_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=u(this,to)._signal;e.addEventListener("contextmenu",Bn,{signal:i}),e.addEventListener("click",()=>{u(this,to).highlightSelection("floating_button")},{signal:i}),u(this,Cc).append(e)};function Gf(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}function $L(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Jf;class HL{constructor(){S(this,Jf,0)}get id(){return`${yL}${$t(this,Jf)._++}`}}Jf=new WeakMap;var Ja,kc,Rt,Za,Gd;const S0=class S0{constructor(){S(this,Za);S(this,Ja,LL());S(this,kc,0);S(this,Rt,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ue(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return E(this,Za,Gd).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return E(this,Za,Gd).call(this,e,e)}async getFromBlob(e,t){const i=await t;return E(this,Za,Gd).call(this,e,i)}async getFromId(e){u(this,Rt)||w(this,Rt,new Map);const t=u(this,Rt).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,Rt)||w(this,Rt,new Map);let i=u(this,Rt).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${u(this,Ja)}_${$t(this,kc)._++}`,refCounter:1,isSvg:!1},u(this,Rt).set(e,i),u(this,Rt).set(i.id,i),i}getSvgUrl(e){const t=u(this,Rt).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;u(this,Rt)||w(this,Rt,new Map);const t=u(this,Rt).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,Ja)}_`)}};Ja=new WeakMap,kc=new WeakMap,Rt=new WeakMap,Za=new WeakSet,Gd=async function(e,t){u(this,Rt)||w(this,Rt,new Map);let i=u(this,Rt).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${u(this,Ja)}_${$t(this,kc)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await zp(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=S0._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,h)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,c()},o.onload=async()=>{const d=i.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=h});o.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return u(this,Rt).set(e,i),i&&u(this,Rt).set(i.id,i),i};let Om=S0;var lt,Yr,Tc,ut;class jL{constructor(e=128){S(this,lt,[]);S(this,Yr,!1);S(this,Tc);S(this,ut,-1);w(this,Tc,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),u(this,Yr))return;const l={cmd:e,undo:t,post:i,type:s};if(u(this,ut)===-1){u(this,lt).length>0&&(u(this,lt).length=0),w(this,ut,0),u(this,lt).push(l);return}if(o&&u(this,lt)[u(this,ut)].type===s){a&&(l.undo=u(this,lt)[u(this,ut)].undo),u(this,lt)[u(this,ut)]=l;return}const c=u(this,ut)+1;c===u(this,Tc)?u(this,lt).splice(0,1):(w(this,ut,c),c<u(this,lt).length&&u(this,lt).splice(c)),u(this,lt).push(l)}undo(){if(u(this,ut)===-1)return;w(this,Yr,!0);const{undo:e,post:t}=u(this,lt)[u(this,ut)];e(),t==null||t(),w(this,Yr,!1),w(this,ut,u(this,ut)-1)}redo(){if(u(this,ut)<u(this,lt).length-1){w(this,ut,u(this,ut)+1),w(this,Yr,!0);const{cmd:e,post:t}=u(this,lt)[u(this,ut)];e(),t==null||t(),w(this,Yr,!1)}}hasSomethingToUndo(){return u(this,ut)!==-1}hasSomethingToRedo(){return u(this,ut)<u(this,lt).length-1}destroy(){w(this,lt,null)}}lt=new WeakMap,Yr=new WeakMap,Tc=new WeakMap,ut=new WeakMap;var Zf,B_;class Yh{constructor(e){S(this,Zf);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Vt.platform;for(const[i,r,s={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(E(this,Zf,B_).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(r.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Zf=new WeakSet,B_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const ep=class ep{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return NL(e),ue(this,"_colors",e)}convert(e){const t=p0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return ep._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?B.makeHexColor(...t):e}};Y(ep,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let $m=ep;var el,cn,Ze,mt,tl,Xi,nl,Kn,Kr,il,no,yi,qn,io,Rc,Pc,rl,Lc,wi,qr,sl,Qr,Ai,tp,Jr,Mc,Zr,ro,Ic,Fc,ct,me,Yi,so,Dc,Nc,es,Ei,Ki,Oc,Tn,O,Xd,Hm,U_,W_,Yd,V_,G_,X_,jm,Y_,zm,Bm,K_,Ht,jr,q_,Q_,Um,J_,Pu,Wm;const ja=class ja{constructor(e,t,i,r,s,o,a,l,c,h,d){S(this,O);S(this,el,new AbortController);S(this,cn,null);S(this,Ze,new Map);S(this,mt,new Map);S(this,tl,null);S(this,Xi,null);S(this,nl,null);S(this,Kn,new jL);S(this,Kr,null);S(this,il,0);S(this,no,new Set);S(this,yi,null);S(this,qn,null);S(this,io,new Set);S(this,Rc,!1);S(this,Pc,!1);S(this,rl,!1);S(this,Lc,null);S(this,wi,null);S(this,qr,null);S(this,sl,null);S(this,Qr,!1);S(this,Ai,null);S(this,tp,new HL);S(this,Jr,!1);S(this,Mc,!1);S(this,Zr,null);S(this,ro,null);S(this,Ic,null);S(this,Fc,null);S(this,ct,te.NONE);S(this,me,new Set);S(this,Yi,null);S(this,so,null);S(this,Dc,null);S(this,Nc,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,es,[0,0]);S(this,Ei,null);S(this,Ki,null);S(this,Oc,null);S(this,Tn,null);const f=this._signal=u(this,el).signal;w(this,Ki,e),w(this,Oc,t),w(this,tl,i),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:f}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),r._on("setpreference",this.onSetPreference.bind(this),{signal:f}),r._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:f}),E(this,O,V_).call(this),E(this,O,K_).call(this),E(this,O,jm).call(this),w(this,Xi,s.annotationStorage),w(this,Lc,s.filterFactory),w(this,so,o),w(this,sl,a||null),w(this,Rc,l),w(this,Pc,c),w(this,rl,h),w(this,Fc,d||null),this.viewParameters={realScale:Ms.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=ja.prototype,t=o=>u(o,Ki).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return ue(this,"_keyboardManager",new Yh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,Ki).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,Ki).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r;(e=u(this,Tn))==null||e.resolve(),w(this,Tn,null),(t=u(this,el))==null||t.abort(),w(this,el,null),this._signal=null;for(const s of u(this,mt).values())s.destroy();u(this,mt).clear(),u(this,Ze).clear(),u(this,io).clear(),w(this,cn,null),u(this,me).clear(),u(this,Kn).destroy(),(i=u(this,tl))==null||i.destroy(),(r=u(this,Ai))==null||r.hide(),w(this,Ai,null),u(this,wi)&&(clearTimeout(u(this,wi)),w(this,wi,null)),u(this,Ei)&&(clearTimeout(u(this,Ei)),w(this,Ei,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,Fc)}get useNewAltTextFlow(){return u(this,Pc)}get useNewAltTextWhenAddingImage(){return u(this,rl)}get hcmFilter(){return ue(this,"hcmFilter",u(this,so)?u(this,Lc).addHCMFilter(u(this,so).foreground,u(this,so).background):"none")}get direction(){return ue(this,"direction",getComputedStyle(u(this,Ki)).direction)}get highlightColors(){return ue(this,"highlightColors",u(this,sl)?new Map(u(this,sl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return ue(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){w(this,Ic,e)}editAltText(e,t=!1){var i;(i=u(this,tl))==null||i.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":w(this,rl,t);break}}onPageChanging({pageNumber:e}){w(this,il,e-1)}focusMainContainer(){u(this,Ki).focus()}findParent(e,t){for(const i of u(this,mt).values()){const{x:r,y:s,width:o,height:a}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+a)return i}return null}disableUserSelect(e=!1){u(this,Oc).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,io).add(e)}removeShouldRescale(e){u(this,io).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ms.PDF_TO_CSS_UNITS;for(const t of u(this,io))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}=t,a=t.toString(),c=E(this,O,Xd).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(c);if(!h)return;t.empty();const d=E(this,O,Hm).call(this,c),f=u(this,ct)===te.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(te.HIGHLIGHT,p);return}p()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,Xi)&&!u(this,Xi).has(e.id)&&u(this,Xi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,u(this,Qr)&&(w(this,Qr,!1),E(this,O,Yd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,me))if(t.div.contains(e)){w(this,ro,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,ro))return;const[e,t]=u(this,ro);w(this,ro,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){E(this,O,jm).call(this),E(this,O,zm).call(this)}removeEditListeners(){E(this,O,Y_).call(this),E(this,O,Bm).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of u(this,qn))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of u(this,qn))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=u(this,cn))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of u(this,me)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of u(this,qn))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){ie(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const c=await r.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)E(this,O,Um).call(this,l);E(this,O,Wm).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){ie(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,ct)!==te.NONE&&!this.isEditorHandlingKeyboard&&ja._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,Qr)&&(w(this,Qr,!1),E(this,O,Yd).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(E(this,O,G_).call(this),E(this,O,zm).call(this),E(this,O,Ht).call(this,{isEditing:u(this,ct)!==te.NONE,isEmpty:E(this,O,Pu).call(this),hasSomethingToUndo:u(this,Kn).hasSomethingToUndo(),hasSomethingToRedo:u(this,Kn).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,O,X_).call(this),E(this,O,Bm).call(this),E(this,O,Ht).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,qn)){w(this,qn,e);for(const t of u(this,qn))E(this,O,jr).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,tp).id}get currentLayer(){return u(this,mt).get(u(this,il))}getLayer(e){return u(this,mt).get(e)}get currentPageIndex(){return u(this,il)}addLayer(e){u(this,mt).set(e.pageIndex,e),u(this,Jr)?e.enable():e.disable()}removeLayer(e){u(this,mt).delete(e.pageIndex)}async updateMode(e,t=null,i=!1){if(u(this,ct)!==e&&!(u(this,Tn)&&(await u(this,Tn).promise,!u(this,Tn)))){if(w(this,Tn,Promise.withResolvers()),w(this,ct,e),e===te.NONE){this.setEditingState(!1),E(this,O,Q_).call(this),u(this,Tn).resolve();return}this.setEditingState(!0),await E(this,O,q_).call(this),this.unselectAll();for(const r of u(this,mt).values())r.updateMode(e);if(!t){i&&this.addNewEditorFromKeyboard(),u(this,Tn).resolve();return}for(const r of u(this,Ze).values())r.annotationElementId===t?(this.setSelected(r),r.enterInEditMode()):r.unselect();u(this,Tn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==u(this,ct)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(u(this,qn)){switch(e){case K.CREATE:this.currentLayer.addNewEditor();return;case K.HIGHLIGHT_DEFAULT_COLOR:(i=u(this,Ic))==null||i.updateColor(t);break;case K.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,Dc)||w(this,Dc,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of u(this,me))r.updateParams(e,t);for(const r of u(this,qn))r.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const o of u(this,Ze).values())o.editorType===e&&o.show(t);(((s=u(this,Dc))==null?void 0:s.get(K.HIGHLIGHT_SHOW_ALL))??!0)!==t&&E(this,O,jr).call(this,[[K.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,Mc)!==e){w(this,Mc,e);for(const t of u(this,mt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of u(this,Ze).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return u(this,Ze).get(e)}addEditor(e){u(this,Ze).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(u(this,wi)&&clearTimeout(u(this,wi)),w(this,wi,setTimeout(()=>{this.focusMainContainer(),w(this,wi,null)},0))),u(this,Ze).delete(e.id),this.unselect(e),(!e.annotationElementId||!u(this,no).has(e.annotationElementId))&&((t=u(this,Xi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){u(this,no).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,no).has(e)}removeDeletedAnnotationElement(e){u(this,no).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,cn)!==e&&(w(this,cn,e),e&&E(this,O,jr).call(this,e.propertiesToUpdate))}updateUI(e){u(this,O,J_)===e&&E(this,O,jr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(u(this,me).has(e)){u(this,me).delete(e),e.unselect(),E(this,O,Ht).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,me).add(e),e.select(),E(this,O,jr).call(this,e.propertiesToUpdate),E(this,O,Ht).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of u(this,me))t!==e&&t.unselect();u(this,me).clear(),u(this,me).add(e),e.select(),E(this,O,jr).call(this,e.propertiesToUpdate),E(this,O,Ht).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,me).has(e)}get firstSelectedEditor(){return u(this,me).values().next().value}unselect(e){e.unselect(),u(this,me).delete(e),E(this,O,Ht).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,me).size!==0}get isEnterHandled(){return u(this,me).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,Kn).undo(),E(this,O,Ht).call(this,{hasSomethingToUndo:u(this,Kn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,O,Pu).call(this)})}redo(){u(this,Kn).redo(),E(this,O,Ht).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Kn).hasSomethingToRedo(),isEmpty:E(this,O,Pu).call(this)})}addCommands(e){u(this,Kn).add(e),E(this,O,Ht).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,O,Pu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...u(this,me)],t=()=>{for(const r of e)r.remove()},i=()=>{for(const r of e)E(this,O,Um).call(this,r)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=u(this,cn))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,cn)||this.hasSelection}selectAll(){for(const e of u(this,me))e.commit();E(this,O,Wm).call(this,u(this,Ze).values())}unselectAll(){if(!(u(this,cn)&&(u(this,cn).commitOrRemove(),u(this,ct)!==te.NONE))&&this.hasSelection){for(const e of u(this,me))e.unselect();u(this,me).clear(),E(this,O,Ht).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;u(this,es)[0]+=e,u(this,es)[1]+=t;const[r,s]=u(this,es),o=[...u(this,me)],a=1e3;u(this,Ei)&&clearTimeout(u(this,Ei)),w(this,Ei,setTimeout(()=>{w(this,Ei,null),u(this,es)[0]=u(this,es)[1]=0,this.addCommands({cmd:()=>{for(const l of o)u(this,Ze).has(l.id)&&l.translateInPage(r,s)},undo:()=>{for(const l of o)u(this,Ze).has(l.id)&&l.translateInPage(-r,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,yi,new Map);for(const e of u(this,me))u(this,yi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,yi))return!1;this.disableUserSelect(!1);const e=u(this,yi);w(this,yi,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},a]of e)a.newX=r,a.newY=s,a.newPageIndex=o,t||(t=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const i=(r,s,o,a)=>{if(u(this,Ze).has(r.id)){const l=u(this,mt).get(a);l?r._setParentAndPosition(l,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of e)i(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of e)i(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,yi))for(const i of u(this,yi).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,me).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,cn)===e}getActive(){return u(this,cn)}getMode(){return u(this,ct)}get imageManager(){return ue(this,"imageManager",new Om)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,h=t.rangeCount;c<h;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,h,d,f)=>({x:(h-r)/o,y:1-(c+d-i)/s,width:f/o,height:d/s});break;case"180":a=(c,h,d,f)=>({x:1-(c+d-i)/s,y:1-(h+f-r)/o,width:d/s,height:f/o});break;case"270":a=(c,h,d,f)=>({x:1-(h+f-r)/o,y:(c-i)/s,width:f/o,height:d/s});break;default:a=(c,h,d,f)=>({x:(c-i)/s,y:(h-r)/o,width:d/s,height:f/o});break}const l=[];for(let c=0,h=t.rangeCount;c<h;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:m,height:v}of d.getClientRects())m===0||v===0||l.push(a(f,p,m,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,nl)||w(this,nl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,nl))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=u(this,nl))==null?void 0:r.get(e.data.id);if(!t)return;const i=u(this,Xi).getRawValue(t);i&&(u(this,ct)===te.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};el=new WeakMap,cn=new WeakMap,Ze=new WeakMap,mt=new WeakMap,tl=new WeakMap,Xi=new WeakMap,nl=new WeakMap,Kn=new WeakMap,Kr=new WeakMap,il=new WeakMap,no=new WeakMap,yi=new WeakMap,qn=new WeakMap,io=new WeakMap,Rc=new WeakMap,Pc=new WeakMap,rl=new WeakMap,Lc=new WeakMap,wi=new WeakMap,qr=new WeakMap,sl=new WeakMap,Qr=new WeakMap,Ai=new WeakMap,tp=new WeakMap,Jr=new WeakMap,Mc=new WeakMap,Zr=new WeakMap,ro=new WeakMap,Ic=new WeakMap,Fc=new WeakMap,ct=new WeakMap,me=new WeakMap,Yi=new WeakMap,so=new WeakMap,Dc=new WeakMap,Nc=new WeakMap,es=new WeakMap,Ei=new WeakMap,Ki=new WeakMap,Oc=new WeakMap,Tn=new WeakMap,O=new WeakSet,Xd=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Hm=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of u(this,mt).values())if(i.hasTextLayer(e))return i;return null},U_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=E(this,O,Xd).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(u(this,Ai)||w(this,Ai,new OL(this)),u(this,Ai).show(i,r,this.direction==="ltr"))},W_=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){u(this,Yi)&&((s=u(this,Ai))==null||s.hide(),w(this,Yi,null),E(this,O,Ht).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,Yi))return;const r=E(this,O,Xd).call(this,e).closest(".textLayer");if(!r){u(this,Yi)&&((o=u(this,Ai))==null||o.hide(),w(this,Yi,null),E(this,O,Ht).call(this,{hasSelectedText:!1}));return}if((a=u(this,Ai))==null||a.hide(),w(this,Yi,t),E(this,O,Ht).call(this,{hasSelectedText:!0}),!(u(this,ct)!==te.HIGHLIGHT&&u(this,ct)!==te.NONE)&&(u(this,ct)===te.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,Qr,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,ct)===te.HIGHLIGHT?E(this,O,Hm).call(this,r):null;l==null||l.toggleDrawing();const c=new AbortController,h=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&E(this,O,Yd).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}},Yd=function(e=""){u(this,ct)===te.HIGHLIGHT?this.highlightSelection(e):u(this,Rc)&&E(this,O,U_).call(this)},V_=function(){document.addEventListener("selectionchange",E(this,O,W_).bind(this),{signal:this._signal})},G_=function(){if(u(this,qr))return;w(this,qr,new AbortController);const e=this.combinedSignal(u(this,qr));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},X_=function(){var e;(e=u(this,qr))==null||e.abort(),w(this,qr,null)},jm=function(){if(u(this,Zr))return;w(this,Zr,new AbortController);const e=this.combinedSignal(u(this,Zr));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Y_=function(){var e;(e=u(this,Zr))==null||e.abort(),w(this,Zr,null)},zm=function(){if(u(this,Kr))return;w(this,Kr,new AbortController);const e=this.combinedSignal(u(this,Kr));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Bm=function(){var e;(e=u(this,Kr))==null||e.abort(),w(this,Kr,null)},K_=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ht=function(e){Object.entries(e).some(([i,r])=>u(this,Nc)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Nc),e)}),u(this,ct)===te.HIGHLIGHT&&e.hasSelectedEditor===!1&&E(this,O,jr).call(this,[[K.HIGHLIGHT_FREE,!0]]))},jr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},q_=async function(){if(!u(this,Jr)){w(this,Jr,!0);const e=[];for(const t of u(this,mt).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,Ze).values())t.enable()}},Q_=function(){if(this.unselectAll(),u(this,Jr)){w(this,Jr,!1);for(const e of u(this,mt).values())e.disable();for(const e of u(this,Ze).values())e.disable()}},Um=function(e){const t=u(this,mt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},J_=function(){let e=null;for(e of u(this,me));return e},Pu=function(){if(u(this,Ze).size===0)return!0;if(u(this,Ze).size===1)for(const e of u(this,Ze).values())return e.isEmpty();return!1},Wm=function(e){for(const t of u(this,me))t.unselect();u(this,me).clear();for(const t of e)t.isEmpty()||(u(this,me).add(t),t.select());E(this,O,Ht).call(this,{hasSelectedEditor:this.hasSelection})},Y(ja,"TRANSLATE_SMALL",1),Y(ja,"TRANSLATE_BIG",10);let ra=ja;var ht,Si,Qn,ol,_i,hn,al,bi,Jt,qi,oo,xi,ts,ui,Lu,Kd;const jt=class jt{constructor(e){S(this,ui);S(this,ht,null);S(this,Si,!1);S(this,Qn,null);S(this,ol,null);S(this,_i,null);S(this,hn,null);S(this,al,!1);S(this,bi,null);S(this,Jt,null);S(this,qi,null);S(this,oo,null);S(this,xi,!1);w(this,Jt,e),w(this,xi,e._uiManager.useNewAltTextFlow),u(jt,ts)||w(jt,ts,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){jt._l10n??(jt._l10n=e)}async render(){const e=w(this,Qn,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=w(this,ol,document.createElement("span"));e.append(t),u(this,xi)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(jt,ts).missing),t.setAttribute("data-l10n-id",u(jt,ts)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=u(this,Jt)._uiManager._signal;e.addEventListener("contextmenu",Bn,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),u(this,Jt)._uiManager.editAltText(u(this,Jt)),u(this,xi)&&u(this,Jt)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,ui,Lu)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(w(this,al,!0),r(s))},{signal:i}),await E(this,ui,Kd).call(this),e}finish(){u(this,Qn)&&(u(this,Qn).focus({focusVisible:u(this,al)}),w(this,al,!1))}isEmpty(){return u(this,xi)?u(this,ht)===null:!u(this,ht)&&!u(this,Si)}hasData(){return u(this,xi)?u(this,ht)!==null||!!u(this,qi):this.isEmpty()}get guessedText(){return u(this,qi)}async setGuessedText(e){u(this,ht)===null&&(w(this,qi,e),w(this,oo,await jt._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),E(this,ui,Kd).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,xi)||u(this,ht)){(t=u(this,bi))==null||t.remove(),w(this,bi,null);return}if(!u(this,bi)){const i=w(this,bi,document.createElement("div"));i.className="noAltTextBadge",u(this,Jt).div.append(i)}u(this,bi).classList.toggle("hidden",!e)}serialize(e){let t=u(this,ht);return!e&&u(this,qi)===t&&(t=u(this,oo)),{altText:t,decorative:u(this,Si),guessedText:u(this,qi),textWithDisclaimer:u(this,oo)}}get data(){return{altText:u(this,ht),decorative:u(this,Si)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(w(this,qi,i),w(this,oo,r)),!(u(this,ht)===e&&u(this,Si)===t)&&(s||(w(this,ht,e),w(this,Si,t)),E(this,ui,Kd).call(this))}toggle(e=!1){u(this,Qn)&&(!e&&u(this,hn)&&(clearTimeout(u(this,hn)),w(this,hn,null)),u(this,Qn).disabled=!e)}shown(){u(this,Jt)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,ui,Lu)}})}destroy(){var e,t;(e=u(this,Qn))==null||e.remove(),w(this,Qn,null),w(this,ol,null),w(this,_i,null),(t=u(this,bi))==null||t.remove(),w(this,bi,null)}};ht=new WeakMap,Si=new WeakMap,Qn=new WeakMap,ol=new WeakMap,_i=new WeakMap,hn=new WeakMap,al=new WeakMap,bi=new WeakMap,Jt=new WeakMap,qi=new WeakMap,oo=new WeakMap,xi=new WeakMap,ts=new WeakMap,ui=new WeakSet,Lu=function(){return u(this,ht)&&"added"||u(this,ht)===null&&this.guessedText&&"review"||"missing"},Kd=async function(){var r,s,o;const e=u(this,Qn);if(!e)return;if(u(this,xi)){if(e.classList.toggle("done",!!u(this,ht)),e.setAttribute("data-l10n-id",u(jt,ts)[u(this,ui,Lu)]),(r=u(this,ol))==null||r.setAttribute("data-l10n-id",u(jt,ts)[`${u(this,ui,Lu)}-label`]),!u(this,ht)){(s=u(this,_i))==null||s.remove();return}}else{if(!u(this,ht)&&!u(this,Si)){e.classList.remove("done"),(o=u(this,_i))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,_i);if(!t){w(this,_i,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,Jt).id}`;const a=100,l=u(this,Jt)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,hn)),w(this,hn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{w(this,hn,setTimeout(()=>{w(this,hn,null),u(this,_i).classList.add("show"),u(this,Jt)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;u(this,hn)&&(clearTimeout(u(this,hn)),w(this,hn,null)),(c=u(this,_i))==null||c.classList.remove("show")},{signal:l})}u(this,Si)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,ht)),t.parentNode||e.append(t);const i=u(this,Jt).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},S(jt,ts,null),Y(jt,"_l10n",null);let Xf=jt;var ao,Jn,Ie,ll,lo,vt,uo,ns,$c,co,is,Hc,ho,Qi,Ci,ul,cl,Rn,jc,np,ne,Vm,zc,Gm,Xm,Z_,e1,Ym,Km,qm,t1,Qm,n1,i1,r1,Jm,Mu;const pe=class pe{constructor(e){S(this,ne);S(this,ao,null);S(this,Jn,null);S(this,Ie,null);S(this,ll,!1);S(this,lo,!1);S(this,vt,null);S(this,uo,null);S(this,ns,null);S(this,$c,"");S(this,co,!1);S(this,is,null);S(this,Hc,!1);S(this,ho,!1);S(this,Qi,!1);S(this,Ci,null);S(this,ul,0);S(this,cl,0);S(this,Rn,null);Y(this,"_editToolbar",null);Y(this,"_initialOptions",Object.create(null));Y(this,"_initialData",null);Y(this,"_isVisible",!0);Y(this,"_uiManager",null);Y(this,"_focusEventsAllowed",!0);S(this,jc,!1);S(this,np,pe._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=pe.prototype._resizeWithKeyboard,t=ra.TRANSLATE_SMALL,i=ra.TRANSLATE_BIG;return ue(this,"_resizerKeyboardManager",new Yh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],pe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return ue(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new zL({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(pe._l10n??(pe._l10n=e),pe._l10nResizer||(pe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),pe._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);pe._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ke("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,jc)}set _isDraggable(e){var t;w(this,jc,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,np)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):E(this,ne,Mu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,co)?w(this,co,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}translate(e,t){E(this,ne,Vm).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,is)||w(this,is,[this.x,this.y]),E(this,ne,Vm).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){u(this,is)||w(this,is,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,is)&&(u(this,is)[0]!==this.x||u(this,is)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=pe,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:r,y:s,width:o,height:a}=this;if(o*=t,a*=i,r*=t,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-o,r)),s=Math.max(0,Math.min(i-a,s));break;case 90:r=Math.max(0,Math.min(t-a,r)),s=Math.min(i,Math.max(o,s));break;case 180:r=Math.min(t,Math.max(o,r)),s=Math.min(i,Math.max(a,s));break;case 270:r=Math.min(t,Math.max(a,r)),s=Math.max(0,Math.min(i-o,s));break}this.x=r/=t,this.y=s/=i;const[l,c]=this.getBaseTranslation();r+=l,s+=c;const{style:h}=this.div;h.left=`${(100*r).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return E(i=pe,zc,Gm).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return E(i=pe,zc,Gm).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(e,t){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,u(this,lo)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),s=!u(this,lo)&&t.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!u(this,lo)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=u(this,Ie))==null||e.finish()}async addEditToolbar(){return this._editToolbar||u(this,ho)?this._editToolbar:(this._editToolbar=new Dm(this),this.div.append(this._editToolbar.render()),u(this,Ie)&&await this._editToolbar.addAltText(u(this,Ie)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,Ie))==null||e.destroy())}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,Ie)||(Xf.initialize(pe._l10n),w(this,Ie,new Xf(this)),u(this,ao)&&(u(this,Ie).data=u(this,ao),w(this,ao,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=u(this,Ie))==null?void 0:e.data}set altTextData(e){u(this,Ie)&&(u(this,Ie).data=e)}get guessedAltText(){var e;return(e=u(this,Ie))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,Ie))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,Ie))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,Ie)&&!u(this,Ie).isEmpty()}hasAltTextData(){var e;return((e=u(this,Ie))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,ll)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),E(this,ne,Qm).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),Gf(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Vt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(w(this,co,!0),this._isDraggable){E(this,ne,t1).call(this,e);return}E(this,ne,qm).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){u(this,Ci)&&clearTimeout(u(this,Ci)),w(this,Ci,setTimeout(()=>{var e;w(this,Ci,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/r,h=t/r,d=this.x*s,f=this.y*o,p=this.width*s,m=this.height*o;switch(i){case 0:return[d+c+a,o-f-h-m+l,d+c+p+a,o-f-h+l];case 90:return[d+h+a,o-f+c+l,d+h+m+a,o-f+c+p+l];case 180:return[d-c-p+a,o-f+h+l,d-c+a,o-f+h+m+l];case 270:return[d-h-m+a,o-f-c-p+l,d-h+a,o-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,t-o,a,l];case 90:return[i,t-r,l,a];case 180:return[s,t-r,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){w(this,ho,!0)}disableEditMode(){w(this,ho,!1)}isInEditMode(){return u(this,ho)}shouldGetKeyboardEvents(){return u(this,Qi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){E(this,ne,Qm).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){ke("An editor must be serializable")}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation,w(r,ao,e.accessibilityData);const[s,o]=r.pageDimensions,[a,l,c,h]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=c/s,r.height=h/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=u(this,ns))==null||e.abort(),w(this,ns,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,Ci)&&(clearTimeout(u(this,Ci)),w(this,Ci,null)),E(this,ne,Mu).call(this),this.removeEditToolbar(),u(this,Rn)){for(const t of u(this,Rn).values())clearTimeout(t);w(this,Rn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,ne,Z_).call(this),u(this,vt).classList.remove("hidden"),Gf(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),w(this,uo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,vt).children;if(!u(this,Jn)){w(this,Jn,Array.from(t));const o=E(this,ne,n1).bind(this),a=E(this,ne,i1).bind(this),l=this._uiManager._signal;for(const c of u(this,Jn)){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",E(this,ne,r1).bind(this,h),{signal:l}),c.setAttribute("data-l10n-id",pe._l10nResizer[h])}}const i=u(this,Jn)[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(u(this,Jn).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)u(this,vt).append(u(this,vt).firstChild);else if(s>r)for(let a=0;a<s-r;a++)u(this,vt).firstChild.before(u(this,vt).lastChild);let o=0;for(const a of t){const c=u(this,Jn)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",pe._l10nResizer[c])}}E(this,ne,Jm).call(this,0),w(this,Qi,!0),u(this,vt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,Qi)&&E(this,ne,Km).call(this,u(this,$c),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){E(this,ne,Mu).call(this),this.div.focus()}select(){var e,t,i;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=u(this,Ie))==null||i.toggleAltTextBadge(!1)}unselect(){var e,t,i,r,s;(e=u(this,vt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=u(this,Ie))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,Hc)}set isEditing(e){w(this,Hc,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){w(this,lo,!0);const i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,Rn)||w(this,Rn,new Map);const{action:i}=e;let r=u(this,Rn).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),u(this,Rn).delete(i),u(this,Rn).size===0&&w(this,Rn,null)},pe._telemetryTimeout),u(this,Rn).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),w(this,ll,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,ll,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};ao=new WeakMap,Jn=new WeakMap,Ie=new WeakMap,ll=new WeakMap,lo=new WeakMap,vt=new WeakMap,uo=new WeakMap,ns=new WeakMap,$c=new WeakMap,co=new WeakMap,is=new WeakMap,Hc=new WeakMap,ho=new WeakMap,Qi=new WeakMap,Ci=new WeakMap,ul=new WeakMap,cl=new WeakMap,Rn=new WeakMap,jc=new WeakMap,np=new WeakMap,ne=new WeakSet,Vm=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()},zc=new WeakSet,Gm=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Xm=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},Z_=function(){if(u(this,vt))return;w(this,vt,document.createElement("div")),u(this,vt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");u(this,vt).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",E(this,ne,e1).bind(this,i),{signal:t}),r.addEventListener("contextmenu",Bn,{signal:t}),r.tabIndex=-1}this.div.prepend(u(this,vt))},e1=function(e,t){var m;t.preventDefault();const{isMac:i}=Vt.platform;if(t.button!==0||t.ctrlKey&&i)return;(m=u(this,Ie))==null||m.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",E(this,ne,Km).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",Bn,{signal:o});const a=this.x,l=this.y,c=this.width,h=this.height,d=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var v;s.abort(),this.parent.togglePointerEvents(!0),(v=u(this,Ie))==null||v.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=d,this.div.style.cursor=f,E(this,ne,Ym).call(this,a,l,c,h)};window.addEventListener("pointerup",p,{signal:o}),window.addEventListener("blur",p,{signal:o})},Ym=function(e,t,i,r){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===i&&l===r||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,h]=this.parentDimensions;this.setDims(c*a,h*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;const[c,h]=this.parentDimensions;this.setDims(c*i,h*r),this.fixAndSetPosition()},mustExec:!0})},Km=function(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=pe.MIN_SIZE/i,h=pe.MIN_SIZE/r,d=H=>Math.round(H*1e4)/1e4,f=E(this,ne,Xm).call(this,this.rotation),p=(H,M)=>[f[0]*H+f[2]*M,f[1]*H+f[3]*M],m=E(this,ne,Xm).call(this,360-this.rotation),v=(H,M)=>[m[0]*H+m[2]*M,m[1]*H+m[3]*M];let _,g,y=!1,A=!1;switch(e){case"topLeft":y=!0,_=(H,M)=>[0,0],g=(H,M)=>[H,M];break;case"topMiddle":_=(H,M)=>[H/2,0],g=(H,M)=>[H/2,M];break;case"topRight":y=!0,_=(H,M)=>[H,0],g=(H,M)=>[0,M];break;case"middleRight":A=!0,_=(H,M)=>[H,M/2],g=(H,M)=>[0,M/2];break;case"bottomRight":y=!0,_=(H,M)=>[H,M],g=(H,M)=>[0,0];break;case"bottomMiddle":_=(H,M)=>[H/2,M],g=(H,M)=>[H/2,0];break;case"bottomLeft":y=!0,_=(H,M)=>[0,M],g=(H,M)=>[H,0];break;case"middleLeft":A=!0,_=(H,M)=>[0,M/2],g=(H,M)=>[H,M/2];break}const x=_(a,l),C=g(a,l);let k=p(...C);const T=d(s+k[0]),R=d(o+k[1]);let L=1,I=1,[D,Q]=this.screenToPageTranslation(t.movementX,t.movementY);if([D,Q]=v(D/i,Q/r),y){const H=Math.hypot(a,l);L=I=Math.max(Math.min(Math.hypot(C[0]-x[0]-D,C[1]-x[1]-Q)/H,1/a,1/l),c/a,h/l)}else A?L=Math.max(c,Math.min(1,Math.abs(C[0]-x[0]-D)))/a:I=Math.max(h,Math.min(1,Math.abs(C[1]-x[1]-Q)))/l;const G=d(a*L),V=d(l*I);k=p(...g(G,V));const J=T-k[0],X=R-k[1];this.width=G,this.height=V,this.x=J,this.y=X,this.setDims(i*G,r*V),this.fixAndSetPosition()},qm=function(e){const{isMac:t}=Vt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},t1=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const i=new AbortController,r=this._uiManager.combinedSignal(i);if(t){this.div.classList.add("moving"),w(this,ul,e.clientX),w(this,cl,e.clientY);const o=a=>{const{clientX:l,clientY:c}=a,[h,d]=this.screenToPageTranslation(l-u(this,ul),c-u(this,cl));w(this,ul,l),w(this,cl,c),this._uiManager.dragSelectedEditors(h,d)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:r})}const s=()=>{i.abort(),t&&this.div.classList.remove("moving"),w(this,co,!1),this._uiManager.endDragSession()||E(this,ne,qm).call(this,e)};window.addEventListener("pointerup",s,{signal:r}),window.addEventListener("blur",s,{signal:r})},Qm=function(){if(u(this,ns)||!this.div)return;w(this,ns,new AbortController);const e=this._uiManager.combinedSignal(u(this,ns));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},n1=function(e){pe._resizerKeyboardManager.exec(this,e)},i1=function(e){var t;u(this,Qi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,vt)&&E(this,ne,Mu).call(this)},r1=function(e){w(this,$c,u(this,Qi)?e:"")},Jm=function(e){if(u(this,Jn))for(const t of u(this,Jn))t.tabIndex=e},Mu=function(){if(w(this,Qi,!1),E(this,ne,Jm).call(this,-1),u(this,uo)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=u(this,uo);E(this,ne,Ym).call(this,e,t,i,r),w(this,uo,null)}},S(pe,zc),Y(pe,"_l10n",null),Y(pe,"_l10nResizer",null),Y(pe,"_borderLineWidth",-1),Y(pe,"_colorManager",new $m),Y(pe,"_zIndex",1),Y(pe,"_telemetryTimeout",1e3);let ye=pe;class zL extends ye{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const sA=3285377520,kn=4294901760,mi=65535;class s1{constructor(e){this.h1=e?e&4294967295:sA,this.h2=e?e&4294967295:sA}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let v=0,_=e.length;v<_;v++){const g=e.charCodeAt(v);g<=255?t[i++]=g:(t[i++]=g>>>8,t[i++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,l=0,c=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&mi,m=f&mi;for(let v=0;v<r;v++)v&1?(a=o[v],a=a*d&kn|a*p&mi,a=a<<15|a>>>17,a=a*f&kn|a*m&mi,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[v],l=l*d&kn|l*p&mi,l=l<<15|l>>>17,l=l*f&kn|l*m&mi,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,s){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*d&kn|a*p&mi,a=a<<15|a>>>17,a=a*f&kn|a*m&mi,r&1?c^=a:h^=a}this.h1=c,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&kn|e*36045&mi,t=t*4283543511&kn|((t<<16|e>>>16)*2950163797&kn)>>>16,e^=t>>>1,e=e*444984403&kn|e*60499&mi,t=t*3301882366&kn|((t<<16|e>>>16)*3120437893&kn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Zm=Object.freeze({map:null,hash:"",transfer:void 0});var fo,po,dt,ip,o1;class g0{constructor(){S(this,ip);S(this,fo,!1);S(this,po,null);S(this,dt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=u(this,dt).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return u(this,dt).get(e)}remove(e){if(u(this,dt).delete(e),u(this,dt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,dt).values())if(t instanceof ye)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=u(this,dt).get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,u(this,dt).set(e,t);r&&E(this,ip,o1).call(this),t instanceof ye&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,dt).has(e)}getAll(){return u(this,dt).size>0?u0(u(this,dt)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return u(this,dt).size}resetModified(){u(this,fo)&&(w(this,fo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new a1(this)}get serializable(){if(u(this,dt).size===0)return Zm;const e=new Map,t=new s1,i=[],r=Object.create(null);let s=!1;for(const[o,a]of u(this,dt)){const l=a instanceof ye?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Zm}get editorStats(){let e=null;const t=new Map;for(const i of u(this,dt).values()){if(!(i instanceof ye))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){w(this,po,null)}get modifiedIds(){if(u(this,po))return u(this,po);const e=[];for(const t of u(this,dt).values())!(t instanceof ye)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return w(this,po,{ids:new Set(e),hash:e.join(",")})}}fo=new WeakMap,po=new WeakMap,dt=new WeakMap,ip=new WeakSet,o1=function(){u(this,fo)||(w(this,fo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Bc;class a1 extends g0{constructor(t){super();S(this,Bc);const{map:i,hash:r,transfer:s}=t.serializable,o=structuredClone(i,s?{transfer:s}:null);w(this,Bc,{map:o,hash:r,transfer:s})}get print(){ke("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Bc)}get modifiedIds(){return ue(this,"modifiedIds",{ids:new Set,hash:""})}}Bc=new WeakMap;var hl;class BL{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,hl,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,hl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||u(this,hl).has(e.loadedName))){if(it(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,o=new FontFace(i,r,s);this.addNativeFontFace(o);try{await o.load(),u(this,hl).add(i),t==null||t(e)}catch{ie(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}ke("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw ie(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ue(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Dt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),ue(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(it(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ue(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(x,C){return x.charCodeAt(C)<<24|x.charCodeAt(C+1)<<16|x.charCodeAt(C+2)<<8|x.charCodeAt(C+3)&255}function r(x,C,k,T){const R=x.substring(0,C),L=x.substring(C+k);return R+T+L}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function h(x,C){if(++c>30){ie("Load test font never loaded."),C();return}if(l.font="30px "+x,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(h.bind(null,x,C))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,d.length,d);const m=16,v=1482184792;let _=i(f,m);for(s=0,o=d.length-3;s<o;s+=4)_=_-v+i(d,s)|0;s<d.length&&(_=_-v+i(d+"XXX",s)|0),f=r(f,m,4,CL(_));const g=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${d}";src:${g}}`;this.insertRule(y);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const x of[e.loadedName,d]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=x,A.append(C)}this._document.body.append(A),h(d,()=>{A.remove(),t.complete()})}}hl=new WeakMap;class UL{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${ML(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(s){ie(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(s,o){};const r=[];for(let s=0,o=i.length;s<o;)switch(i[s++]){case ji.BEZIER_CURVE_TO:{const[a,l,c,h,d,f]=i.slice(s,s+6);r.push(p=>p.bezierCurveTo(a,l,c,h,d,f)),s+=6}break;case ji.MOVE_TO:{const[a,l]=i.slice(s,s+2);r.push(c=>c.moveTo(a,l)),s+=2}break;case ji.LINE_TO:{const[a,l]=i.slice(s,s+2);r.push(c=>c.lineTo(a,l)),s+=2}break;case ji.QUADRATIC_CURVE_TO:{const[a,l,c,h]=i.slice(s,s+4);r.push(d=>d.quadraticCurveTo(a,l,c,h)),s+=4}break;case ji.RESTORE:r.push(a=>a.restore());break;case ji.SAVE:r.push(a=>a.save());break;case ji.SCALE:it(r.length===2,"Scale command is only valid at the third position.");break;case ji.TRANSFORM:{const[a,l,c,h,d,f]=i.slice(s,s+6);r.push(p=>p.transform(a,l,c,h,d,f)),s+=6}break;case ji.TRANSLATE:{const[a,l]=i.slice(s,s+2);r.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let l=2,c=r.length;l<c;l++)r[l](o)}}}var Uc;class l1{constructor({enableHWA:e=!1}){S(this,Uc,!1);w(this,Uc,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!u(this,Uc)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ke("Abstract method `_createCanvas` called.")}}Uc=new WeakMap;class WL extends l1{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class u1{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){ke("Abstract method `_fetch` called.")}}class c1 extends u1{async _fetch(e){const t=await zp(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):jp(t)}}class h1{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var go,mo,ki,Ji,Pt,rp,vo,$,Tt,Aa,Ea,qd,Sa,d1,ev,_a,Iu,Fu,tv,Du;class VL extends h1{constructor({docId:t,ownerDocument:i=globalThis.document}){super();S(this,$);S(this,go);S(this,mo);S(this,ki);S(this,Ji);S(this,Pt);S(this,rp);S(this,vo,0);w(this,Ji,t),w(this,Pt,i)}addFilter(t){if(!t)return"none";let i=u(this,$,Tt).get(t);if(i)return i;const[r,s,o]=E(this,$,qd).call(this,t),a=t.length===1?r:`${r}${s}${o}`;if(i=u(this,$,Tt).get(a),i)return u(this,$,Tt).set(t,i),i;const l=`g_${u(this,Ji)}_transfer_map_${$t(this,vo)._++}`,c=E(this,$,Sa).call(this,l);u(this,$,Tt).set(t,c),u(this,$,Tt).set(a,c);const h=E(this,$,_a).call(this,l);return E(this,$,Fu).call(this,r,s,o,h),c}addHCMFilter(t,i){var m;const r=`${t}-${i}`,s="base";let o=u(this,$,Aa).get(s);if((o==null?void 0:o.key)===r||(o?((m=o.filter)==null||m.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},u(this,$,Aa).set(s,o)),!t||!i))return o.url;const a=E(this,$,Du).call(this,t);t=B.makeHexColor(...a);const l=E(this,$,Du).call(this,i);if(i=B.makeHexColor(...l),u(this,$,Ea).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const c=new Array(256);for(let v=0;v<=255;v++){const _=v/255;c[v]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const h=c.join(","),d=`g_${u(this,Ji)}_hcm_filter`,f=o.filter=E(this,$,_a).call(this,d);E(this,$,Fu).call(this,h,h,h,f),E(this,$,ev).call(this,f);const p=(v,_)=>{const g=a[v]/255,y=l[v]/255,A=new Array(_+1);for(let x=0;x<=_;x++)A[x]=g+x/_*(y-g);return A.join(",")};return E(this,$,Fu).call(this,p(0,5),p(1,5),p(2,5),f),o.url=E(this,$,Sa).call(this,d),o.url}addAlphaFilter(t){let i=u(this,$,Tt).get(t);if(i)return i;const[r]=E(this,$,qd).call(this,[t]),s=`alpha_${r}`;if(i=u(this,$,Tt).get(s),i)return u(this,$,Tt).set(t,i),i;const o=`g_${u(this,Ji)}_alpha_map_${$t(this,vo)._++}`,a=E(this,$,Sa).call(this,o);u(this,$,Tt).set(t,a),u(this,$,Tt).set(s,a);const l=E(this,$,_a).call(this,o);return E(this,$,tv).call(this,r,l),a}addLuminosityFilter(t){let i=u(this,$,Tt).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=E(this,$,qd).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=u(this,$,Tt).get(s),i)return u(this,$,Tt).set(t,i),i;const o=`g_${u(this,Ji)}_luminosity_map_${$t(this,vo)._++}`,a=E(this,$,Sa).call(this,o);u(this,$,Tt).set(t,a),u(this,$,Tt).set(s,a);const l=E(this,$,_a).call(this,o);return E(this,$,d1).call(this,l),t&&E(this,$,tv).call(this,r,l),a}addHighlightHCMFilter(t,i,r,s,o){var y;const a=`${i}-${r}-${s}-${o}`;let l=u(this,$,Aa).get(t);if((l==null?void 0:l.key)===a||(l?((y=l.filter)==null||y.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},u(this,$,Aa).set(t,l)),!i||!r))return l.url;const[c,h]=[i,r].map(E(this,$,Du).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,m]=[s,o].map(E(this,$,Du).bind(this));f<d&&([d,f,p,m]=[f,d,m,p]),u(this,$,Ea).style.color="";const v=(A,x,C)=>{const k=new Array(256),T=(f-d)/C,R=A/255,L=(x-A)/(255*C);let I=0;for(let D=0;D<=C;D++){const Q=Math.round(d+D*T),G=R+D*L;for(let V=I;V<=Q;V++)k[V]=G;I=Q+1}for(let D=I;D<256;D++)k[D]=k[I-1];return k.join(",")},_=`g_${u(this,Ji)}_hcm_${t}_filter`,g=l.filter=E(this,$,_a).call(this,_);return E(this,$,ev).call(this,g),E(this,$,Fu).call(this,v(p[0],m[0],5),v(p[1],m[1],5),v(p[2],m[2],5),g),l.url=E(this,$,Sa).call(this,_),l.url}destroy(t=!1){t&&u(this,$,Aa).size!==0||(u(this,ki)&&(u(this,ki).parentNode.parentNode.remove(),w(this,ki,null)),u(this,mo)&&(u(this,mo).clear(),w(this,mo,null)),w(this,vo,0))}}go=new WeakMap,mo=new WeakMap,ki=new WeakMap,Ji=new WeakMap,Pt=new WeakMap,rp=new WeakMap,vo=new WeakMap,$=new WeakSet,Tt=function(){return u(this,mo)||w(this,mo,new Map)},Aa=function(){return u(this,rp)||w(this,rp,new Map)},Ea=function(){if(!u(this,ki)){const t=u(this,Pt).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=u(this,Pt).createElementNS(Bi,"svg");r.setAttribute("width",0),r.setAttribute("height",0),w(this,ki,u(this,Pt).createElementNS(Bi,"defs")),t.append(r),r.append(u(this,ki)),u(this,Pt).body.append(t)}return u(this,ki)},qd=function(t){if(t.length===1){const c=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=c[f]/255;const d=h.join(",");return[d,d,d]}const[i,r,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=i[c]/255,a[c]=r[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},Sa=function(t){if(u(this,go)===void 0){w(this,go,"");const i=u(this,Pt).URL;i!==u(this,Pt).baseURI&&(Bp(i)?ie('#createUrl: ignore "data:"-URL for performance reasons.'):w(this,go,i.split("#",1)[0]))}return`url(${u(this,go)}#${t})`},d1=function(t){const i=u(this,Pt).createElementNS(Bi,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},ev=function(t){const i=u(this,Pt).createElementNS(Bi,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},_a=function(t){const i=u(this,Pt).createElementNS(Bi,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),u(this,$,Ea).append(i),i},Iu=function(t,i,r){const s=u(this,Pt).createElementNS(Bi,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},Fu=function(t,i,r,s){const o=u(this,Pt).createElementNS(Bi,"feComponentTransfer");s.append(o),E(this,$,Iu).call(this,o,"feFuncR",t),E(this,$,Iu).call(this,o,"feFuncG",i),E(this,$,Iu).call(this,o,"feFuncB",r)},tv=function(t,i){const r=u(this,Pt).createElementNS(Bi,"feComponentTransfer");i.append(r),E(this,$,Iu).call(this,r,"feFuncA",t)},Du=function(t){return u(this,$,Ea).style.color=t,p0(getComputedStyle(u(this,$,Ea)).getPropertyValue("color"))};class f1{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){ke("Abstract method `_fetch` called.")}}class p1 extends f1{async _fetch(e){const t=await zp(e,"arraybuffer");return new Uint8Array(t)}}if(Dt){var nv=Promise.withResolvers(),nc=null;(async()=>{const e=await wd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await wd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await wd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await wd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:i,url:r,canvas:s,path2d:o}))})().then(e=>{nc=e,nv.resolve()},e=>{ie(`loadPackages: ${e}`),nc=new Map,nv.resolve()})}class Is{static get promise(){return nv.promise}static get(e){return nc==null?void 0:nc.get(e)}}async function g1(n){const t=await Is.get("fs").promises.readFile(n);return new Uint8Array(t)}class GL extends h1{}class XL extends l1{_createCanvas(e,t){return Is.get("canvas").createCanvas(e,t)}}class YL extends u1{async _fetch(e){return g1(e)}}class KL extends f1{async _fetch(e){return g1(e)}}const Ut={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function iv(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class m0{getPattern(){ke("Abstract method `getPattern` called.")}}class qL extends m0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===Ut.STROKE||r===Ut.FILL){const o=t.current.getClippedPathBoundingBox(r,De(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),i=B.transform(i,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),iv(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(i);s.setTransform(d)}else iv(e,this._bbox),s=this._createGradient(e);return s}}function Lg(n,e,t,i,r,s,o,a){const l=e.coords,c=e.colors,h=n.data,d=n.width*4;let f;l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f),l[i+1]>l[r+1]&&(f=i,i=r,r=f,f=o,o=a,a=f),l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,m=(l[t+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,_=(l[i+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY;if(m>=y)return;const A=c[s],x=c[s+1],C=c[s+2],k=c[o],T=c[o+1],R=c[o+2],L=c[a],I=c[a+1],D=c[a+2],Q=Math.round(m),G=Math.round(y);let V,J,X,H,M,z,U,re;for(let ee=Q;ee<=G;ee++){if(ee<_){const le=ee<m?0:(m-ee)/(m-_);V=p-(p-v)*le,J=A-(A-k)*le,X=x-(x-T)*le,H=C-(C-R)*le}else{let le;ee>y?le=1:_===y?le=0:le=(_-ee)/(_-y),V=v-(v-g)*le,J=k-(k-L)*le,X=T-(T-I)*le,H=R-(R-D)*le}let fe;ee<m?fe=0:ee>y?fe=1:fe=(m-ee)/(m-y),M=p-(p-g)*fe,z=A-(A-L)*fe,U=x-(x-I)*fe,re=C-(C-D)*fe;const je=Math.round(Math.min(V,M)),Ot=Math.round(Math.max(V,M));let ge=d*ee+je*4;for(let le=je;le<=Ot;le++)fe=(V-le)/(V-M),fe<0?fe=0:fe>1&&(fe=1),h[ge++]=J-(J-z)*fe|0,h[ge++]=X-(X-U)*fe|0,h[ge++]=H-(H-re)*fe|0,h[ge++]=255}}function QL(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<l;s++){let h=s*a;for(let d=0;d<c;d++,h++)Lg(n,t,i[h],i[h+1],i[h+a],r[h],r[h+1],r[h+a]),Lg(n,t,i[h+a+1],i[h+1],i[h+a],r[h+a+1],r[h+1],r[h+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)Lg(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class JL extends m0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=c/d,m=h/f,v={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},_=d+2*2,g=f+2*2,y=i.getCanvas("mesh",_,g),A=y.context,x=A.createImageData(d,f);if(t){const k=x.data;for(let T=0,R=k.length;T<R;T+=4)k[T]=t[0],k[T+1]=t[1],k[T+2]=t[2],k[T+3]=255}for(const k of this._figures)QL(x,k,v);return A.putImageData(x,2,2),{canvas:y.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(e,t,i,r){iv(e,this._bbox);let s;if(r===Ut.SHADING)s=B.singularValueDecompose2dScale(De(e));else if(s=B.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=B.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,r===Ut.SHADING?null:this._background,t.cachedCanvases);return r!==Ut.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class ZL extends m0{getPattern(){return"hotpink"}}function eM(n){switch(n[0]){case"RadialAxial":return new qL(n);case"Mesh":return new JL(n);case"Dummy":return new ZL}throw new Error(`Unknown IR type: ${n[0]}`)}const oA={COLORED:1,UNCOLORED:2},sp=class sp{constructor(e,t,i,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:i,paintType:r,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),$p("TilingType: "+s);const h=t[0],d=t[1],f=t[2],p=t[3],m=f-h,v=p-d,_=B.singularValueDecompose2dScale(this.matrix),g=B.singularValueDecompose2dScale(this.baseTransform),y=_[0]*g[0],A=_[1]*g[1];let x=m,C=v,k=!1,T=!1;const R=Math.ceil(l*y),L=Math.ceil(c*A),I=Math.ceil(m*y),D=Math.ceil(v*A);R>=I?x=l:k=!0,L>=D?C=c:T=!0;const Q=this.getSizeAndScale(x,this.ctx.canvas.width,y),G=this.getSizeAndScale(C,this.ctx.canvas.height,A),V=e.cachedCanvases.getCanvas("pattern",Q.size,G.size),J=V.context,X=a.createCanvasGraphics(J);if(X.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(X,r,o),J.translate(-Q.scale*h,-G.scale*d),X.transform(Q.scale,0,0,G.scale,0,0),J.save(),this.clipBbox(X,h,d,f,p),X.baseTransform=De(X.ctx),X.executeOperatorList(i),X.endDrawing(),J.restore(),k||T){const H=V.canvas;k&&(x=l),T&&(C=c);const M=this.getSizeAndScale(x,this.ctx.canvas.width,y),z=this.getSizeAndScale(C,this.ctx.canvas.height,A),U=M.size,re=z.size,ee=e.cachedCanvases.getCanvas("pattern-workaround",U,re),fe=ee.context,je=k?Math.floor(m/l):0,Ot=T?Math.floor(v/c):0;for(let ge=0;ge<=je;ge++)for(let le=0;le<=Ot;le++)fe.drawImage(H,U*ge,re*le,U,re,0,0,U,re);return{canvas:ee.canvas,scaleX:M.scale,scaleY:z.scale,offsetX:h,offsetY:d}}return{canvas:V.canvas,scaleX:Q.scale,scaleY:G.scale,offsetX:h,offsetY:d}}getSizeAndScale(e,t,i){const r=Math.max(sp.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const o=r-t,a=s-i;e.ctx.rect(t,i,o,a),e.current.updateRectMinMax(De(e.ctx),[t,i,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case oA.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case oA.UNCOLORED:const a=B.makeHexColor(i[0],i[1],i[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new xL(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,r){let s=i;r!==Ut.SHADING&&(s=B.transform(s,t.baseTransform),this.matrix&&(s=B.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};Y(sp,"MAX_PATTERN_SIZE",3e3);let rv=sp;function tM({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Vt.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],h=i>>3,d=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let m=0;m<r;m++){for(const _=e+h;e<_;e++){const g=e<f?n[e]:255;t[p++]=g&128?c:l,t[p++]=g&64?c:l,t[p++]=g&32?c:l,t[p++]=g&16?c:l,t[p++]=g&8?c:l,t[p++]=g&4?c:l,t[p++]=g&2?c:l,t[p++]=g&1?c:l}if(d===0)continue;const v=e<f?n[e++]:255;for(let _=0;_<d;_++)t[p++]=v&1<<7-_?c:l}return{srcPos:e,destPos:p}}const aA=16,lA=100,nM=15,uA=10,cA=1e3,tn=16;function iM(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,o,a,l){e.transform(i,r,s,o,a,l),this.__originalTransform(i,r,s,o,a,l)},n.setTransform=function(i,r,s,o,a,l){e.setTransform(i,r,s,o,a,l),this.__originalSetTransform(i,r,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,a){e.bezierCurveTo(t,i,r,s,o,a),this.__originalBezierCurveTo(t,i,r,s,o,a)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class rM{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Ad(n,e,t,i,r,s,o,a,l,c){const[h,d,f,p,m,v]=De(n);if(d===0&&f===0){const y=o*h+m,A=Math.round(y),x=a*p+v,C=Math.round(x),k=(o+l)*h+m,T=Math.abs(Math.round(k)-A)||1,R=(a+c)*p+v,L=Math.abs(Math.round(R)-C)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),A,C),n.drawImage(e,t,i,r,s,0,0,T,L),n.setTransform(h,d,f,p,m,v),[T,L]}if(h===0&&p===0){const y=a*f+m,A=Math.round(y),x=o*d+v,C=Math.round(x),k=(a+c)*f+m,T=Math.abs(Math.round(k)-A)||1,R=(o+l)*d+v,L=Math.abs(Math.round(R)-C)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,A,C),n.drawImage(e,t,i,r,s,0,0,L,T),n.setTransform(h,d,f,p,m,v),[L,T]}n.drawImage(e,t,i,r,s,o,a,l,c);const _=Math.hypot(h,d),g=Math.hypot(f,p);return[_*l,g*c]}function sM(n){const{width:e,height:t}=n;if(e>cA||t>cA)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const h=e+7&-8;let d=new Uint8Array(h*t),f=0;for(const g of n.data){let y=128;for(;y>0;)d[f++]=g&y?0:255,y>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*h,c=a*s,d[f-h]!==d[f]&&(o[c]=d[f]?1:8,++p);let g=(d[f]?4:0)+(d[f-h]?8:0);for(l=1;l<e;l++)g=(g>>2)+(d[f+1]?4:0)+(d[f-h+1]?8:0),r[g]&&(o[c+l]=r[g],++p),f++;if(d[f-h]!==d[f]&&(o[c+l]=d[f]?2:4,++p),p>i)return null}for(f=h*(t-1),c=a*s,d[f]!==0&&(o[c]=8,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[c+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[c+l]=4,++p),p>i)return null;const m=new Int32Array([0,s,-1,0,-s,0,0,0,1]),v=new Path2D;for(a=0;p&&a<=t;a++){let g=a*s;const y=g+e;for(;g<y&&!o[g];)g++;if(g===y)continue;v.moveTo(g%s,a);const A=g;let x=o[g];do{const C=m[x];do g+=C;while(!o[g]);const k=o[g];k!==5&&k!==10?(x=k,o[g]=0):(x=k&51*x>>4,o[g]&=x>>2|x<<2),v.lineTo(g%s,g/s|0),o[g]||--p}while(A!==g);--a}return d=null,o=null,function(g){g.save(),g.scale(1/e,-1/t),g.translate(0,-t),g.fill(v),g.beginPath(),g.restore()}}class hA{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=M_,this.textMatrixScale=1,this.fontMatrix=Pm,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=kt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=B.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=B.applyTransform(t,e),r=B.applyTransform(t.slice(2),e),s=B.applyTransform([t[0],t[3]],e),o=B.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,t){B.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,s,o,a,l,c,h){const d=B.bezierBoundingBox(t,i,r,s,o,a,l,c,h);h||this.updateRectMinMax(e,d)}getPathBoundingBox(e=Ut.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ut.STROKE){t||ke("Stroke bounding box must include transform.");const r=B.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){const e=B.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Ut.FILL,t=null){return B.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function dA(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%tn,s=(t-r)/tn,o=r===0?s:s+1,a=n.createImageData(i,tn);let l=0,c;const h=e.data,d=a.data;let f,p,m,v;if(e.kind===Ud.GRAYSCALE_1BPP){const _=h.byteLength,g=new Uint32Array(d.buffer,0,d.byteLength>>2),y=g.length,A=i+7>>3,x=4294967295,C=Vt.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(m=f<s?tn:r,c=0,p=0;p<m;p++){const k=_-l;let T=0;const R=k>A?i:k*8-7,L=R&-8;let I=0,D=0;for(;T<L;T+=8)D=h[l++],g[c++]=D&128?x:C,g[c++]=D&64?x:C,g[c++]=D&32?x:C,g[c++]=D&16?x:C,g[c++]=D&8?x:C,g[c++]=D&4?x:C,g[c++]=D&2?x:C,g[c++]=D&1?x:C;for(;T<R;T++)I===0&&(D=h[l++],I=128),g[c++]=D&I?x:C,I>>=1}for(;c<y;)g[c++]=0;n.putImageData(a,0,f*tn)}}else if(e.kind===Ud.RGBA_32BPP){for(p=0,v=i*tn*4,f=0;f<s;f++)d.set(h.subarray(l,l+v)),l+=v,n.putImageData(a,0,p),p+=tn;f<o&&(v=i*r*4,d.set(h.subarray(l,l+v)),n.putImageData(a,0,p))}else if(e.kind===Ud.RGB_24BPP)for(m=tn,v=i*m,f=0;f<o;f++){for(f>=s&&(m=r,v=i*m),c=0,p=v;p--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;n.putImageData(a,0,f*tn)}else throw new Error(`bad image kind: ${e.kind}`)}function fA(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%tn,s=(t-r)/tn,o=r===0?s:s+1,a=n.createImageData(i,tn);let l=0;const c=e.data,h=a.data;for(let d=0;d<o;d++){const f=d<s?tn:r;({srcPos:l}=tM({src:c,srcPos:l,dest:h,width:i,height:f,nonBlackColor:0})),n.putImageData(a,0,d*tn)}}function _u(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Ed(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Dt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function pA(n,e){if(e)return!0;const t=B.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Ms.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const oM=["butt","round","square"],aM=["miter","round","bevel"],lM={},gA={};var Ds,sv,ov;const _0=class _0{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){S(this,Ds);this.ctx=e,this.current=new hA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new rM(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...De(this.compositeCtx))}this.ctx.save(),Ed(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=De(this.ctx)}executeOperatorList(e,t,i,r){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>uA&&typeof i=="function",h=c?Date.now()+nM:0;let d=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(m=o[a],m!==Xn.dependency)this[m].apply(this,s[a]);else for(const v of s[a]){const _=v.startsWith("g_")?f:p;if(!_.has(v))return _.get(v,i),a}if(a++,a===l)return a;if(c&&++d>uA){if(Date.now()>h)return i(),a;d=0}}}endDrawing(){E(this,Ds,sv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(this,Ds,ov).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,l=r,c="prescale1",h,d;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),h=this.cachedCanvases.getCanvas(c,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,a,l,0,0,f,p),e=h.canvas,a=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=De(t);let l,c,h,d;if((e.bitmap||e.data)&&e.count>1){const R=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(R),l||(l=new Map,this._cachedBitmapsMap.set(R,l));const L=l.get(c);if(L&&!o){const I=Math.round(Math.min(a[0],a[2])+a[4]),D=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:L,offsetX:I,offsetY:D}}h=L}h||(d=this.cachedCanvases.getCanvas("maskCanvas",i,r),fA(d.context,e));let f=B.transform(a,[1/i,0,0,-1/r,0,0]);f=B.transform(f,[1,0,0,1,0,-r]);const[p,m,v,_]=B.getAxialAlignedBoundingBox([0,0,i,r],f),g=Math.round(v-p)||1,y=Math.round(_-m)||1,A=this.cachedCanvases.getCanvas("fillCanvas",g,y),x=A.context,C=p,k=m;x.translate(-C,-k),x.transform(...f),h||(h=this._scaleImage(d.canvas,zi(x)),h=h.img,l&&o&&l.set(c,h)),x.imageSmoothingEnabled=pA(De(x),e.interpolate),Ad(x,h,0,0,h.width,h.height,0,0,i,r),x.globalCompositeOperation="source-in";const T=B.transform(zi(x),[1,0,0,1,-C,-k]);return x.fillStyle=o?s.getPattern(t,this,T,Ut.FILL):s,x.fillRect(0,0,i,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,A.canvas)),{canvas:A.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=oM[e]}setLineJoin(e){this.ctx.lineJoin=aM[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...De(this.suspendedCtx)),_u(this.suspendedCtx,s),iM(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_u(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,i,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,a,l,c,h,d){let f=e.canvas,p=l-h,m=c-d;if(o){const _=B.makeHexColor(...o);if(p<0||m<0||p+i>f.width||m+r>f.height){const g=this.cachedCanvases.getCanvas("maskExtension",i,r),y=g.context;y.drawImage(f,-p,-m),y.globalCompositeOperation="destination-atop",y.fillStyle=_,y.fillRect(0,0,i,r),y.globalCompositeOperation="source-over",f=g.canvas,p=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const g=new Path2D;g.rect(p,m,i,r),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=_,e.fillRect(p,m,i,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const v=new Path2D;v.rect(l,c,i,r),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(f,p,m,i,r,l,c,i,r),t.restore()}save(){this.inSMaskMode?(_u(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_u(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,s,o){this.ctx.transform(e,t,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const r=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const h=De(r),d=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=d?i.slice(0):null;for(let p=0,m=0,v=e.length;p<v;p++)switch(e[p]|0){case Xn.rectangle:o=t[m++],a=t[m++];const _=t[m++],g=t[m++],y=o+_,A=a+g;r.moveTo(o,a),_===0||g===0?r.lineTo(y,A):(r.lineTo(y,a),r.lineTo(y,A),r.lineTo(o,A)),d||s.updateRectMinMax(h,[o,a,y,A]),r.closePath();break;case Xn.moveTo:o=t[m++],a=t[m++],r.moveTo(o,a),d||s.updatePathMinMax(h,o,a);break;case Xn.lineTo:o=t[m++],a=t[m++],r.lineTo(o,a),d||s.updatePathMinMax(h,o,a);break;case Xn.curveTo:l=o,c=a,o=t[m+4],a=t[m+5],r.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],o,a),s.updateCurvePathMinMax(h,l,c,t[m],t[m+1],t[m+2],t[m+3],o,a,f),m+=6;break;case Xn.curveTo2:l=o,c=a,r.bezierCurveTo(o,a,t[m],t[m+1],t[m+2],t[m+3]),s.updateCurvePathMinMax(h,l,c,o,a,t[m],t[m+1],t[m+2],t[m+3],f),o=t[m+2],a=t[m+3],m+=4;break;case Xn.curveTo3:l=o,c=a,o=t[m+2],a=t[m+3],r.bezierCurveTo(t[m],t[m+1],o,a,o,a),s.updateCurvePathMinMax(h,l,c,t[m],t[m+1],o,a,o,a,f),m+=4;break;case Xn.closePath:r.closePath();break}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,zi(t),Ut.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(t.save(),t.fillStyle=i.getPattern(t,this,zi(t),Ut.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=lM}eoClip(){this.pendingClip=gA}beginText(){this.current.textMatrix=M_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||Pm,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&ie("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((h=i.systemFontInfo)==null?void 0:h.css)||`"${s}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let c=t;t<aA?c=aA:t>lA&&(c=lA),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,s,o){this.current.textMatrix=[e,t,i,r,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,h=l&kt.FILL_STROKE_MASK,d=!!(l&kt.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(t,i),s.beginPath(),p(s,c),r&&s.setTransform(...r),(h===kt.FILL||h===kt.FILL_STROKE)&&s.fill(),(h===kt.STROKE||h===kt.FILL_STROKE)&&s.stroke(),s.restore()):((h===kt.FILL||h===kt.FILL_STROKE)&&s.fillText(e,t,i),(h===kt.STROKE||h===kt.FILL_STROKE)&&s.strokeText(e,t,i)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:De(s),x:t,y:i,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return ue(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,h=t.textHScale*c,d=e.length,f=i.vertical,p=f?1:-1,m=i.defaultVMetrics,v=r*t.fontMatrix[0],_=t.textRenderingMode===kt.FILL&&!i.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(h,-1):s.scale(h,1);let g;if(t.patternFill){s.save();const k=t.fillColor.getPattern(s,this,zi(s),Ut.FILL);g=De(s),s.restore(),s.fillStyle=k}let y=t.lineWidth;const A=t.textMatrixScale;if(A===0||y===0){const k=t.textRenderingMode&kt.FILL_STROKE_MASK;(k===kt.STROKE||k===kt.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=A;if(o!==1&&(s.scale(o,o),y/=o),s.lineWidth=y,i.isInvalidPDFjsFont){const k=[];let T=0;for(const R of e)k.push(R.unicode),T+=R.width;s.fillText(k.join(""),0,0),t.x+=T*v*h,s.restore(),this.compose();return}let x=0,C;for(C=0;C<d;++C){const k=e[C];if(typeof k=="number"){x+=p*k*r/1e3;continue}let T=!1;const R=(k.isSpace?l:0)+a,L=k.fontChar,I=k.accent;let D,Q,G=k.width;if(f){const J=k.vmetric||m,X=-(k.vmetric?J[1]:G*.5)*v,H=J[2]*v;G=J?-J[0]:G,D=X/o,Q=(x+H)/o}else D=x/o,Q=0;if(i.remeasure&&G>0){const J=s.measureText(L).width*1e3/r*o;if(G<J&&this.isFontSubpixelAAEnabled){const X=G/J;T=!0,s.save(),s.scale(X,1),D/=X}else G!==J&&(D+=(G-J)/2e3*r/o)}if(this.contentVisible&&(k.isInFont||i.missingFile)){if(_&&!I)s.fillText(L,D,Q);else if(this.paintChar(L,D,Q,g),I){const J=D+r*I.offset.x/o,X=Q-r*I.offset.y/o;this.paintChar(I.fontChar,J,X,g)}}const V=f?G*v-R*c:G*v+R*c;x+=V,T&&s.restore()}f?t.y-=x:t.x+=x*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,h=i.textHScale*o,d=i.fontMatrix||Pm,f=e.length,p=i.textRenderingMode===kt.INVISIBLE;let m,v,_,g;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(h,o),m=0;m<f;++m){if(v=e[m],typeof v=="number"){g=a*v*s/1e3,this.ctx.translate(g,0),i.x+=g*h;continue}const y=(v.isSpace?c:0)+l,A=r.charProcOperatorList[v.operatorListId];if(!A){ie(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(A),this.restore()),_=B.applyTransform([v.width,0],d)[0]*s+y,t.translate(_,0),i.x+=_*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||De(this.ctx),s={createCanvasGraphics:o=>new _0(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new rv(e,i,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){this.ctx.strokeStyle=this.current.strokeColor=B.makeHexColor(e,t,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,i){this.ctx.fillStyle=this.current.fillColor=B.makeHexColor(e,t,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=eM(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,zi(t),Ut.SHADING);const r=zi(t);if(r){const{width:s,height:o}=t.canvas,[a,l,c,h]=B.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,c-a,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ke("Should not call beginInlineImage")}beginImageData(){ke("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=De(this.ctx),t)){const i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.current.updateRectMinMax(De(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||$p("TODO: Support non-isolated groups."),e.knockout&&ie("Knockout groups not supported.");const i=De(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=B.getAxialAlignedBoundingBox(e.bbox,De(t));const s=[0,0,t.canvas.width,t.canvas.height];r=B.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,c),f=d.context;f.translate(-o,-a),f.transform(...i),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),_u(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=De(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=B.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,i,r,s){if(E(this,Ds,sv).call(this),Ed(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=B.singularValueDecompose2dScale(De(this.ctx)),{viewportScale:h}=this,d=Math.ceil(o*this.outputScaleX*h),f=Math.ceil(a*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),Ed(this.ctx)}else Ed(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new hA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(this,Ds,ov).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=sM(e)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(e),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=De(a);a.transform(t,i,r,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,d=o.length;h<d;h+=2){const f=B.transform(l,[t,i,r,s,o[h],o[h+1]]),[p,m]=B.applyTransform([0,0],f);a.drawImage(c.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,h=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=h.context;d.save();const f=this.getObject(o,s);fA(d,f),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,zi(t),Ut.FILL):i,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),Ad(t,h.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ie("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ie("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,h=r.length;c<h;c+=2)l.push({transform:[t,0,0,i,r[c],r[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,r=this.ctx;if(this.save(),!Dt){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/t,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,i).context;dA(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,zi(r));r.imageSmoothingEnabled=pA(De(r),e.interpolate),Ad(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;dA(l,e),r=this.applyTransferMapsToCanvas(l)}for(const s of t)i.save(),i.transform(...s.transform),i.scale(1,-1),Ad(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===gA?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=De(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(i===0&&r===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const h=l*e;o=a=h<1?1/h:1}else if(e===0)o=1/l,a=1/c;else{const h=l*e,d=c*e;o=h<1?1/h:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-i*r),c=Math.hypot(t,i),h=Math.hypot(r,s);if(e===0)o=h/l,a=c/l;else{const d=e*l;o=h>d?h/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=i||1,r===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(r,s),o.length>0){const a=Math.max(r,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ds=new WeakSet,sv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ov=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Ya=_0;for(const n in Xn)Ya.prototype[n]!==void 0&&(Ya.prototype[Xn[n]]=Ya.prototype[n]);var Wc,Vc;class vr{static get workerPort(){return u(this,Wc)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");w(this,Wc,e)}static get workerSrc(){return u(this,Vc)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");w(this,Vc,e)}}Wc=new WeakMap,Vc=new WeakMap,S(vr,Wc,null),S(vr,Vc,"");const Sd={UNKNOWN:0,DATA:1,ERROR:2},Ye={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function un(n){switch(n instanceof Error||typeof n=="object"&&n!==null||ke('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ga(n.message);case"MissingPDFException":return new pa(n.message);case"PasswordException":return new Lm(n.message,n.code);case"UnexpectedResponseException":return new Hp(n.message,n.status);case"UnknownErrorException":return new Mm(n.message,n.details);default:return new Mm(n.message,n.toString())}}var dl,Hn,m1,v1,y1,Qd;class Nu{constructor(e,t,i){S(this,Hn);S(this,dl,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",E(this,Hn,m1).bind(this),{signal:u(this,dl).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},r),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:o,targetName:a,stream:Ye.PULL,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{it(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:Ye.CANCEL,streamId:s,reason:un(c)}),h.promise}},i)}destroy(){var e;(e=u(this,dl))==null||e.abort(),w(this,dl,null)}}dl=new WeakMap,Hn=new WeakSet,m1=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){E(this,Hn,y1).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Sd.DATA)r.resolve(e.data);else if(e.callback===Sd.ERROR)r.reject(un(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;new Promise(function(o){o(t(e.data))}).then(function(o){s.postMessage({sourceName:i,targetName:r,callback:Sd.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:i,targetName:r,callback:Sd.ERROR,callbackId:e.callbackId,reason:un(o)})});return}if(e.streamId){E(this,Hn,v1).call(this,e);return}t(e.data)},v1=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Ye.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Ye.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){it(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Ye.ERROR,streamId:t,reason:un(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Ye.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:Ye.START_COMPLETE,streamId:t,reason:un(c)})})},y1=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Ye.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(un(e.reason));break;case Ye.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(un(e.reason));break;case Ye.PULL:if(!a){s.postMessage({sourceName:i,targetName:r,stream:Ye.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Ye.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:Ye.PULL_COMPLETE,streamId:t,reason:un(l)})});break;case Ye.ENQUEUE:if(it(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Ye.CLOSE:if(it(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),E(this,Hn,Qd).call(this,o,t);break;case Ye.ERROR:it(o,"error should have stream controller"),o.controller.error(un(e.reason)),E(this,Hn,Qd).call(this,o,t);break;case Ye.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(un(e.reason)),E(this,Hn,Qd).call(this,o,t);break;case Ye.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,un(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Ye.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:Ye.CANCEL_COMPLETE,streamId:t,reason:un(l)})}),a.sinkCapability.reject(un(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Qd=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var yo,Gc;class uM{constructor({parsedData:e,rawData:t}){S(this,yo);S(this,Gc);w(this,yo,e),w(this,Gc,t)}getRaw(){return u(this,Gc)}get(e){return u(this,yo).get(e)??null}getAll(){return u0(u(this,yo))}has(e){return u(this,yo).has(e)}}yo=new WeakMap,Gc=new WeakMap;const ba=Symbol("INTERNAL");var Xc,Yc,Kc,fl;class cM{constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){S(this,Xc,!1);S(this,Yc,!1);S(this,Kc,!1);S(this,fl,!0);w(this,Xc,!!(e&yn.DISPLAY)),w(this,Yc,!!(e&yn.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(u(this,Kc))return u(this,fl);if(!u(this,fl))return!1;const{print:e,view:t}=this.usage;return u(this,Xc)?(t==null?void 0:t.viewState)!=="OFF":u(this,Yc)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==ba&&ke("Internal method `_setVisible` called."),w(this,Kc,i),w(this,fl,t)}}Xc=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,fl=new WeakMap;var rs,ve,pl,gl,qc,av;class hM{constructor(e,t=yn.DISPLAY){S(this,qc);S(this,rs,null);S(this,ve,new Map);S(this,pl,null);S(this,gl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,w(this,gl,e.order);for(const i of e.groups)u(this,ve).set(i.id,new cM(t,i));if(e.baseState==="OFF")for(const i of u(this,ve).values())i._setVisible(ba,!1);for(const i of e.on)u(this,ve).get(i)._setVisible(ba,!0);for(const i of e.off)u(this,ve).get(i)._setVisible(ba,!1);w(this,pl,this.getHash())}}isVisible(e){if(u(this,ve).size===0)return!0;if(!e)return $p("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,ve).has(e.id)?u(this,ve).get(e.id).visible:(ie(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return E(this,qc,av).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,ve).has(t))return ie(`Optional content group not found: ${t}`),!0;if(u(this,ve).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,ve).has(t))return ie(`Optional content group not found: ${t}`),!0;if(!u(this,ve).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,ve).has(t))return ie(`Optional content group not found: ${t}`),!0;if(!u(this,ve).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,ve).has(t))return ie(`Optional content group not found: ${t}`),!0;if(u(this,ve).get(t).visible)return!1}return!0}return ie(`Unknown optional content policy ${e.policy}.`),!0}return ie(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=u(this,ve).get(e);if(!r){ie(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const o of r.rbGroups)for(const a of o)a!==e&&((s=u(this,ve).get(a))==null||s._setVisible(ba,!1,!0));r._setVisible(ba,!!t,!0),w(this,rs,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=u(this,ve).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}w(this,rs,null)}get hasInitialVisibility(){return u(this,pl)===null||this.getHash()===u(this,pl)}getOrder(){return u(this,ve).size?u(this,gl)?u(this,gl).slice():[...u(this,ve).keys()]:null}getGroups(){return u(this,ve).size>0?u0(u(this,ve)):null}getGroup(e){return u(this,ve).get(e)||null}getHash(){if(u(this,rs)!==null)return u(this,rs);const e=new s1;for(const[t,i]of u(this,ve))e.update(`${t}:${i.visible}`);return w(this,rs,e.hexdigest())}}rs=new WeakMap,ve=new WeakMap,pl=new WeakMap,gl=new WeakMap,qc=new WeakSet,av=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=E(this,qc,av).call(this,s);else if(u(this,ve).has(s))o=u(this,ve).get(s).visible;else return ie(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class dM{constructor(e,{disableRange:t=!1,disableStream:i=!1}){it(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});it(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){it(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new fM(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new pM(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class fM{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=d0(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class pM{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function gM(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=l(h),h=c(h),s(h)}if(t=o(n),t){const h=c(t);return s(h)}if(t=i("filename","i").exec(n),t){t=t[1];let h=a(t);return h=c(h),s(h)}function i(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=jp(d);d=f.decode(p),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function o(h){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,v,_,g]=f;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[_,g]}const m=[];for(let v=0;v<d.length&&v in d;++v){let[_,g]=d[v];g=a(g),_&&(g=unescape(g),v===0&&(g=l(g))),m.push(g)}return m.join("")}function a(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),m=h.slice(d+1).replace(/^[^']*'/,"");return r(f,m)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,_){return String.fromCharCode(parseInt(_,16))}),r(f,m);try{m=atob(m)}catch{}return r(f,m)})}return""}function v0(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function y0({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function w0(n){const e=n.get("Content-Disposition");if(e){let t=gM(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(d0(t))return t}return null}function Up(n,e){return n===404||n===0&&e.startsWith("file:")?new pa('Missing PDF "'+e+'".'):new Hp(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function w1(n){return n===200||n===206}function A1(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function E1(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ie(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class mA{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=v0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return it(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new mM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new vM(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class mM{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,A1(i,this._withCredentials,this._abortController)).then(s=>{if(!w1(s.status))throw Up(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=y0({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=w0(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ga("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:E1(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class vM{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const o=r.url;fetch(o,A1(s,this._withCredentials,this._abortController)).then(a=>{if(!w1(a.status))throw Up(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:E1(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Mg=200,Ig=206;function yM(n){const e=n.response;return typeof e!="string"?e:jp(e).buffer}class wM{constructor({url:e,httpHeaders:t,withCredentials:i}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=v0(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const r={begin:e,end:t};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Ig):r.expectedStatus=Mg,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){var l,c,h;const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(l=i.onError)==null||l.call(i,r.status);return}const s=r.status||Mg;if(!(s===Mg&&i.expectedStatus===Ig)&&s!==i.expectedStatus){(c=i.onError)==null||c.call(i,r.status);return}const a=yM(r);if(s===Ig){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);i.onDone({begin:parseInt(f[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):(h=i.onError)==null||h.call(i,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class AM{constructor(e){this._source=e,this._manager=new wM(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return it(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new EM(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new SM(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class EM{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[a,...l]=o.split(": ");return[a,l.join(": ")]})),{allowRangeRequests:r,suggestedLength:s}=y0({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=w0(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Up(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class SM{constructor(e,t,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Up(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const _M=/^[a-z][a-z0-9\-+.]+:/i;function bM(n){if(_M.test(n))return new URL(n);const e=Is.get("url");return new URL(e.pathToFileURL(n))}function S1(n,e,t){return n.protocol==="http:"?Is.get("http").request(n,{headers:e},t):Is.get("https").request(n,{headers:e},t)}class xM{constructor(e){this.source=e,this.url=bM(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=v0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return it(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new TM(this):new CM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new RM(this,e,t):new kM(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class _1{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ga("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class b1{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class CM extends _1{constructor(e){super(e);const t=Object.fromEntries(e.headers),i=r=>{if(r.statusCode===404){const l=new pa(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(r);const s=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:a}=y0({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=w0(s)};this._request=S1(this._url,t,i),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class kM extends b1{constructor(e,t,i){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${t}-${i-1}`;const s=o=>{if(o.statusCode===404){const a=new pa(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(o)};this._request=S1(this._url,r,s),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class TM extends _1{constructor(e){super(e);const t=Is.get("fs");t.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new pa(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class RM extends b1{constructor(e,t,i){super(e);const r=Is.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:i-1}))}}const PM=1e5,qt=30,LM=.8;var PA,ss,Zt,Qc,Jc,wo,Zi,Zc,eh,Ao,ml,vl,os,yl,th,wl,Eo,nh,ih,Be,So,_o,rh,as,Al,Mr,x1,C1,uv,_n,Jd,cv,k1,T1;let lv=(Be=class{constructor({textContentSource:e,container:t,viewport:i}){S(this,Mr);S(this,ss,Promise.withResolvers());S(this,Zt,null);S(this,Qc,!1);S(this,Jc,!!((PA=globalThis.FontInspector)!=null&&PA.enabled));S(this,wo,null);S(this,Zi,null);S(this,Zc,0);S(this,eh,0);S(this,Ao,null);S(this,ml,null);S(this,vl,0);S(this,os,0);S(this,yl,Object.create(null));S(this,th,[]);S(this,wl,null);S(this,Eo,[]);S(this,nh,new WeakMap);S(this,ih,null);var l;if(e instanceof ReadableStream)w(this,wl,e);else if(typeof e=="object")w(this,wl,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,Zt,w(this,ml,t)),w(this,os,i.scale*(globalThis.devicePixelRatio||1)),w(this,vl,i.rotation),w(this,Zi,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;w(this,ih,[1,0,0,-1,-o,a+s]),w(this,eh,r),w(this,Zc,s),E(l=Be,_n,k1).call(l),ia(t,i),u(this,ss).promise.finally(()=>{u(Be,Al).delete(this),w(this,Zi,null),w(this,yl,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Vt.platform;return ue(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,Ao).read().then(({value:t,done:i})=>{if(i){u(this,ss).resolve();return}u(this,wo)??w(this,wo,t.lang),Object.assign(u(this,yl),t.styles),E(this,Mr,x1).call(this,t.items),e()},u(this,ss).reject)};return w(this,Ao,u(this,wl).getReader()),u(Be,Al).add(this),e(),u(this,ss).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==u(this,vl)&&(t==null||t(),w(this,vl,r),ia(u(this,ml),{rotation:r})),i!==u(this,os)){t==null||t(),w(this,os,i);const o={div:null,properties:null,ctx:E(s=Be,_n,Jd).call(s,u(this,wo))};for(const a of u(this,Eo))o.properties=u(this,nh).get(a),o.div=a,E(this,Mr,uv).call(this,o)}}cancel(){var t;const e=new ga("TextLayer task cancelled.");(t=u(this,Ao))==null||t.cancel(e).catch(()=>{}),w(this,Ao,null),u(this,ss).reject(e)}get textDivs(){return u(this,Eo)}get textContentItemsStr(){return u(this,th)}static cleanup(){if(!(u(this,Al).size>0)){u(this,So).clear();for(const{canvas:e}of u(this,_o).values())e.remove();u(this,_o).clear()}}},ss=new WeakMap,Zt=new WeakMap,Qc=new WeakMap,Jc=new WeakMap,wo=new WeakMap,Zi=new WeakMap,Zc=new WeakMap,eh=new WeakMap,Ao=new WeakMap,ml=new WeakMap,vl=new WeakMap,os=new WeakMap,yl=new WeakMap,th=new WeakMap,wl=new WeakMap,Eo=new WeakMap,nh=new WeakMap,ih=new WeakMap,So=new WeakMap,_o=new WeakMap,rh=new WeakMap,as=new WeakMap,Al=new WeakMap,Mr=new WeakSet,x1=function(e){var r,s;if(u(this,Qc))return;(s=u(this,Zi)).ctx??(s.ctx=E(r=Be,_n,Jd).call(r,u(this,wo)));const t=u(this,Eo),i=u(this,th);for(const o of e){if(t.length>PM){ie("Ignoring additional textDivs for performance reasons."),w(this,Qc,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=u(this,Zt);w(this,Zt,document.createElement("span")),u(this,Zt).classList.add("markedContent"),o.id!==null&&u(this,Zt).setAttribute("id",`${o.id}`),a.append(u(this,Zt))}else o.type==="endMarkedContent"&&w(this,Zt,u(this,Zt).parentNode);continue}i.push(o.str),E(this,Mr,C1).call(this,o)}},C1=function(e){var v;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,Eo).push(t);const r=B.transform(u(this,ih),e.transform);let s=Math.atan2(r[1],r[0]);const o=u(this,yl)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=u(this,Jc)&&o.fontSubstitution||o.fontFamily;a=Be.fontFamilyMap.get(a)||a;const l=Math.hypot(r[2],r[3]),c=l*E(v=Be,_n,T1).call(v,a,u(this,wo));let h,d;s===0?(h=r[4],d=r[5]-c):(h=r[4]+c*Math.sin(s),d=r[5]-c*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;u(this,Zt)===u(this,ml)?(p.left=`${(100*h/u(this,eh)).toFixed(2)}%`,p.top=`${(100*d/u(this,Zc)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(u(Be,as)*l).toFixed(2)}px)`,p.fontFamily=a,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,Jc)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);_!==g&&Math.max(_,g)/Math.min(_,g)>1.5&&(m=!0)}if(m&&(i.canvasWidth=o.vertical?e.height:e.width),u(this,nh).set(t,i),u(this,Zi).div=t,u(this,Zi).properties=i,E(this,Mr,uv).call(this,u(this,Zi)),i.hasText&&u(this,Zt).append(t),i.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),u(this,Zt).append(_)}},uv=function(e){var a;const{div:t,properties:i,ctx:r}=e,{style:s}=t;let o="";if(u(Be,as)>1&&(o=`scale(${1/u(Be,as)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:h}=i;E(a=Be,_n,cv).call(a,r,h*u(this,os),l);const{width:d}=r.measureText(t.textContent);d>0&&(o=`scaleX(${c*u(this,os)/d}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(s.transform=o)},_n=new WeakSet,Jd=function(e=null){let t=u(this,_o).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,_o).set(e,t),u(this,rh).set(t,{size:0,family:""})}return t},cv=function(e,t,i){const r=u(this,rh).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},k1=function(){if(u(this,as)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),w(this,as,e.getBoundingClientRect().height),e.remove()},T1=function(e,t){const i=u(this,So).get(e);if(i)return i;const r=E(this,_n,Jd).call(this,t);r.canvas.width=r.canvas.height=qt,E(this,_n,cv).call(this,r,qt,e);const s=r.measureText("");let o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(o){const h=o/(o+a);return u(this,So).set(e,h),r.canvas.width=r.canvas.height=0,h}r.strokeStyle="red",r.clearRect(0,0,qt,qt),r.strokeText("g",0,0);let l=r.getImageData(0,0,qt,qt).data;a=0;for(let h=l.length-1-3;h>=0;h-=4)if(l[h]>0){a=Math.ceil(h/4/qt);break}r.clearRect(0,0,qt,qt),r.strokeText("A",0,qt),l=r.getImageData(0,0,qt,qt).data,o=0;for(let h=0,d=l.length;h<d;h+=4)if(l[h]>0){o=qt-Math.floor(h/4/qt);break}r.canvas.width=r.canvas.height=0;const c=o?o/(o+a):LM;return u(this,So).set(e,c),c},S(Be,_n),S(Be,So,new Map),S(Be,_o,new Map),S(Be,rh,new WeakMap),S(Be,as,null),S(Be,Al,new Set),Be);class Sc{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Sc.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)r(c)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const MM=65536,IM=100,FM=5e3,DM=Dt?XL:WL,NM=Dt?YL:c1,OM=Dt?GL:VL,$M=Dt?KL:p1;function HM(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new hv,{docId:t}=e,i=n.url?jM(n.url):null,r=n.data?zM(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof R1?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:MM;let h=n.worker instanceof Ka?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!Bp(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,m=n.cMapPacked!==!1,v=n.CMapReaderFactory||NM,_=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||$M,y=n.stopAtErrors!==!0,A=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,x=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Dt,k=typeof n.isChrome=="boolean"?n.isChrome:!Vt.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),T=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,R=typeof n.disableFontFace=="boolean"?n.disableFontFace:Dt,L=n.fontExtraProperties===!0,I=n.enableXfa===!0,D=n.ownerDocument||globalThis.document,Q=n.disableRange===!0,G=n.disableStream===!0,V=n.disableAutoFetch===!0,J=n.pdfBug===!0,X=n.CanvasFactory||DM,H=n.FilterFactory||OM,M=n.enableHWA===!0,z=l?l.length:n.length??NaN,U=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Dt&&!R,re=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:v===c1&&g===p1&&p&&_&&Ru(p,document.baseURI)&&Ru(_,document.baseURI);n.canvasFactory&&rA("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&rA("`filterFactory`-instance option, please use `FilterFactory` instead.");const ee=null;EL(d);const fe={canvasFactory:new X({ownerDocument:D,enableHWA:M}),filterFactory:new H({docId:t,ownerDocument:D}),cMapReaderFactory:re?null:new v({baseUrl:p,isCompressed:m}),standardFontDataFactory:re?null:new g({baseUrl:_})};if(!h){const ge={verbosity:d,port:vr.workerPort};h=ge.port?Ka.fromPort(ge):new Ka(ge),e._worker=h}const je={docId:t,apiVersion:"4.8.69",data:r,password:a,disableAutoFetch:V,rangeChunkSize:c,length:z,docBaseUrl:f,enableXfa:I,evaluatorOptions:{maxImageSize:A,disableFontFace:R,ignoreErrors:y,isEvalSupported:x,isOffscreenCanvasSupported:C,isChrome:k,canvasMaxAreaInBytes:T,fontExtraProperties:L,useSystemFonts:U,cMapUrl:re?p:null,standardFontDataUrl:re?_:null}},Ot={disableFontFace:R,fontExtraProperties:L,ownerDocument:D,pdfBug:J,styleElement:ee,loadingParams:{disableAutoFetch:V,enableXfa:I}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ge=h.messageHandler.sendWithPromise("GetDocRequest",je,r?[r.buffer]:null);let le;if(l)le=new dM(l,{disableRange:Q,disableStream:G});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");let pi;Dt?pi=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Ru(i)?mA:xM:pi=Ru(i)?mA:AM,le=new pi({url:i,length:z,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:Q,disableStream:G})}return ge.then(pi=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Un=new Nu(t,pi,h.port),Re=new VM(Un,e,le,Ot,fe);e._transport=Re,Un.send("Ready",null)})}).catch(e._capability.reject),e}function jM(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Dt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function zM(n){if(Dt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return jp(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function vA(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var op;const ap=class ap{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${$t(ap,op)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};op=new WeakMap,S(ap,op,0);let hv=ap,R1=class{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ke("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class BM{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ue(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ls,er,Dn,xa,Zd;class UM{constructor(e,t,i,r=!1){S(this,Dn);S(this,ls,null);S(this,er,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new iA:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new P1,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new Xh({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ue(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=Gr.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null,isEditing:d=!1}){var x,C;(x=this._stats)==null||x.time("Overall");const f=this._transport.getRenderingIntent(i,r,h,d),{renderingIntent:p,cacheKey:m}=f;w(this,er,!1),E(this,Dn,Zd).call(this),a||(a=this._transport.getOptionalContentConfig(p));let v=this._intentStates.get(m);v||(v=Object.create(null),this._intentStates.set(m,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const _=!!(p&yn.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(f));const g=k=>{var T;v.renderTasks.delete(y),(this._maybeCleanupAfterRender||_)&&w(this,er,!0),E(this,Dn,xa).call(this,!_),k?(y.capability.reject(k),this._abortOperatorList({intentState:v,reason:k instanceof Error?k:new Error(k)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(T=globalThis.Stats)!=null&&T.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new fv({callback:g,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:c});(v.renderTasks||(v.renderTasks=new Set)).add(y);const A=y.task;return Promise.all([v.displayReadyCapability.promise,a]).then(([k,T])=>{var R;if(this.destroyed){g();return}if((R=this._stats)==null||R.time("Rendering"),!(T.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:k,optionalContentConfig:T}),y.operatorListChanged()}).catch(g),A}getOperatorList({intent:e="display",annotationMode:t=Gr.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,i,r,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Sc.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:l,done:c}){if(c){i(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),w(this,er,!1),E(this,Dn,Zd).call(this),Promise.all(e)}cleanup(e=!1){w(this,er,!0);const t=E(this,Dn,xa).call(this,!1);return e&&t&&this._stats&&(this._stats=new iA),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&E(this,Dn,xa).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:o}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const h=()=>{l.read().then(({value:d,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),h())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();E(this,Dn,xa).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof h0){let r=IM;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new ga(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ls=new WeakMap,er=new WeakMap,Dn=new WeakSet,xa=function(e=!1){if(E(this,Dn,Zd).call(this),!u(this,er)||this.destroyed)return!1;if(e)return w(this,ls,setTimeout(()=>{w(this,ls,null),E(this,Dn,xa).call(this,!1)},FM)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,er,!1),!0},Zd=function(){u(this,ls)&&(clearTimeout(u(this,ls)),w(this,ls,null))};var tr,lp;class WM{constructor(){S(this,tr,new Map);S(this,lp,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};u(this,lp).then(()=>{for(const[r]of u(this,tr))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){ie("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}u(this,tr).set(t,r)}removeEventListener(e,t){const i=u(this,tr).get(t);i==null||i(),u(this,tr).delete(t)}terminate(){for(const[,e]of u(this,tr))e==null||e();u(this,tr).clear()}}tr=new WeakMap,lp=new WeakMap;var up,bo,xo,El,ef,Sl,tf;const Pe=class Pe{constructor({name:e=null,port:t=null,verbosity:i=SL()}={}){S(this,El);var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=u(Pe,xo))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(u(Pe,xo)||w(Pe,xo,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Dt?Promise.all([Is.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Nu("main","worker",e),this._messageHandler.on("ready",function(){}),E(this,El,ef).call(this)}_initialize(){if(u(Pe,bo)||u(Pe,Sl,tf)){this._setupFakeWorker();return}let{workerSrc:e}=Pe;try{Pe._isSameOrigin(window.location.href,e)||(e=Pe._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Nu("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",a=>{if(s.abort(),this.destroyed||!a){r();return}this._messageHandler=i,this._port=t,this._webWorker=t,E(this,El,ef).call(this)}),i.on("ready",a=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{$p("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(Pe,bo)||(ie("Setting up fake worker."),w(Pe,bo,!0)),Pe._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new WM;this._port=t;const i=`fake${$t(Pe,up)._++}`,r=new Nu(i+"_worker",i,t);e.setup(r,t),this._messageHandler=new Nu(i,i+"_worker",t),E(this,El,ef).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=u(Pe,xo))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=u(this,xo))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Pe(e)}static get workerSrc(){if(vr.workerSrc)return vr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ue(this,"_setupFakeWorkerGlobal",(async()=>u(this,Sl,tf)?u(this,Sl,tf):(await import(this.workerSrc)).WorkerMessageHandler)())}};up=new WeakMap,bo=new WeakMap,xo=new WeakMap,El=new WeakSet,ef=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Sl=new WeakSet,tf=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(Pe,Sl),S(Pe,up,0),S(Pe,bo,!1),S(Pe,xo),Dt&&(w(Pe,bo,!0),vr.workerSrc||(vr.workerSrc="./pdf.worker.mjs")),Pe._isSameOrigin=(e,t)=>{let i;try{if(i=new URL(e),!i.origin||i.origin==="null")return!1}catch{return!1}const r=new URL(t,i);return i.origin===r.origin},Pe._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Ka=Pe;var nr,Ti,_l,bl,Ri,Co,Ou;class VM{constructor(e,t,i,r,s){S(this,Co);S(this,nr,new Map);S(this,Ti,new Map);S(this,_l,new Map);S(this,bl,new Map);S(this,Ri,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new P1,this.fontLoader=new BL({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ue(this,"annotationStorage",new g0)}getRenderingIntent(e,t=Gr.ENABLE,i=null,r=!1,s=!1){let o=yn.DISPLAY,a=Zm;switch(e){case"any":o=yn.ANY;break;case"display":break;case"print":o=yn.PRINT;break;default:ie(`getRenderingIntent - invalid intent: ${e}`)}const l=o&yn.PRINT&&i instanceof a1?i:this.annotationStorage;switch(t){case Gr.DISABLE:o+=yn.ANNOTATIONS_DISABLE;break;case Gr.ENABLE:break;case Gr.ENABLE_FORMS:o+=yn.ANNOTATIONS_FORMS;break;case Gr.ENABLE_STORAGE:o+=yn.ANNOTATIONS_STORAGE,a=l.serializable;break;default:ie(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=yn.IS_EDITING),s&&(o+=yn.OPLIST);const{ids:c,hash:h}=l.modifiedIds,d=[o,a.hash,h];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=u(this,Ri))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of u(this,Ti).values())e.push(r._destroy());u(this,Ti).clear(),u(this,_l).clear(),u(this,bl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),u(this,nr).clear(),this.filterFactory.destroy(),lv.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new ga("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{it(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}it(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(i,r)=>{it(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}it(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new BM(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new Lm(i.message,i.code);break;case"InvalidPDFException":r=new I_(i.message);break;case"MissingPDFException":r=new pa(i.message);break;case"UnexpectedResponseException":r=new Hp(i.message,i.status);break;case"UnknownErrorException":r=new Mm(i.message,i.details);break;default:ke("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(w(this,Ri,Promise.withResolvers()),t.onPassword){const r=s=>{s instanceof Error?u(this,Ri).reject(s):u(this,Ri).resolve({password:s})};try{t.onPassword(r,i.code)}catch(s){u(this,Ri).reject(s)}}else u(this,Ri).reject(new Lm(i.message,i.code));return u(this,Ri).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;u(this,Ti).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const p=s.error;ie(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const h=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new UL(s,{disableFontFace:a,inspectFont:h});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=s;it(f,"The imageRef must be defined.");for(const p of u(this,Ti).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(i,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{var l;if(this.destroyed)return;const a=u(this,Ti).get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(i,o),(o==null?void 0:o.dataLen)>vL&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),e.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ie("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=u(this,_l).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&u(this,bl).set(s.refStr,e);const o=new UM(t,s,this,this._params.pdfBug);return u(this,Ti).set(t,o),o});return u(this,_l).set(t,r),r}getPageIndex(e){return vA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return E(this,Co,Ou).call(this,"GetFieldObjects")}hasJSActions(){return E(this,Co,Ou).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(this,Co,Ou).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(this,Co,Ou).call(this,"GetOptionalContentConfig").then(t=>new hM(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,nr).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new uM(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return u(this,nr).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,Ti).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,nr).clear(),this.filterFactory.destroy(!0),lv.cleanup()}}cachedPageNumber(e){if(!vA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,bl).get(t)??null}}nr=new WeakMap,Ti=new WeakMap,_l=new WeakMap,bl=new WeakMap,Ri=new WeakMap,Co=new WeakSet,Ou=function(e,t=null){const i=u(this,nr).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return u(this,nr).set(e,r),r};const _d=Symbol("INITIAL_DATA");var Zn,sh,dv;class P1{constructor(){S(this,sh);S(this,Zn,Object.create(null))}get(e,t=null){if(t){const r=E(this,sh,dv).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=u(this,Zn)[e];if(!i||i.data===_d)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=u(this,Zn)[e];return!!t&&t.data!==_d}resolve(e,t=null){const i=E(this,sh,dv).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in u(this,Zn)){const{data:i}=u(this,Zn)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}w(this,Zn,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,Zn)){const{data:t}=u(this,Zn)[e];t!==_d&&(yield[e,t])}}}Zn=new WeakMap,sh=new WeakSet,dv=function(e){var t;return(t=u(this,Zn))[e]||(t[e]={...Promise.withResolvers(),data:_d})};var us;class GM{constructor(e){S(this,us,null);w(this,us,e),this.onContinue=null}get promise(){return u(this,us).capability.promise}cancel(e=0){u(this,us).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,us).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,us);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}us=new WeakMap;var cs,ko;const Ys=class Ys{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){S(this,cs,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new GM(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(u(Ys,ko).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(Ys,ko).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new Ya(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),u(this,cs)&&(window.cancelAnimationFrame(u(this,cs)),w(this,cs,null)),u(Ys,ko).delete(this._canvas),this.callback(e||new h0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?w(this,cs,window.requestAnimationFrame(()=>{w(this,cs,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(Ys,ko).delete(this._canvas),this.callback())))}};cs=new WeakMap,ko=new WeakMap,S(Ys,ko,new WeakSet);let fv=Ys;const XM="4.8.69",YM="3634dab10";function yA(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function bu(n){return Math.max(0,Math.min(255,255*n))}class wA{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=bu(e),[e,e,e]}static G_HTML([e]){const t=yA(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(bu)}static RGB_HTML(e){return`#${e.map(yA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[bu(1-Math.min(1,e+r)),bu(1-Math.min(1,i+r)),bu(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class KM{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ke("Abstract method `_createSVG` called.")}}class A0 extends KM{_createSVG(e){return document.createElementNS(Bi,e)}}class L1{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var d,f;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),a&&Sc.shouldBuildText(r.name)&&c.push(p)}return{textDivs:c}}const h=[[r,-1,o]];for(;h.length>0;){const[p,m,v]=h.at(-1);if(m+1===p.children.length){h.pop();continue}const _=p.children[++h.at(-1)[1]];if(_===null)continue;const{name:g}=_;if(g==="#text"){const A=document.createTextNode(_.value);c.push(A),v.append(A);continue}const y=(d=_==null?void 0:_.attributes)!=null&&d.xmlns?document.createElementNS(_.attributes.xmlns,g):document.createElement(g);if(v.append(y),_.attributes&&this.setAttributes({html:y,element:_,storage:t,intent:s,linkService:i}),((f=_.children)==null?void 0:f.length)>0)h.push([_,-1,y]);else if(_.value){const A=document.createTextNode(_.value);a&&Sc.shouldBuildText(g)&&c.push(A),y.append(A)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Kh=1e3,qM=9,sa=new WeakSet;function _r(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class QM{static create(e){switch(e.data.annotationType){case Je.LINK:return new M1(e);case Je.TEXT:return new JM(e);case Je.WIDGET:switch(e.data.fieldType){case"Tx":return new ZM(e);case"Btn":return e.data.radioButton?new D1(e):e.data.checkBox?new tI(e):new nI(e);case"Ch":return new iI(e);case"Sig":return new eI(e)}return new ma(e);case Je.POPUP:return new gv(e);case Je.FREETEXT:return new j1(e);case Je.LINE:return new sI(e);case Je.SQUARE:return new oI(e);case Je.CIRCLE:return new aI(e);case Je.POLYLINE:return new z1(e);case Je.CARET:return new uI(e);case Je.INK:return new E0(e);case Je.POLYGON:return new lI(e);case Je.HIGHLIGHT:return new B1(e);case Je.UNDERLINE:return new cI(e);case Je.SQUIGGLY:return new hI(e);case Je.STRIKEOUT:return new dI(e);case Je.STAMP:return new U1(e);case Je.FILEATTACHMENT:return new fI(e);default:return new Ge(e)}}}var To,xl,Cl,oh,pv;const b0=class b0{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){S(this,oh);S(this,To,null);S(this,xl,!1);S(this,Cl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return b0._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;u(this,To)||w(this,To,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&E(this,oh,pv).call(this,t),(i=u(this,Cl))==null||i.popup.updateEdited(e)}resetEdited(){var e;u(this,To)&&(E(this,oh,pv).call(this,u(this,To).rect),(e=u(this,Cl))==null||e.popup.resetEdited(),w(this,To,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof ma||(s.tabIndex=Kh);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof gv){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:a,height:l}=_r(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(v>0||_>0){const y=`calc(${v}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;o.borderRadius=y}else if(this instanceof D1){const y=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=y}switch(t.borderStyle.style){case Su.SOLID:o.borderStyle="solid";break;case Su.DASHED:o.borderStyle="dashed";break;case Su.BEVELED:ie("Unimplemented border style: beveled");break;case Su.INSET:ie("Unimplemented border style: inset");break;case Su.UNDERLINE:o.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(w(this,xl,!0),o.borderColor=B.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):o.borderWidth=0}const c=B.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=r.rawDims;o.left=`${100*(c[0]-f)/h}%`,o.top=`${100*(c[1]-p)/d}%`;const{rotation:m}=t;return t.hasOwnCanvas||m===0?(o.width=`${100*a/h}%`,o.height=`${100*l/d}%`):this.setRotation(m,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=_r(this.data.rect);let a,l;e%180===0?(a=100*s/i,l=100*o/r):(a=100*o/i,l=100*s/r),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[i]=wA[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:wA[`${o}_rgb`](a)})};return ue(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];if(o){const a={detail:{[r]:s},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,_,g,y]=e.subarray(2,6);if(r===v&&s===_&&t===g&&i===y)return}const{style:o}=this.container;let a;if(u(this,xl)){const{borderColor:v,borderWidth:_}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=r-t,c=s-i,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let v=2,_=e.length;v<_;v+=8){const g=e[v],y=e[v+1],A=e[v+2],x=e[v+3],C=h.createElement("rect"),k=(A-t)/l,T=(s-y)/c,R=(g-A)/l,L=(y-x)/c;C.setAttribute("x",k),C.setAttribute("y",T),C.setAttribute("width",R),C.setAttribute("height",L),p.append(C),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${T}" width="${R}" height="${L}"/>`)}u(this,xl)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,t=w(this,Cl,new gv({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){ke("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!sa.has(c)){ie(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:c})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&sa.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};To=new WeakMap,xl=new WeakMap,Cl=new WeakMap,oh=new WeakSet,pv=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;i==null||i.splice(0,4,...e);const{width:c,height:h}=_r(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,r===0?(t.width=`${100*c/s}%`,t.height=`${100*h/o}%`):this.setRotation(r)};let Ge=b0;var An,Us,I1,F1;class M1 extends Ge{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});S(this,An);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action),s=!0):t.attachment?(E(this,An,I1).call(this,r,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(E(this,An,F1).call(this,r,t.setOCGState),s=!0):t.dest?(this._bindLink(r,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&E(this,An,Us).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),E(this,An,Us).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),E(this,An,Us).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),E(this,An,Us).call(this),!this._fieldObjects){ie('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var d;r==null||r();const{fields:s,refs:o,include:a}=i,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const m=this._fieldObjects[p]||[];for(const{id:v}of m)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;c.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!sa.has(m)){ie(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}An=new WeakSet,Us=function(){this.container.setAttribute("data-internal-link","")},I1=function(t,i,r=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},E(this,An,Us).call(this)},F1=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),E(this,An,Us).call(this)};class JM extends Ge{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ma extends Ge{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Vt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,i,r){var s,o,a;for(const[l,c]of i)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,r),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":B.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||qM,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(c/(Tg*r))||1,d=c/h;o=Math.min(r,l(d/Tg))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(c/Tg))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=B.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class ZM extends ma{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",c??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),sa.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Kh,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var v;if(h.focused)return;const{target:m}=p;h.userValue&&(m.value=h.userValue),h.lastCommittedValue=m.value,h.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(v){h.userValue=v.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),v.target.value=h.userValue},formattedValue(v){const{formattedValue:_}=v.detail;h.formattedValue=_,_!=null&&v.target!==document.activeElement&&(v.target.value=_),e.setValue(t,{formattedValue:_})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var A;const{charLimit:_}=v.detail,{target:g}=v;if(_===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",_);let y=h.userValue;!y||y.length<=_||(y=y.slice(0,_),g.value=h.userValue=y,e.setValue(t,{value:y}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),i.addEventListener("keydown",p=>{var _;h.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(h.commitKey=3),m===-1)return;const{value:v}=p.target;h.lastCommittedValue!==v&&(h.lastCommittedValue=v,h.userValue=v,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,i.addEventListener("blur",p=>{var v,_;if(!h.focused||!p.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(h.focused=!1);const{value:m}=p.target;h.userValue=m,h.lastCommittedValue!==m&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",p=>{var C;h.lastCommittedValue=null;const{data:m,target:v}=p,{value:_,selectionStart:g,selectionEnd:y}=v;let A=g,x=y;switch(p.inputType){case"deleteWordBackward":{const k=_.substring(0,g).match(/\w*[^\w]*$/);k&&(A-=k[0].length);break}case"deleteWordForward":{const k=_.substring(g).match(/^[^\w]*\w*/);k&&(x+=k[0].length);break}case"deleteContentBackward":g===y&&(A-=1);break;case"deleteContentForward":g===y&&(x+=1);break}p.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:m||"",willCommit:!1,selStart:A,selEnd:x}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class eI extends ma{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class tI extends ma{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return sa.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Kh,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i)){const h=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class D1 extends ma{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(sa.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=Kh,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i))e.setValue(c.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const h=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=h&&d.id===i;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class nI extends M1{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class iI extends ma{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");sa.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Kh;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,i.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),o=()=>{h.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const d={value(f){o==null||o();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const v of r.options)v.selected=m.has(v.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,m=f.detail.remove;p[m].selected=!1,r.remove(m),p.length>0&&Array.prototype.findIndex.call(p,_=>_.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:m,exportValue:v}=f.detail.insert,_=r.children[p],g=document.createElement("option");g.textContent=m,g.value=v,_?_.before(g):r.append(g),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const m of p){const{displayValue:v,exportValue:_}=m,g=document.createElement("option");g.textContent=v,g.value=_,r.append(g)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),r.addEventListener("input",h=>{var p;const d=a(!0),f=a(!1);e.setValue(t,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class gv extends Ge{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:Ge._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new rI({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${c0}${i}`).join(",")),this.container}}var kl,cp,hp,Tl,Ro,ze,ir,Rl,ah,lh,Pl,rr,ei,sr,uh,or,ch,Po,Lo,Ee,nf,mv,N1,O1,$1,H1,rf,sf,vv;class rI{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:h,open:d}){S(this,Ee);S(this,kl,E(this,Ee,$1).bind(this));S(this,cp,E(this,Ee,vv).bind(this));S(this,hp,E(this,Ee,sf).bind(this));S(this,Tl,E(this,Ee,rf).bind(this));S(this,Ro,null);S(this,ze,null);S(this,ir,null);S(this,Rl,null);S(this,ah,null);S(this,lh,null);S(this,Pl,null);S(this,rr,!1);S(this,ei,null);S(this,sr,null);S(this,uh,null);S(this,or,null);S(this,ch,null);S(this,Po,null);S(this,Lo,!1);var f;w(this,ze,e),w(this,ch,r),w(this,ir,o),w(this,or,a),w(this,lh,l),w(this,Ro,t),w(this,uh,c),w(this,Pl,h),w(this,ah,i),w(this,Rl,f0.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",u(this,Tl)),p.addEventListener("mouseenter",u(this,hp)),p.addEventListener("mouseleave",u(this,cp)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",u(this,kl));u(this,ze).hidden=!0,d&&E(this,Ee,rf).call(this)}render(){if(u(this,ei))return;const e=w(this,ei,document.createElement("div"));if(e.className="popup",u(this,Ro)){const s=e.style.outlineColor=B.makeHexColor(...u(this,Ro));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=B.makeHexColor(...u(this,Ro).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=u(this,ch),e.append(t),u(this,Rl)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Rl).valueOf()})),t.append(s)}const r=u(this,Ee,nf);if(r)L1.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(u(this,ir));e.append(s)}u(this,ze).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const a=r[s];i.append(document.createTextNode(a)),s<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;u(this,Po)||w(this,Po,{contentsObj:u(this,ir),richText:u(this,or)}),e&&w(this,sr,null),t&&(w(this,or,E(this,Ee,O1).call(this,t)),w(this,ir,null)),(i=u(this,ei))==null||i.remove(),w(this,ei,null)}resetEdited(){var e;u(this,Po)&&({contentsObj:$t(this,ir)._,richText:$t(this,or)._}=u(this,Po),w(this,Po,null),(e=u(this,ei))==null||e.remove(),w(this,ei,null),w(this,sr,null))}forceHide(){w(this,Lo,this.isVisible),u(this,Lo)&&(u(this,ze).hidden=!0)}maybeShow(){u(this,Lo)&&(u(this,ei)||E(this,Ee,sf).call(this),w(this,Lo,!1),u(this,ze).hidden=!1)}get isVisible(){return u(this,ze).hidden===!1}}kl=new WeakMap,cp=new WeakMap,hp=new WeakMap,Tl=new WeakMap,Ro=new WeakMap,ze=new WeakMap,ir=new WeakMap,Rl=new WeakMap,ah=new WeakMap,lh=new WeakMap,Pl=new WeakMap,rr=new WeakMap,ei=new WeakMap,sr=new WeakMap,uh=new WeakMap,or=new WeakMap,ch=new WeakMap,Po=new WeakMap,Lo=new WeakMap,Ee=new WeakSet,nf=function(){const e=u(this,or),t=u(this,ir);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,or).html||null},mv=function(){var e,t,i;return((i=(t=(e=u(this,Ee,nf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},N1=function(){var e,t,i;return((i=(t=(e=u(this,Ee,nf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},O1=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:u(this,Ee,N1),fontSize:u(this,Ee,mv)?`calc(${u(this,Ee,mv)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},$1=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,rr))&&E(this,Ee,rf).call(this)},H1=function(){if(u(this,sr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=u(this,lh);let o=!!u(this,Pl),a=o?u(this,Pl):u(this,uh);for(const m of u(this,ah))if(!a||B.intersect(m.data.rect,a)!==null){a=m.data.rect,o=!0;break}const l=B.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=o?a[2]-a[0]+5:0,d=l[0]+h,f=l[1];w(this,sr,[100*(d-r)/t,100*(f-s)/i]);const{style:p}=u(this,ze);p.left=`${u(this,sr)[0]}%`,p.top=`${u(this,sr)[1]}%`},rf=function(){w(this,rr,!u(this,rr)),u(this,rr)?(E(this,Ee,sf).call(this),u(this,ze).addEventListener("click",u(this,Tl)),u(this,ze).addEventListener("keydown",u(this,kl))):(E(this,Ee,vv).call(this),u(this,ze).removeEventListener("click",u(this,Tl)),u(this,ze).removeEventListener("keydown",u(this,kl)))},sf=function(){u(this,ei)||this.render(),this.isVisible?u(this,rr)&&u(this,ze).classList.add("focused"):(E(this,Ee,H1).call(this),u(this,ze).hidden=!1,u(this,ze).style.zIndex=parseInt(u(this,ze).style.zIndex)+1e3)},vv=function(){u(this,ze).classList.remove("focused"),!(u(this,rr)||!this.isVisible)&&(u(this,ze).hidden=!0,u(this,ze).style.zIndex=parseInt(u(this,ze).style.zIndex)-1e3)};class j1 extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=te.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var hh;class sI extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,hh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:r}=_r(t.rect),s=this.svgFactory.create(i,r,!0),o=w(this,hh,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}hh=new WeakMap;var dh;class oI extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,dh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:r}=_r(t.rect),s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=w(this,dh,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,dh)}addHighlightArea(){this.container.classList.add("highlightArea")}}dh=new WeakMap;var fh;class aI extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,fh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:r}=_r(t.rect),s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=w(this,fh,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",r/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,fh)}addHighlightArea(){this.container.classList.add("highlightArea")}}fh=new WeakMap;var ph;class z1 extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,ph,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s}}=this;if(!i)return this.container;const{width:o,height:a}=_r(t),l=this.svgFactory.create(o,a,!0);let c=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-t[0],m=t[3]-i[d+1];c.push(`${p},${m}`)}c=c.join(" ");const h=w(this,ph,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",c),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,ph)}addHighlightArea(){this.container.classList.add("highlightArea")}}ph=new WeakMap;class lI extends z1{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class uI extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var gh;class E0 extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,gh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?te.HIGHLIGHT:te.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:i,borderStyle:r,popupRef:s}}=this,{width:o,height:a}=_r(t),l=this.svgFactory.create(o,a,!0);for(const c of i){let h=[];for(let f=0,p=c.length;f<p;f+=2){const m=c[f]-t[0],v=t[3]-c[f+1];h.push(`${m},${v}`)}h=h.join(" ");const d=this.svgFactory.createElement(this.svgElementName);u(this,gh).push(d),d.setAttribute("points",h),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return u(this,gh)}addHighlightArea(){this.container.classList.add("highlightArea")}}gh=new WeakMap;class B1 extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=te.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class cI extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class hI extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class dI extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class U1 extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=te.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mh,vh,yv;class fI extends Ge{constructor(t){var r;super(t,{isRenderable:!0});S(this,vh);S(this,mh,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",E(this,vh,yv).bind(this)),w(this,mh,r);const{isMac:s}=Vt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&E(this,vh,yv).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return u(this,mh)}addHighlightArea(){this.container.classList.add("highlightArea")}}mh=new WeakMap,vh=new WeakSet,yv=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var yh,Mo,Io,wh,aa,W1,wv,LA;let pI=(LA=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:a}){S(this,aa);S(this,yh,null);S(this,Mo,null);S(this,Io,new Map);S(this,wh,null);this.div=e,w(this,yh,t),w(this,Mo,i),w(this,wh,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return u(this,Io).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;ia(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new A0,annotationStorage:e.annotationStorage||new g0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===Je.POPUP;if(l){const d=r.get(a.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=_r(a.rect);if(d<=0||f<=0)continue}s.data=a;const c=QM.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=r.get(a.popupRef);d?d.push(c):r.set(a.popupRef,[c])}const h=c.render();a.hidden&&(h.style.visibility="hidden"),await E(this,aa,W1).call(this,h,a.id),c._isEditable&&(u(this,Io).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}E(this,aa,wv).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,ia(t,{rotation:e.rotation}),E(this,aa,wv).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Io).values())}getEditableAnnotation(e){return u(this,Io).get(e)}},yh=new WeakMap,Mo=new WeakMap,Io=new WeakMap,wh=new WeakMap,aa=new WeakSet,W1=async function(e,t){var o,a;const i=e.firstChild||e,r=i.id=`${c0}${t}`,s=await((o=u(this,wh))==null?void 0:o.getAriaAttributes(r));if(s)for(const[l,c]of s)i.setAttribute(l,c);this.div.append(e),(a=u(this,yh))==null||a.moveElementInDOM(this.div,e,i,!1)},wv=function(){if(!u(this,Mo))return;const e=this.div;for(const[t,i]of u(this,Mo)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}u(this,Mo).clear()},LA);const bd=/\r\n?|\n/g;var ti,dn,Ah,Fo,fn,Qe,V1,G1,X1,of,xr,af,lf,Y1,Ev,K1;const be=class be extends ye{constructor(t){super({...t,name:"freeTextEditor"});S(this,Qe);S(this,ti);S(this,dn,"");S(this,Ah,`${this.id}-editor`);S(this,Fo,null);S(this,fn);w(this,ti,t.color||be._defaultColor||ye._defaultLineColor),w(this,fn,t.fontSize||be._defaultFontSize)}static get _keyboardManager(){const t=be.prototype,i=o=>o.isEmpty(),r=ra.TRANSLATE_SMALL,s=ra.TRANSLATE_BIG;return ue(this,"_keyboardManager",new Yh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){ye.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case K.FREETEXT_SIZE:be._defaultFontSize=i;break;case K.FREETEXT_COLOR:be._defaultColor=i;break}}updateParams(t,i){switch(t){case K.FREETEXT_SIZE:E(this,Qe,V1).call(this,i);break;case K.FREETEXT_COLOR:E(this,Qe,G1).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[K.FREETEXT_SIZE,be._defaultFontSize],[K.FREETEXT_COLOR,be._defaultColor||ye._defaultLineColor]]}get propertiesToUpdate(){return[[K.FREETEXT_SIZE,u(this,fn)],[K.FREETEXT_COLOR,u(this,ti)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-be._internalPadding*t,-(be._internalPadding+u(this,fn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(te.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),w(this,Fo,new AbortController);const t=this._uiManager.combinedSignal(u(this,Fo));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Ah)),this._isDraggable=!0,(t=u(this,Fo))==null||t.abort(),w(this,Fo,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,dn),i=w(this,dn,E(this,Qe,X1).call(this).trimEnd());if(t===i)return;const r=s=>{if(w(this,dn,s),!s){this.remove();return}E(this,Qe,lf).call(this),this._uiManager.rebuild(this),E(this,Qe,of).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),E(this,Qe,of).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){be._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Ah)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${u(this,fn)}px * var(--scale-factor))`,r.color=u(this,ti),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Gf(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let m,v;switch(this.rotation){case 0:m=t+(a[0]-f)/h,v=i+this.height-(a[1]-p)/d;break;case 90:m=t+(a[0]-f)/h,v=i-(a[1]-p)/d,[l,c]=[c,-l];break;case 180:m=t-this.width+(a[0]-f)/h,v=i-(a[1]-p)/d,[l,c]=[-l,-c];break;case 270:m=t+(a[0]-f-this.height*d)/h,v=i+(a[1]-p-this.width*h)/d,[l,c]=[-c,l];break}this.setAt(m*s,v*o,l,c)}else this.setAt(t*s,i*o,this.width*s,this.height*o);E(this,Qe,lf).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var m,v,_;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=E(m=be,xr,Ev).call(m,i.getData("text")||"").replaceAll(bd,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(bd,"")),g!==this.editorDiv){let y=h;for(const A of this.editorDiv.childNodes){if(A===g){y=d;continue}y.push(E(v=be,xr,af).call(v,A))}}h.push(l.nodeValue.slice(0,c).replaceAll(bd,""))}else if(l===this.editorDiv){let g=h,y=0;for(const A of this.editorDiv.childNodes)y++===c&&(g=d),g.push(E(_=be,xr,af).call(_,A))}w(this,dn,`${h.join(`
`)}${s}${d.join(`
`)}`),E(this,Qe,lf).call(this);const f=new Range;let p=h.reduce((g,y)=>g+y.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const y=g.nodeValue.length;if(p<=y){f.setStart(g,p),f.setEnd(g,p);break}p-=y}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,i,r){var a;let s=null;if(t instanceof j1){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:f,popupRef:p},textContent:m,textPosition:v,parent:{page:{pageNumber:_}}}=t;if(!m||m.length===0)return null;s=t={annotationType:te.FREETEXT,color:Array.from(c),fontSize:l,value:m.join(`
`),position:v,pageIndex:_-1,rect:h.slice(0),rotation:d,id:f,deleted:!1,popupRef:p}}const o=await super.deserialize(t,i,r);return w(o,fn,t.fontSize),w(o,ti,B.makeHexColor(...t.color)),w(o,dn,E(a=be,xr,Ev).call(a,t.value)),o.annotationElementId=t.id||null,o._initialData=s,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=be._internalPadding*this.parentScale,r=this.getRect(i,i),s=ye._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,ti)),o={annotationType:te.FREETEXT,color:s,fontSize:u(this,fn),value:E(this,Qe,Y1).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!E(this,Qe,K1).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${u(this,fn)}px * var(--scale-factor))`,r.color=u(this,ti),i.replaceChildren();for(const o of u(this,dn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),i.append(a)}const s=be._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:u(this,dn)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};ti=new WeakMap,dn=new WeakMap,Ah=new WeakMap,Fo=new WeakMap,fn=new WeakMap,Qe=new WeakSet,V1=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-u(this,fn))*this.parentScale),w(this,fn,s),E(this,Qe,of).call(this)},r=u(this,fn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},G1=function(t){const i=s=>{w(this,ti,this.editorDiv.style.color=s)},r=u(this,ti);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},X1=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(E(r=be,xr,af).call(r,s)),i=s);return t.join(`
`)},of=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},xr=new WeakSet,af=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(bd,"")},lf=function(){if(this.editorDiv.replaceChildren(),!!u(this,dn))for(const t of u(this,dn).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},Y1=function(){return u(this,dn).replaceAll(" "," ")},Ev=function(t){return t.replaceAll(" "," ")},K1=function(t){const{value:i,fontSize:r,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},S(be,xr),Y(be,"_freeTextDefaultContent",""),Y(be,"_internalPadding",0),Y(be,"_defaultColor",null),Y(be,"_defaultFontSize",10),Y(be,"_type","freetext"),Y(be,"_editorType",te.FREETEXT);let Av=be;class q1{toSVGPath(){ke("Abstract method `toSVGPath` must be implemented.")}get box(){ke("Abstract getter `box` must be implemented.")}serialize(e,t){ke("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ke("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ke("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var pn,ni,Ll,Ml,Pi,se,Do,No,Eh,Sh,Il,Fl,hs,_h,dp,fp,st,$u,Q1,J1,Z1,eb,tb,nb;const Vi=class Vi{constructor({x:e,y:t},i,r,s,o,a=0){S(this,st);S(this,pn);S(this,ni,[]);S(this,Ll);S(this,Ml);S(this,Pi,[]);S(this,se,new Float64Array(18));S(this,Do);S(this,No);S(this,Eh);S(this,Sh);S(this,Il);S(this,Fl);S(this,hs,[]);w(this,pn,i),w(this,Fl,s*r),w(this,Ml,o),u(this,se).set([NaN,NaN,NaN,NaN,e,t],6),w(this,Ll,a),w(this,Sh,u(Vi,_h)*r),w(this,Eh,u(Vi,fp)*r),w(this,Il,r),u(this,hs).push(e,t)}isEmpty(){return isNaN(u(this,se)[8])}add({x:e,y:t}){var L;w(this,Do,e),w(this,No,t);const[i,r,s,o]=u(this,pn);let[a,l,c,h]=u(this,se).subarray(8,12);const d=e-c,f=t-h,p=Math.hypot(d,f);if(p<u(this,Eh))return!1;const m=p-u(this,Sh),v=m/p,_=v*d,g=v*f;let y=a,A=l;a=c,l=h,c+=_,h+=g,(L=u(this,hs))==null||L.push(e,t);const x=-g/m,C=_/m,k=x*u(this,Fl),T=C*u(this,Fl);return u(this,se).set(u(this,se).subarray(2,8),0),u(this,se).set([c+k,h+T],4),u(this,se).set(u(this,se).subarray(14,18),12),u(this,se).set([c-k,h-T],16),isNaN(u(this,se)[6])?(u(this,Pi).length===0&&(u(this,se).set([a+k,l+T],2),u(this,Pi).push(NaN,NaN,NaN,NaN,(a+k-i)/s,(l+T-r)/o),u(this,se).set([a-k,l-T],14),u(this,ni).push(NaN,NaN,NaN,NaN,(a-k-i)/s,(l-T-r)/o)),u(this,se).set([y,A,a,l,c,h],6),!this.isEmpty()):(u(this,se).set([y,A,a,l,c,h],6),Math.abs(Math.atan2(A-l,y-a)-Math.atan2(g,_))<Math.PI/2?([a,l,c,h]=u(this,se).subarray(2,6),u(this,Pi).push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((l+h)/2-r)/o),[a,l,y,A]=u(this,se).subarray(14,18),u(this,ni).push(NaN,NaN,NaN,NaN,((y+a)/2-i)/s,((A+l)/2-r)/o),!0):([y,A,a,l,c,h]=u(this,se).subarray(0,6),u(this,Pi).push(((y+5*a)/6-i)/s,((A+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+h)/6-r)/o,((a+c)/2-i)/s,((l+h)/2-r)/o),[c,h,a,l,y,A]=u(this,se).subarray(12,18),u(this,ni).push(((y+5*a)/6-i)/s,((A+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+h)/6-r)/o,((a+c)/2-i)/s,((l+h)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Pi),t=u(this,ni);if(isNaN(u(this,se)[6])&&!this.isEmpty())return E(this,st,Q1).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);E(this,st,Z1).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return E(this,st,J1).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,o){return new ib(e,t,i,r,s,o)}getOutlines(){var d;const e=u(this,Pi),t=u(this,ni),i=u(this,se),[r,s,o,a]=u(this,pn),l=new Float64Array((((d=u(this,hs))==null?void 0:d.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(u(this,hs)[f]-r)/o,l[f+1]=(u(this,hs)[f+1]-s)/a;if(l[l.length-2]=(u(this,Do)-r)/o,l[l.length-1]=(u(this,No)-s)/a,isNaN(i[6])&&!this.isEmpty())return E(this,st,eb).call(this,l);const c=new Float64Array(u(this,Pi).length+24+u(this,ni).length);let h=e.length;for(let f=0;f<h;f+=2){if(isNaN(e[f])){c[f]=c[f+1]=NaN;continue}c[f]=e[f],c[f+1]=e[f+1]}h=E(this,st,nb).call(this,c,h);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){c[h]=c[h+1]=NaN,h+=2;continue}c[h]=t[f+p],c[h+1]=t[f+p+1],h+=2}return E(this,st,tb).call(this,c,h),this.newFreeDrawOutline(c,l,u(this,pn),u(this,Il),u(this,Ll),u(this,Ml))}};pn=new WeakMap,ni=new WeakMap,Ll=new WeakMap,Ml=new WeakMap,Pi=new WeakMap,se=new WeakMap,Do=new WeakMap,No=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,Il=new WeakMap,Fl=new WeakMap,hs=new WeakMap,_h=new WeakMap,dp=new WeakMap,fp=new WeakMap,st=new WeakSet,$u=function(){const e=u(this,se).subarray(4,6),t=u(this,se).subarray(16,18),[i,r,s,o]=u(this,pn);return[(u(this,Do)+(e[0]-t[0])/2-i)/s,(u(this,No)+(e[1]-t[1])/2-r)/o,(u(this,Do)+(t[0]-e[0])/2-i)/s,(u(this,No)+(t[1]-e[1])/2-r)/o]},Q1=function(){const[e,t,i,r]=u(this,pn),[s,o,a,l]=E(this,st,$u).call(this);return`M${(u(this,se)[2]-e)/i} ${(u(this,se)[3]-t)/r} L${(u(this,se)[4]-e)/i} ${(u(this,se)[5]-t)/r} L${s} ${o} L${a} ${l} L${(u(this,se)[16]-e)/i} ${(u(this,se)[17]-t)/r} L${(u(this,se)[14]-e)/i} ${(u(this,se)[15]-t)/r} Z`},J1=function(e){const t=u(this,ni);e.push(`L${t[4]} ${t[5]} Z`)},Z1=function(e){const[t,i,r,s]=u(this,pn),o=u(this,se).subarray(4,6),a=u(this,se).subarray(16,18),[l,c,h,d]=E(this,st,$u).call(this);e.push(`L${(o[0]-t)/r} ${(o[1]-i)/s} L${l} ${c} L${h} ${d} L${(a[0]-t)/r} ${(a[1]-i)/s}`)},eb=function(e){const t=u(this,se),[i,r,s,o]=u(this,pn),[a,l,c,h]=E(this,st,$u).call(this),d=new Float64Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/o],0),this.newFreeDrawOutline(d,e,u(this,pn),u(this,Il),u(this,Ll),u(this,Ml))},tb=function(e,t){const i=u(this,ni);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},nb=function(e,t){const i=u(this,se).subarray(4,6),r=u(this,se).subarray(16,18),[s,o,a,l]=u(this,pn),[c,h,d,f]=E(this,st,$u).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l],t),t+=24},S(Vi,_h,8),S(Vi,dp,2),S(Vi,fp,u(Vi,_h)+u(Vi,dp));let Yf=Vi;var Dl,Oo,ar,bh,gn,xh,We,sn,Hu,ju,rb;class ib extends q1{constructor(t,i,r,s,o,a){super();S(this,sn);S(this,Dl);S(this,Oo,null);S(this,ar);S(this,bh);S(this,gn);S(this,xh);S(this,We);w(this,We,t),w(this,gn,i),w(this,Dl,r),w(this,xh,s),w(this,ar,o),w(this,bh,a),E(this,sn,rb).call(this,a);const{x:l,y:c,width:h,height:d}=u(this,Oo);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/h,t[f+1]=(t[f+1]-c)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-l)/h,i[f+1]=(i[f+1]-c)/d}toSVGPath(){const t=[`M${u(this,We)[4]} ${u(this,We)[5]}`];for(let i=6,r=u(this,We).length;i<r;i+=6){if(isNaN(u(this,We)[i])){t.push(`L${u(this,We)[i+4]} ${u(this,We)[i+5]}`);continue}t.push(`C${u(this,We)[i]} ${u(this,We)[i+1]} ${u(this,We)[i+2]} ${u(this,We)[i+3]} ${u(this,We)[i+4]} ${u(this,We)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],o){const a=r-t,l=s-i;let c,h;switch(o){case 0:c=E(this,sn,Hu).call(this,u(this,We),t,s,a,-l),h=E(this,sn,Hu).call(this,u(this,gn),t,s,a,-l);break;case 90:c=E(this,sn,ju).call(this,u(this,We),t,i,a,l),h=E(this,sn,ju).call(this,u(this,gn),t,i,a,l);break;case 180:c=E(this,sn,Hu).call(this,u(this,We),r,i,-a,l),h=E(this,sn,Hu).call(this,u(this,gn),r,i,-a,l);break;case 270:c=E(this,sn,ju).call(this,u(this,We),r,s,-a,-l),h=E(this,sn,ju).call(this,u(this,gn),r,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return u(this,Oo)}newOutliner(t,i,r,s,o,a=0){return new Yf(t,i,r,s,o,a)}getNewOutline(t,i){const{x:r,y:s,width:o,height:a}=u(this,Oo),[l,c,h,d]=u(this,Dl),f=o*h,p=a*d,m=r*h+l,v=s*d+c,_=this.newOutliner({x:u(this,gn)[0]*f+m,y:u(this,gn)[1]*p+v},u(this,Dl),u(this,xh),t,u(this,bh),i??u(this,ar));for(let g=2;g<u(this,gn).length;g+=2)_.add({x:u(this,gn)[g]*f+m,y:u(this,gn)[g+1]*p+v});return _.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Dl=new WeakMap,Oo=new WeakMap,ar=new WeakMap,bh=new WeakMap,gn=new WeakMap,xh=new WeakMap,We=new WeakMap,sn=new WeakSet,Hu=function(t,i,r,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=i+t[l]*s,a[l+1]=r+t[l+1]*o;return a},ju=function(t,i,r,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=i+t[l+1]*s,a[l+1]=r+t[l]*o;return a},rb=function(t){const i=u(this,We);let r=i[4],s=i[5],o=r,a=s,l=r,c=s,h=r,d=s;const f=t?Math.max:Math.min;for(let g=6,y=i.length;g<y;g+=6){if(isNaN(i[g]))o=Math.min(o,i[g+4]),a=Math.min(a,i[g+5]),l=Math.max(l,i[g+4]),c=Math.max(c,i[g+5]),d<i[g+5]?(h=i[g+4],d=i[g+5]):d===i[g+5]&&(h=f(h,i[g+4]));else{const A=B.bezierBoundingBox(r,s,...i.slice(g,g+6));o=Math.min(o,A[0]),a=Math.min(a,A[1]),l=Math.max(l,A[2]),c=Math.max(c,A[3]),d<A[3]?(h=A[2],d=A[3]):d===A[3]&&(h=f(h,A[2]))}r=i[g+4],s=i[g+5]}const p=o-u(this,ar),m=a-u(this,ar),v=l-o+2*u(this,ar),_=c-a+2*u(this,ar);w(this,Oo,{x:p,y:m,width:v,height:_,lastPoint:[h,d]})};var Ch,ds,ii,Xt,sb,uf,ob,ab,Sv;class AA{constructor(e,t=0,i=0,r=!0){S(this,Xt);S(this,Ch);S(this,ds,[]);S(this,ii,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const h=10**-4;for(const{x:g,y,width:A,height:x}of e){const C=Math.floor((g-t)/h)*h,k=Math.ceil((g+A+t)/h)*h,T=Math.floor((y-t)/h)*h,R=Math.ceil((y+x+t)/h)*h,L=[C,T,R,!0],I=[k,T,R,!1];u(this,ds).push(L,I),s=Math.min(s,C),o=Math.max(o,k),a=Math.min(a,T),l=Math.max(l,R)}const d=o-s+2*i,f=l-a+2*i,p=s-i,m=a-i,v=u(this,ds).at(r?-1:-2),_=[v[0],v[2]];for(const g of u(this,ds)){const[y,A,x]=g;g[0]=(y-p)/d,g[1]=(A-m)/f,g[2]=(x-m)/f}w(this,Ch,{x:p,y:m,width:d,height:f,lastPoint:_})}getOutlines(){u(this,ds).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of u(this,ds))t[3]?(e.push(...E(this,Xt,Sv).call(this,t)),E(this,Xt,ob).call(this,t)):(E(this,Xt,ab).call(this,t),e.push(...E(this,Xt,Sv).call(this,t)));return E(this,Xt,sb).call(this,e)}}Ch=new WeakMap,ds=new WeakMap,ii=new WeakMap,Xt=new WeakSet,sb=function(e){const t=[],i=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[a,l,c,h,d]=o;i.delete(o);let f=a,p=l;for(s=[a,c],r.push(s);;){let m;if(i.has(h))m=h;else if(i.has(d))m=d;else break;i.delete(m),[a,l,c,h,d]=m,f!==a&&(s.push(f,p,a,p===l?l:c),f=a),p=p===l?c:l}s.push(f,p)}return new gI(r,u(this,Ch))},uf=function(e){const t=u(this,ii);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1},ob=function([,e,t]){const i=E(this,Xt,uf).call(this,e);u(this,ii).splice(i,0,[e,t])},ab=function([,e,t]){const i=E(this,Xt,uf).call(this,e);for(let r=i;r<u(this,ii).length;r++){const[s,o]=u(this,ii)[r];if(s!==e)break;if(s===e&&o===t){u(this,ii).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=u(this,ii)[r];if(s!==e)break;if(s===e&&o===t){u(this,ii).splice(r,1);return}}},Sv=function(e){const[t,i,r]=e,s=[[t,i,r]],o=E(this,Xt,uf).call(this,r);for(let a=0;a<o;a++){const[l,c]=u(this,ii)[a];for(let h=0,d=s.length;h<d;h++){const[,f,p]=s[h];if(!(c<=f||p<=l)){if(f>=l){if(p>c)s[h][1]=c;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,p>c&&s.push([t,c,p])}}}return s};var kh,Nl;class gI extends q1{constructor(t,i){super();S(this,kh);S(this,Nl);w(this,Nl,t),w(this,kh,i)}toSVGPath(){const t=[];for(const i of u(this,Nl)){let[r,s]=i;t.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const a=i[o],l=i[o+1];a===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],o){const a=[],l=r-t,c=s-i;for(const h of u(this,Nl)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*l,d[f+1]=s-h[f+1]*c;a.push(d)}return a}get box(){return u(this,kh)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}kh=new WeakMap,Nl=new WeakMap;class _v extends Yf{newFreeDrawOutline(e,t,i,r,s,o){return new mI(e,t,i,r,s,o)}get classNamesForDrawing(){return["highlight","free"]}}class mI extends ib{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,i,r,s,o=0){return new _v(e,t,i,r,s,o)}}var ri,$o,Ol,et,Th,$l,Rh,Ph,fs,si,Hl,Lh,Ae,bv,xv,Cv,Ws,lb,zr;const Qt=class Qt{constructor({editor:e=null,uiManager:t=null}){S(this,Ae);S(this,ri,null);S(this,$o,null);S(this,Ol);S(this,et,null);S(this,Th,!1);S(this,$l,!1);S(this,Rh,null);S(this,Ph);S(this,fs,null);S(this,si,null);S(this,Hl);var i;e?(w(this,$l,!1),w(this,Hl,K.HIGHLIGHT_COLOR),w(this,Rh,e)):(w(this,$l,!0),w(this,Hl,K.HIGHLIGHT_DEFAULT_COLOR)),w(this,si,(e==null?void 0:e._uiManager)||t),w(this,Ph,u(this,si)._eventBus),w(this,Ol,(e==null?void 0:e.color)||((i=u(this,si))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),u(Qt,Lh)||w(Qt,Lh,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ue(this,"_keyboardManager",new Yh([[["Escape","mac+Escape"],Qt.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Qt.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Qt.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Qt.prototype._moveToPrevious],[["Home","mac+Home"],Qt.prototype._moveToBeginning],[["End","mac+End"],Qt.prototype._moveToEnd]]))}renderButton(){const e=w(this,ri,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=u(this,si)._signal;e.addEventListener("click",E(this,Ae,Ws).bind(this),{signal:t}),e.addEventListener("keydown",E(this,Ae,Cv).bind(this),{signal:t});const i=w(this,$o,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=u(this,Ol),e.append(i),e}renderMainDropdown(){const e=w(this,et,E(this,Ae,bv).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===u(this,ri)){E(this,Ae,Ws).call(this,e);return}const t=e.target.getAttribute("data-color");t&&E(this,Ae,xv).call(this,t,e)}_moveToNext(e){var t,i;if(!u(this,Ae,zr)){E(this,Ae,Ws).call(this,e);return}if(e.target===u(this,ri)){(t=u(this,et).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=u(this,et))==null?void 0:t.firstChild)||e.target===u(this,ri)){u(this,Ae,zr)&&this._hideDropdownFromKeyboard();return}u(this,Ae,zr)||E(this,Ae,Ws).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!u(this,Ae,zr)){E(this,Ae,Ws).call(this,e);return}(t=u(this,et).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,Ae,zr)){E(this,Ae,Ws).call(this,e);return}(t=u(this,et).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,et))==null||e.classList.add("hidden"),(t=u(this,fs))==null||t.abort(),w(this,fs,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,$l)){if(!u(this,Ae,zr)){(e=u(this,Rh))==null||e.unselect();return}this.hideDropdown(),u(this,ri).focus({preventScroll:!0,focusVisible:u(this,Th)})}}updateColor(e){if(u(this,$o)&&(u(this,$o).style.backgroundColor=e),!u(this,et))return;const t=u(this,si).highlightColors.values();for(const i of u(this,et).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=u(this,ri))==null||e.remove(),w(this,ri,null),w(this,$o,null),(t=u(this,et))==null||t.remove(),w(this,et,null)}};ri=new WeakMap,$o=new WeakMap,Ol=new WeakMap,et=new WeakMap,Th=new WeakMap,$l=new WeakMap,Rh=new WeakMap,Ph=new WeakMap,fs=new WeakMap,si=new WeakMap,Hl=new WeakMap,Lh=new WeakMap,Ae=new WeakSet,bv=function(){const e=document.createElement("div"),t=u(this,si)._signal;e.addEventListener("contextmenu",Bn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of u(this,si).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",u(Qt,Lh)[i]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===u(this,Ol)),s.addEventListener("click",E(this,Ae,xv).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",E(this,Ae,Cv).bind(this),{signal:t}),e},xv=function(e,t){t.stopPropagation(),u(this,Ph).dispatch("switchannotationeditorparams",{source:this,type:u(this,Hl),value:e})},Cv=function(e){Qt._keyboardManager.exec(this,e)},Ws=function(e){if(u(this,Ae,zr)){this.hideDropdown();return}if(w(this,Th,e.detail===0),u(this,fs)||(w(this,fs,new AbortController),window.addEventListener("pointerdown",E(this,Ae,lb).bind(this),{signal:u(this,si).combinedSignal(u(this,fs))})),u(this,et)){u(this,et).classList.remove("hidden");return}const t=w(this,et,E(this,Ae,bv).call(this));u(this,ri).append(t)},lb=function(e){var t;(t=u(this,et))!=null&&t.contains(e.target)||this.hideDropdown()},zr=function(){return u(this,et)&&!u(this,et).classList.contains("hidden")},S(Qt,Lh,null);let Kf=Qt;var jl,Mh,lr,Ho,zl,Pn,Ih,Fh,jo,oi,Lt,en,Bl,ur,tt,Ul,Ln,Dh,Z,kv,cf,ub,cb,hb,Tv,Vs,Nn,Ca,db,hf,zu,fb,pb,gb,mb,vb;const he=class he extends ye{constructor(t){super({...t,name:"highlightEditor"});S(this,Z);S(this,jl,null);S(this,Mh,0);S(this,lr);S(this,Ho,null);S(this,zl,null);S(this,Pn,null);S(this,Ih,null);S(this,Fh,0);S(this,jo,null);S(this,oi,null);S(this,Lt,null);S(this,en,!1);S(this,Bl,null);S(this,ur);S(this,tt,null);S(this,Ul,"");S(this,Ln);S(this,Dh,"");this.color=t.color||he._defaultColor,w(this,Ln,t.thickness||he._defaultThickness),w(this,ur,t.opacity||he._defaultOpacity),w(this,lr,t.boxes||null),w(this,Dh,t.methodOfCreation||""),w(this,Ul,t.text||""),this._isDraggable=!1,t.highlightId>-1?(w(this,en,!0),E(this,Z,cf).call(this,t),E(this,Z,Vs).call(this)):u(this,lr)&&(w(this,jl,t.anchorNode),w(this,Mh,t.anchorOffset),w(this,Ih,t.focusNode),w(this,Fh,t.focusOffset),E(this,Z,kv).call(this),E(this,Z,Vs).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=he.prototype;return ue(this,"_keyboardManager",new Yh([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,en)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Ln),methodOfCreation:u(this,Dh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;ye.initialize(t,i),he._defaultColor||(he._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case K.HIGHLIGHT_DEFAULT_COLOR:he._defaultColor=i;break;case K.HIGHLIGHT_THICKNESS:he._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return u(this,Bl)}updateParams(t,i){switch(t){case K.HIGHLIGHT_COLOR:E(this,Z,ub).call(this,i);break;case K.HIGHLIGHT_THICKNESS:E(this,Z,cb).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[K.HIGHLIGHT_DEFAULT_COLOR,he._defaultColor],[K.HIGHLIGHT_THICKNESS,he._defaultThickness]]}get propertiesToUpdate(){return[[K.HIGHLIGHT_COLOR,this.color||he._defaultColor],[K.HIGHLIGHT_THICKNESS,u(this,Ln)||he._defaultThickness],[K.HIGHLIGHT_FREE,u(this,en)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(w(this,zl,new Kf({editor:this})),t.addColorPicker(u(this,zl))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,Z,zu).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,E(this,Z,zu).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){E(this,Z,Tv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,Z,Vs).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?E(this,Z,Tv).call(this):t&&(E(this,Z,Vs).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,o,a;const{drawLayer:i}=this.parent;let r;u(this,en)?(t=(t-this.rotation+360)%360,r=E(s=he,Nn,Ca).call(s,u(this,oi).box,t)):r=E(o=he,Nn,Ca).call(o,this,t),i.rotate(u(this,Lt),t),i.rotate(u(this,tt),t),i.updateBox(u(this,Lt),r),i.updateBox(u(this,tt),E(a=he,Nn,Ca).call(a,u(this,Pn).box,t))}render(){if(this.div)return this.div;const t=super.render();u(this,Ul)&&(t.setAttribute("aria-label",u(this,Ul)),t.setAttribute("role","mark")),u(this,en)?t.classList.add("free"):this.div.addEventListener("keydown",E(this,Z,db).bind(this),{signal:this._uiManager._signal});const i=w(this,jo,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=u(this,Ho);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),Gf(this,u(this,jo),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(u(this,tt),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(u(this,tt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:E(this,Z,hf).call(this,!0);break;case 1:case 3:E(this,Z,hf).call(this,!1);break}}select(){var t,i;super.select(),u(this,tt)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,tt),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(u(this,tt),"selected"))}unselect(){var t;super.unselect(),u(this,tt)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,tt),"selected"),u(this,en)||E(this,Z,hf).call(this,!1))}get _mustFixPosition(){return!u(this,en)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(u(this,Lt),t),this.parent.drawLayer.show(u(this,tt),t))}static startHighlighting(t,i,{target:r,x:s,y:o}){const{x:a,y:l,width:c,height:h}=r.getBoundingClientRect(),d=new AbortController,f=t.combinedSignal(d),p=v=>{v.preventDefault(),v.stopPropagation()},m=v=>{d.abort(),E(this,Nn,mb).call(this,t,v)};window.addEventListener("blur",m,{signal:f}),window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("pointerdown",p,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Bn,{signal:f}),r.addEventListener("pointermove",E(this,Nn,gb).bind(this,t),{signal:f}),this._freeHighlight=new _v({x:s,y:o},[a,l,c,h],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,i,r){var v,_,g,y;let s=null;if(t instanceof B1){const{data:{quadPoints:A,rect:x,rotation:C,id:k,color:T,opacity:R,popupRef:L},parent:{page:{pageNumber:I}}}=t;s=t={annotationType:te.HIGHLIGHT,color:Array.from(T),opacity:R,quadPoints:A,boxes:null,pageIndex:I-1,rect:x.slice(0),rotation:C,id:k,deleted:!1,popupRef:L}}else if(t instanceof E0){const{data:{inkLists:A,rect:x,rotation:C,id:k,color:T,borderStyle:{rawWidth:R},popupRef:L},parent:{page:{pageNumber:I}}}=t;s=t={annotationType:te.HIGHLIGHT,color:Array.from(T),thickness:R,inkLists:A,boxes:null,pageIndex:I-1,rect:x.slice(0),rotation:C,id:k,deleted:!1,popupRef:L}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=t,h=await super.deserialize(t,i,r);h.color=B.makeHexColor(...o),w(h,ur,c||1),l&&w(h,Ln,t.thickness),h.annotationElementId=t.id||null,h._initialData=s;const[d,f]=h.pageDimensions,[p,m]=h.pageTranslation;if(a){const A=w(h,lr,[]);for(let x=0;x<a.length;x+=8)A.push({x:(a[x]-p)/d,y:1-(a[x+1]-m)/f,width:(a[x+2]-a[x])/d,height:(a[x+1]-a[x+5])/f});E(v=h,Z,kv).call(v),E(_=h,Z,Vs).call(_),h.rotate(h.rotation)}else if(l){w(h,en,!0);const A=l[0],x={x:A[0]-p,y:f-(A[1]-m)},C=new _v(x,[0,0,d,f],1,u(h,Ln)/2,!0,.001);for(let R=0,L=A.length;R<L;R+=2)x.x=A[R]-p,x.y=f-(A[R+1]-m),C.add(x);const{id:k,clipPathId:T}=i.drawLayer.draw(C,h.color,h._defaultOpacity,!0);E(g=h,Z,cf).call(g,{highlightOutlines:C.getOutlines(),highlightId:k,clipPathId:T}),E(y=h,Z,Vs).call(y)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),r=ye._colorManager.convert(this.color),s={annotationType:te.HIGHLIGHT,color:r,opacity:u(this,ur),thickness:u(this,Ln),quadPoints:E(this,Z,fb).call(this),outlines:E(this,Z,pb).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:E(this,Z,zu).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!E(this,Z,vb).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};jl=new WeakMap,Mh=new WeakMap,lr=new WeakMap,Ho=new WeakMap,zl=new WeakMap,Pn=new WeakMap,Ih=new WeakMap,Fh=new WeakMap,jo=new WeakMap,oi=new WeakMap,Lt=new WeakMap,en=new WeakMap,Bl=new WeakMap,ur=new WeakMap,tt=new WeakMap,Ul=new WeakMap,Ln=new WeakMap,Dh=new WeakMap,Z=new WeakSet,kv=function(){const t=new AA(u(this,lr),.001);w(this,oi,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,oi).box;const i=new AA(u(this,lr),.0025,.001,this._uiManager.direction==="ltr");w(this,Pn,i.getOutlines());const{lastPoint:r}=u(this,Pn).box;w(this,Bl,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},cf=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var d,f;if(w(this,oi,t),w(this,Pn,t.getNewOutline(u(this,Ln)/2+1.5,.0025)),i>=0)w(this,Lt,i),w(this,Ho,r),this.parent.drawLayer.finalizeLine(i,t),w(this,tt,this.parent.drawLayer.drawOutline(u(this,Pn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,Lt),t),this.parent.drawLayer.updateBox(u(this,Lt),E(d=he,Nn,Ca).call(d,u(this,oi).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,tt),u(this,Pn)),this.parent.drawLayer.updateBox(u(this,tt),E(f=he,Nn,Ca).call(f,u(this,Pn).box,p))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*m/p,this.height=c*p/m;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*m/p,this.height=c*p/m;break}}const{lastPoint:h}=u(this,Pn).box;w(this,Bl,[(h[0]-o)/l,(h[1]-a)/c])},ub=function(t){const i=(o,a)=>{var l,c,h;this.color=o,(l=this.parent)==null||l.drawLayer.changeColor(u(this,Lt),o),(c=u(this,zl))==null||c.updateColor(o),w(this,ur,a),(h=this.parent)==null||h.drawLayer.changeOpacity(u(this,Lt),a)},r=this.color,s=u(this,ur);this.addCommands({cmd:i.bind(this,t,he._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},cb=function(t){const i=u(this,Ln),r=s=>{w(this,Ln,s),E(this,Z,hb).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},hb=function(t){if(!u(this,en))return;E(this,Z,cf).call(this,{highlightOutlines:u(this,oi).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},Tv=function(){u(this,Lt)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Lt)),w(this,Lt,null),this.parent.drawLayer.remove(u(this,tt)),w(this,tt,null))},Vs=function(t=this.parent){u(this,Lt)===null&&({id:$t(this,Lt)._,clipPathId:$t(this,Ho)._}=t.drawLayer.draw(u(this,oi),this.color,u(this,ur)),w(this,tt,t.drawLayer.drawOutline(u(this,Pn))),u(this,jo)&&(u(this,jo).style.clipPath=u(this,Ho)))},Nn=new WeakSet,Ca=function({x:t,y:i,width:r,height:s},o){switch(o){case 90:return{x:1-i-s,y:t,width:s,height:r};case 180:return{x:1-t-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-t-r,width:s,height:r}}return{x:t,y:i,width:r,height:s}},db=function(t){he._keyboardManager.exec(this,t)},hf=function(t){if(!u(this,jl))return;const i=window.getSelection();t?i.setPosition(u(this,jl),u(this,Mh)):i.setPosition(u(this,Ih),u(this,Fh))},zu=function(){return u(this,en)?this.rotation:0},fb=function(){if(u(this,en))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,o=u(this,lr),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:h,width:d,height:f}of o){const p=c*t+r,m=(1-h-f)*i+s;a[l]=a[l+4]=p,a[l+1]=a[l+3]=m,a[l+2]=a[l+6]=p+d*t,a[l+5]=a[l+7]=m+f*i,l+=8}return a},pb=function(t){return u(this,oi).serialize(t,E(this,Z,zu).call(this))},gb=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},mb=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},vb=function(t){const{color:i}=this._initialData;return t.color.some((r,s)=>r!==i[s])},S(he,Nn),Y(he,"_defaultColor",null),Y(he,"_defaultOpacity",1),Y(he,"_defaultThickness",12),Y(he,"_type","highlight"),Y(he,"_editorType",te.HIGHLIGHT),Y(he,"_freeHighlightId",-1),Y(he,"_freeHighlight",null),Y(he,"_freeHighlightClipId","");let qf=he;var zo,Bo,Li,cr,Mn,Uo,Wo,Vo,hr,Wl,Go,Xo,ps,N,yb,wb,Ab,Eb,Pv,Sb,Lv,_b,bb,xb,Cb,kb,Gs,Mv,Iv,Fv,df,ff,ka,Dv,pf,Ir,Tb,Nv,Rb,Pb,Ov,gf,Bu;const Me=class Me extends ye{constructor(t){super({...t,name:"inkEditor"});S(this,N);S(this,zo,0);S(this,Bo,0);S(this,Li,null);S(this,cr,new Path2D);S(this,Mn,!1);S(this,Uo,null);S(this,Wo,!1);S(this,Vo,!1);S(this,hr,null);S(this,Wl,null);S(this,Go,0);S(this,Xo,0);S(this,ps,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){ye.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case K.INK_THICKNESS:Me._defaultThickness=i;break;case K.INK_COLOR:Me._defaultColor=i;break;case K.INK_OPACITY:Me._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case K.INK_THICKNESS:E(this,N,yb).call(this,i);break;case K.INK_COLOR:E(this,N,wb).call(this,i);break;case K.INK_OPACITY:E(this,N,Ab).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[K.INK_THICKNESS,Me._defaultThickness],[K.INK_COLOR,Me._defaultColor||ye._defaultLineColor],[K.INK_OPACITY,Math.round(Me._defaultOpacity*100)]]}get propertiesToUpdate(){return[[K.INK_THICKNESS,this.thickness||Me._defaultThickness],[K.INK_COLOR,this.color||Me._defaultColor||ye._defaultLineColor],[K.INK_OPACITY,Math.round(100*(this.opacity??Me._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(E(this,N,df).call(this),E(this,N,ff).call(this)),this.isAttachedToDOM||(this.parent.add(this),E(this,N,ka).call(this)),E(this,N,Bu).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,Li)&&(clearTimeout(u(this,Li)),w(this,Li,null)),(t=u(this,hr))==null||t.disconnect(),w(this,hr,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,r=this.width*t,s=this.height*i;this.setDimensions(r,s)}enableEditMode(){u(this,Mn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,E(this,N,Mv).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),E(this,N,Iv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,Mn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),w(this,Mn,!0),this.div.classList.add("disabled"),E(this,N,Bu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||u(this,Mn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),E(this,N,Sb).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),E(this,N,Lv).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),E(this,N,Fv).call(this,t)}canvasPointerleave(t){E(this,N,Fv).call(this,t)}get isResizable(){return!this.isEmpty()&&u(this,Mn)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,o,a]=E(this,N,Eb).call(this);if(this.setAt(r,s,0,0),this.setDims(o,a),E(this,N,df).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,i*c,this.width*l,this.height*c),w(this,Vo,!0),E(this,N,ka).call(this),this.setDims(this.width*l,this.height*c),E(this,N,Gs).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return E(this,N,ff).call(this),this.div}setDimensions(t,i){const r=Math.round(t),s=Math.round(i);if(u(this,Go)===r&&u(this,Xo)===s)return;w(this,Go,r),w(this,Xo,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=i/a,this.fixAndSetPosition(),u(this,Mn)&&E(this,N,Dv).call(this,t,i),E(this,N,ka).call(this),E(this,N,Gs).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,i,r){var _,g,y;if(t instanceof E0)return null;const s=await super.deserialize(t,i,r);s.thickness=t.thickness,s.color=B.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,h=s.parentScale,d=t.thickness/2;w(s,Mn,!0),w(s,Go,Math.round(l)),w(s,Xo,Math.round(c));const{paths:f,rect:p,rotation:m}=t;for(let{bezier:A}of f){A=E(_=Me,Ir,Rb).call(_,A,p,m);const x=[];s.paths.push(x);let C=h*(A[0]-d),k=h*(A[1]-d);for(let R=2,L=A.length;R<L;R+=6){const I=h*(A[R]-d),D=h*(A[R+1]-d),Q=h*(A[R+2]-d),G=h*(A[R+3]-d),V=h*(A[R+4]-d),J=h*(A[R+5]-d);x.push([[C,k],[I,D],[Q,G],[V,J]]),C=V,k=J}const T=E(this,Ir,Tb).call(this,x);s.bezierPath2D.push(T)}const v=E(g=s,N,Ov).call(g);return w(s,Bo,Math.max(ye.MIN_SIZE,v[2]-v[0])),w(s,zo,Math.max(ye.MIN_SIZE,v[3]-v[1])),E(y=s,N,Dv).call(y,l,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=ye._colorManager.convert(this.ctx.strokeStyle);return{annotationType:te.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:E(this,N,Pb).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};zo=new WeakMap,Bo=new WeakMap,Li=new WeakMap,cr=new WeakMap,Mn=new WeakMap,Uo=new WeakMap,Wo=new WeakMap,Vo=new WeakMap,hr=new WeakMap,Wl=new WeakMap,Go=new WeakMap,Xo=new WeakMap,ps=new WeakMap,N=new WeakSet,yb=function(t){const i=s=>{this.thickness=s,E(this,N,Bu).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},wb=function(t){const i=s=>{this.color=s,E(this,N,Gs).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ab=function(t){const i=s=>{this.opacity=s,E(this,N,Gs).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:K.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Eb=function(){const{parentRotation:t,parentDimensions:[i,r]}=this;switch(t){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},Pv=function(){const{ctx:t,color:i,opacity:r,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${$L(r)}`},Sb=function(t,i){this.canvas.addEventListener("contextmenu",Bn,{signal:this._uiManager._signal}),E(this,N,Iv).call(this),w(this,Uo,new AbortController);const r=this._uiManager.combinedSignal(u(this,Uo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,u(this,Vo)||(w(this,Vo,!0),E(this,N,ka).call(this),this.thickness||(this.thickness=Me._defaultThickness),this.color||(this.color=Me._defaultColor||ye._defaultLineColor),this.opacity??(this.opacity=Me._defaultOpacity)),this.currentPath.push([t,i]),w(this,Wo,!1),E(this,N,Pv).call(this),w(this,ps,()=>{E(this,N,xb).call(this),u(this,ps)&&window.requestAnimationFrame(u(this,ps))}),window.requestAnimationFrame(u(this,ps))},Lv=function(t,i){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&i===s)return;const o=this.currentPath;let a=u(this,cr);if(o.push([t,i]),w(this,Wo,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,i);return}o.length===3&&(w(this,cr,a=new Path2D),a.moveTo(...o[0])),E(this,N,Cb).call(this,a,...o.at(-3),...o.at(-2),t,i)},_b=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);u(this,cr).lineTo(...t)},bb=function(t,i){w(this,ps,null),t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),E(this,N,Lv).call(this,t,i),E(this,N,_b).call(this);let r;if(this.currentPath.length!==1)r=E(this,N,kb).call(this);else{const c=[t,i];r=[[c,c.slice(),c.slice(),c]]}const s=u(this,cr),o=this.currentPath;this.currentPath=[],w(this,cr,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(E(this,N,df).call(this),E(this,N,ff).call(this)),E(this,N,Bu).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},xb=function(){if(!u(this,Wo))return;w(this,Wo,!1);const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(a=>a[0]),s=i.map(a=>a[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(u(this,cr)),o.restore()},Cb=function(t,i,r,s,o,a,l){const c=(i+s)/2,h=(r+o)/2,d=(s+a)/2,f=(o+l)/2;t.bezierCurveTo(c+2*(s-c)/3,h+2*(o-h)/3,d+2*(s-d)/3,f+2*(o-f)/3,d,f)},kb=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let r,[s,o]=t[0];for(r=1;r<t.length-2;r++){const[p,m]=t[r],[v,_]=t[r+1],g=(p+v)/2,y=(m+_)/2,A=[s+2*(p-s)/3,o+2*(m-o)/3],x=[g+2*(p-g)/3,y+2*(m-y)/3];i.push([[s,o],A,x,[g,y]]),[s,o]=[g,y]}const[a,l]=t[r],[c,h]=t[r+1],d=[s+2*(a-s)/3,o+2*(l-o)/3],f=[c+2*(a-c)/3,h+2*(l-h)/3];return i.push([[s,o],d,f,[c,h]]),i},Gs=function(){if(this.isEmpty()){E(this,N,pf).call(this);return}E(this,N,Pv).call(this);const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),E(this,N,pf).call(this);for(const r of this.bezierPath2D)i.stroke(r)},Mv=function(){if(u(this,Wl))return;w(this,Wl,new AbortController);const t=this._uiManager.combinedSignal(u(this,Wl));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},Iv=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},Fv=function(t){var i;(i=u(this,Uo))==null||i.abort(),w(this,Uo,null),E(this,N,Mv).call(this),u(this,Li)&&clearTimeout(u(this,Li)),w(this,Li,setTimeout(()=>{w(this,Li,null),this.canvas.removeEventListener("contextmenu",Bn)},10)),E(this,N,bb).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},df=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ff=function(){w(this,hr,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),u(this,hr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=u(this,hr))==null||t.disconnect(),w(this,hr,null)},{once:!0})},ka=function(){if(!u(this,Vo))return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),E(this,N,pf).call(this)},Dv=function(t,i){const r=E(this,N,gf).call(this),s=(t-r)/u(this,Bo),o=(i-r)/u(this,zo);this.scaleFactor=Math.min(s,o)},pf=function(){const t=E(this,N,gf).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Ir=new WeakSet,Tb=function(t){const i=new Path2D;for(let r=0,s=t.length;r<s;r++){const[o,a,l,c]=t[r];r===0&&i.moveTo(...o),i.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return i},Nv=function(t,i,r){const[s,o,a,l]=i;switch(r){case 0:for(let c=0,h=t.length;c<h;c+=2)t[c]+=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=t[c+1]+s,t[c+1]=d+o}break;case 180:for(let c=0,h=t.length;c<h;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=a-t[c+1],t[c+1]=l-d}break;default:throw new Error("Invalid rotation")}return t},Rb=function(t,i,r){const[s,o,a,l]=i;switch(r){case 0:for(let c=0,h=t.length;c<h;c+=2)t[c]-=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=t[c+1]-o,t[c+1]=d-s}break;case 180:for(let c=0,h=t.length;c<h;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=l-t[c+1],t[c+1]=a-d}break;default:throw new Error("Invalid rotation")}return t},Pb=function(t,i,r,s){var h,d;const o=[],a=this.thickness/2,l=t*i+a,c=t*r+a;for(const f of this.paths){const p=[],m=[];for(let v=0,_=f.length;v<_;v++){const[g,y,A,x]=f[v];if(g[0]===x[0]&&g[1]===x[1]&&_===1){const G=t*g[0]+l,V=t*g[1]+c;p.push(G,V),m.push(G,V);break}const C=t*g[0]+l,k=t*g[1]+c,T=t*y[0]+l,R=t*y[1]+c,L=t*A[0]+l,I=t*A[1]+c,D=t*x[0]+l,Q=t*x[1]+c;v===0&&(p.push(C,k),m.push(C,k)),p.push(T,R,L,I,D,Q),m.push(T,R),v===_-1&&m.push(D,Q)}o.push({bezier:E(h=Me,Ir,Nv).call(h,p,s,this.rotation),points:E(d=Me,Ir,Nv).call(d,m,s,this.rotation)})}return o},Ov=function(){let t=1/0,i=-1/0,r=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,h]of o){const d=B.bezierBoundingBox(...a,...l,...c,...h);t=Math.min(t,d[0]),r=Math.min(r,d[1]),i=Math.max(i,d[2]),s=Math.max(s,d[3])}return[t,r,i,s]},gf=function(){return u(this,Mn)?Math.ceil(this.thickness*this.parentScale):0},Bu=function(t=!1){if(this.isEmpty())return;if(!u(this,Mn)){E(this,N,Gs).call(this);return}const i=E(this,N,Ov).call(this),r=E(this,N,gf).call(this);w(this,Bo,Math.max(ye.MIN_SIZE,i[2]-i[0])),w(this,zo,Math.max(ye.MIN_SIZE,i[3]-i[1]));const s=Math.ceil(r+u(this,Bo)*this.scaleFactor),o=Math.ceil(r+u(this,zo)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,h=this.translationY;this.translationX=-i[0],this.translationY=-i[1],E(this,N,ka).call(this),E(this,N,Gs).call(this),w(this,Go,s),w(this,Xo,o),this.setDims(s,o);const d=t?r/this.scaleFactor/2:0;this.translate(c-this.translationX-d,h-this.translationY-d)},S(Me,Ir),Y(Me,"_defaultColor",null),Y(Me,"_defaultOpacity",1),Y(Me,"_defaultThickness",1),Y(Me,"_type","ink"),Y(Me,"_editorType",te.INK);let Rv=Me;var Fe,yt,gs,dr,ms,Vl,Mi,fr,Ii,mn,Gl,ae,Uu,Wu,mf,Hv,Lb,vf,jv,yf,Mb,Ib;const ic=class ic extends ye{constructor(t){super({...t,name:"stampEditor"});S(this,ae);S(this,Fe,null);S(this,yt,null);S(this,gs,null);S(this,dr,null);S(this,ms,null);S(this,Vl,"");S(this,Mi,null);S(this,fr,null);S(this,Ii,null);S(this,mn,!1);S(this,Gl,!1);w(this,dr,t.bitmapUrl),w(this,ms,t.bitmapFile)}static initialize(t,i){ye.initialize(t,i)}static get supportedTypes(){return ue(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return ue(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(te.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),i&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t,i;u(this,yt)&&(w(this,Fe,null),this._uiManager.imageManager.deleteId(u(this,yt)),(t=u(this,Mi))==null||t.remove(),w(this,Mi,null),(i=u(this,fr))==null||i.disconnect(),w(this,fr,null),u(this,Ii)&&(clearTimeout(u(this,Ii)),w(this,Ii,null))),super.remove()}rebuild(){if(!this.parent){u(this,yt)&&E(this,ae,mf).call(this);return}super.rebuild(),this.div!==null&&(u(this,yt)&&u(this,Mi)===null&&E(this,ae,mf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,gs)||u(this,Fe)||u(this,dr)||u(this,ms)||u(this,yt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,Fe)?E(this,ae,Hv).call(this):E(this,ae,mf).call(this),this.width&&!this.annotationElementId){const[r,s]=this.parentDimensions;this.setAt(t*r,i*s,this.width*r,this.height*s)}return this.div}copyCanvas(t,i,r=!1){var p;t||(t=224);const{width:s,height:o}=u(this,Fe),a=new Fm;let l=u(this,Fe),c=s,h=o,d=null;if(i){if(s>i||o>i){const R=Math.min(i/s,i/o);c=Math.floor(s*R),h=Math.floor(o*R)}d=document.createElement("canvas");const m=d.width=Math.ceil(c*a.sx),v=d.height=Math.ceil(h*a.sy);u(this,mn)||(l=E(this,ae,vf).call(this,m,v));const _=d.getContext("2d");_.filter=this._uiManager.hcmFilter;let g="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",y="#42414d");const A=15,x=A*a.sx,C=A*a.sy,k=new OffscreenCanvas(x*2,C*2),T=k.getContext("2d");T.fillStyle=g,T.fillRect(0,0,x*2,C*2),T.fillStyle=y,T.fillRect(0,0,x,C),T.fillRect(x,C,x,C),_.fillStyle=_.createPattern(k,"repeat"),_.fillRect(0,0,m,v),_.drawImage(l,0,0,l.width,l.height,0,0,m,v)}let f=null;if(r){let m,v;if(a.symmetric&&l.width<t&&l.height<t)m=l.width,v=l.height;else if(l=u(this,Fe),s>t||o>t){const y=Math.min(t/s,t/o);m=Math.floor(s*y),v=Math.floor(o*y),u(this,mn)||(l=E(this,ae,vf).call(this,m,v))}const g=new OffscreenCanvas(m,v).getContext("2d",{willReadFrequently:!0});g.drawImage(l,0,0,l.width,l.height,0,0,m,v),f={width:m,height:v,data:g.getImageData(0,0,m,v).data}}return{canvas:d,width:c,height:h,imageData:f}}getImageForAltText(){return u(this,Mi)}static async deserialize(t,i,r){var v;let s=null;if(t instanceof U1){const{data:{rect:_,rotation:g,id:y,structParent:A,popupRef:x},container:C,parent:{page:{pageNumber:k}}}=t,T=C.querySelector("canvas"),R=r.imageManager.getFromCanvas(C.id,T);T.remove();const L=((v=await i._structTree.getAriaAttributes(`${c0}${y}`))==null?void 0:v.get("aria-label"))||"";s=t={annotationType:te.STAMP,bitmapId:R.id,bitmap:R.bitmap,pageIndex:k-1,rect:_.slice(0),rotation:g,id:y,deleted:!1,accessibilityData:{decorative:!1,altText:L},isSvg:!1,structParent:A,popupRef:x}}const o=await super.deserialize(t,i,r),{rect:a,bitmap:l,bitmapUrl:c,bitmapId:h,isSvg:d,accessibilityData:f}=t;h&&r.imageManager.isValidId(h)?(w(o,yt,h),l&&w(o,Fe,l)):w(o,dr,c),w(o,mn,d);const[p,m]=o.pageDimensions;return o.width=(a[2]-a[0])/p,o.height=(a[3]-a[1])/m,o.annotationElementId=t.id||null,f&&(o.altTextData=f),o._initialData=s,w(o,Gl,!!s),o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:te.STAMP,bitmapId:u(this,yt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,mn),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=E(this,ae,yf).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=E(this,ae,Ib).call(this,r);if(l.isSame)return null;l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,i===null)return r;i.stamps||(i.stamps=new Map);const a=u(this,mn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(u(this,yt)))i.stamps.set(u(this,yt),{area:a,serialized:r}),r.bitmap=E(this,ae,yf).call(this,!1);else if(u(this,mn)){const l=i.stamps.get(u(this,yt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=E(this,ae,yf).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Fe=new WeakMap,yt=new WeakMap,gs=new WeakMap,dr=new WeakMap,ms=new WeakMap,Vl=new WeakMap,Mi=new WeakMap,fr=new WeakMap,Ii=new WeakMap,mn=new WeakMap,Gl=new WeakMap,ae=new WeakSet,Uu=function(t,i=!1){if(!t){this.remove();return}w(this,Fe,t.bitmap),i||(w(this,yt,t.id),w(this,mn,t.isSvg)),t.file&&w(this,Vl,t.file.name),E(this,ae,Hv).call(this)},Wu=function(){if(w(this,gs,null),this._uiManager.enableWaiting(!1),!!u(this,Mi)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Fe)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Fe)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},mf=function(){if(u(this,yt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,yt)).then(r=>E(this,ae,Uu).call(this,r,!0)).finally(()=>E(this,ae,Wu).call(this));return}if(u(this,dr)){const r=u(this,dr);w(this,dr,null),this._uiManager.enableWaiting(!0),w(this,gs,this._uiManager.imageManager.getFromUrl(r).then(s=>E(this,ae,Uu).call(this,s)).finally(()=>E(this,ae,Wu).call(this)));return}if(u(this,ms)){const r=u(this,ms);w(this,ms,null),this._uiManager.enableWaiting(!0),w(this,gs,this._uiManager.imageManager.getFromFile(r).then(s=>E(this,ae,Uu).call(this,s)).finally(()=>E(this,ae,Wu).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=ic.supportedTypesStr;const i=this._uiManager._signal;w(this,gs,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),E(this,ae,Uu).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>E(this,ae,Wu).call(this))),t.click()},Hv=function(){const{div:t}=this;let{width:i,height:r}=u(this,Fe);const[s,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>a*s||r>a*o){const d=Math.min(a*s/i,a*o/r);i*=d,r*=d}const[l,c]=this.parentDimensions;this.setDims(i*l/s,r*c/o),this._uiManager.enableWaiting(!1);const h=w(this,Mi,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),E(this,ae,jv).call(this,i,r),E(this,ae,Mb).call(this),u(this,Gl)||(this.parent.addUndoableEditor(this),w(this,Gl,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,Vl)&&h.setAttribute("aria-label",u(this,Vl))},Lb=function(t,i){var a;const[r,s]=this.parentDimensions;this.width=t/r,this.height=i/s,(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,Ii)!==null&&clearTimeout(u(this,Ii)),w(this,Ii,setTimeout(()=>{w(this,Ii,null),E(this,ae,jv).call(this,t,i)},200))},vf=function(t,i){const{width:r,height:s}=u(this,Fe);let o=r,a=s,l=u(this,Fe);for(;o>2*t||a>2*i;){const c=o,h=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,c,h,0,0,o,a),l=d.transferToImageBitmap()}return l},jv=function(t,i){const r=new Fm,s=Math.ceil(t*r.sx),o=Math.ceil(i*r.sy),a=u(this,Mi);if(!a||a.width===s&&a.height===o)return;a.width=s,a.height=o;const l=u(this,mn)?u(this,Fe):E(this,ae,vf).call(this,s,o),c=a.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,s,o)},yf=function(t){if(t){if(u(this,mn)){const s=this._uiManager.imageManager.getSvgUrl(u(this,yt));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=u(this,Fe),i.getContext("2d").drawImage(u(this,Fe),0,0),i.toDataURL()}if(u(this,mn)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Ms.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Ms.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(u(this,Fe),0,0,u(this,Fe).width,u(this,Fe).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(u(this,Fe))},Mb=function(){this._uiManager._signal&&(w(this,fr,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&E(this,ae,Lb).call(this,i.width,i.height)})),u(this,fr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=u(this,fr))==null||t.disconnect(),w(this,fr,null)},{once:!0}))},Ib=function(t){var c;const{rect:i,pageIndex:r,accessibilityData:{altText:s}}=this._initialData,o=t.rect.every((h,d)=>Math.abs(h-i[d])<1),a=t.pageIndex===r,l=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:o&&a&&l,isSameAltText:l}},Y(ic,"_type","stamp"),Y(ic,"_editorType",te.STAMP);let $v=ic;var Yo,Xl,Fi,vs,pr,vn,ys,Yl,Kl,Mt,gr,W,ws,St,Fb,Bv,Uv,Wv,wf;const Vn=class Vn{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:h}){S(this,St);S(this,Yo);S(this,Xl,!1);S(this,Fi,null);S(this,vs,null);S(this,pr,null);S(this,vn,new Map);S(this,ys,!1);S(this,Yl,!1);S(this,Kl,!1);S(this,Mt,null);S(this,gr,null);S(this,W);const d=[...u(Vn,ws).values()];if(!Vn._initialized){Vn._initialized=!0;for(const f of d)f.initialize(h,e)}e.registerEditorTypes(d),w(this,W,e),this.pageIndex=t,this.div=i,w(this,Yo,s),w(this,Fi,o),this.viewport=c,w(this,Mt,l),this.drawLayer=a,this._structTree=r,u(this,W).addLayer(this)}get isEmpty(){return u(this,vn).size===0}get isInvisible(){return this.isEmpty&&u(this,W).getMode()===te.NONE}updateToolbar(e){u(this,W).updateToolbar(e)}updateMode(e=u(this,W).getMode()){switch(E(this,St,wf).call(this),e){case te.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case te.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case te.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of u(Vn,ws).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,Mt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(u(this,W).getMode()!==te.INK)return;if(!e){for(const i of u(this,vn).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){u(this,W).setEditingState(e)}addCommands(e){u(this,W).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,Fi))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of u(this,vn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(u(this,W).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!u(this,Fi))return;const t=u(this,Fi).getEditableAnnotations();for(const i of t){if(i.hide(),u(this,W).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;w(this,Kl,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of u(this,vn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(u(this,Fi)){const s=u(this,Fi).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(u(this,W).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(u(this,W).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}E(this,St,wf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of u(Vn,ws).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,Kl,!1)}getEditableAnnotation(e){var t;return((t=u(this,Fi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,W).getActive()!==e&&u(this,W).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,Mt))!=null&&e.div&&!u(this,gr)){w(this,gr,new AbortController);const t=u(this,W).combinedSignal(u(this,gr));u(this,Mt).div.addEventListener("pointerdown",E(this,St,Fb).bind(this),{signal:t}),u(this,Mt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,Mt))!=null&&e.div&&u(this,gr)&&(u(this,gr).abort(),w(this,gr,null),u(this,Mt).div.classList.remove("highlighting"))}enableClick(){if(u(this,vs))return;w(this,vs,new AbortController);const e=u(this,W).combinedSignal(u(this,vs));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=u(this,vs))==null||e.abort(),w(this,vs,null)}attach(e){u(this,vn).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,W).isDeletedAnnotationElement(t)&&u(this,W).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,vn).delete(e.id),(t=u(this,Yo))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,Kl)&&e.annotationElementId&&u(this,W).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,W).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,u(this,Yl)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,W).addDeletedAnnotationElement(e.annotationElementId),ye.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,W).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),u(this,W).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,pr)&&(e._focusEventsAllowed=!1,w(this,pr,setTimeout(()=>{w(this,pr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,W)._signal}),t.focus())},0))),e._structTreeParentId=(i=u(this,Yo))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return u(this,W).getId()}combinedSignal(e){return u(this,W).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,St,Bv))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){u(this,W).updateToolbar(e),u(this,W).updateMode(e);const{offsetX:i,offsetY:r}=E(this,St,Wv).call(this),s=this.getNextId(),o=E(this,St,Uv).call(this,{parent:this,id:s,x:i,y:r,uiManager:u(this,W),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=u(Vn,ws).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,W)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=E(this,St,Uv).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:u(this,W),isCentered:t,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(E(this,St,Wv).call(this),!0)}setSelected(e){u(this,W).setSelected(e)}toggleSelected(e){u(this,W).toggleSelected(e)}unselect(e){u(this,W).unselect(e)}pointerup(e){const{isMac:t}=Vt.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&u(this,ys)){if(w(this,ys,!1),!u(this,Xl)){w(this,Xl,!0);return}if(u(this,W).getMode()===te.STAMP){u(this,W).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(u(this,W).getMode()===te.HIGHLIGHT&&this.enableTextSelection(),u(this,ys)){w(this,ys,!1);return}const{isMac:t}=Vt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;w(this,ys,!0);const i=u(this,W).getActive();w(this,Xl,!i||i.isEmpty())}findNewParent(e,t,i){const r=u(this,W).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=u(this,W).getActive())==null?void 0:e.parent)===this&&(u(this,W).commitOrRemove(),u(this,W).setActiveEditor(null)),u(this,pr)&&(clearTimeout(u(this,pr)),w(this,pr,null));for(const i of u(this,vn).values())(t=u(this,Yo))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,u(this,vn).clear(),u(this,W).removeLayer(this)}render({viewport:e}){this.viewport=e,ia(this.div,e);for(const t of u(this,W).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,W).commitOrRemove(),E(this,St,wf).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,ia(this.div,{rotation:i}),t!==i)for(const r of u(this,vn).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,W).viewParameters.realScale}};Yo=new WeakMap,Xl=new WeakMap,Fi=new WeakMap,vs=new WeakMap,pr=new WeakMap,vn=new WeakMap,ys=new WeakMap,Yl=new WeakMap,Kl=new WeakMap,Mt=new WeakMap,gr=new WeakMap,W=new WeakMap,ws=new WeakMap,St=new WeakSet,Fb=function(e){u(this,W).unselectAll();const{target:t}=e;if(t===u(this,Mt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,Mt).div.contains(t)){const{isMac:i}=Vt.platform;if(e.button!==0||e.ctrlKey&&i)return;u(this,W).showAllEditors("highlight",!0,!0),u(this,Mt).div.classList.add("free"),this.toggleDrawing(),qf.startHighlighting(this,u(this,W).direction==="ltr",{target:u(this,Mt).div,x:e.x,y:e.y}),u(this,Mt).div.addEventListener("pointerup",()=>{u(this,Mt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,W)._signal}),e.preventDefault()}},Bv=function(){return u(Vn,ws).get(u(this,W).getMode())},Uv=function(e){const t=u(this,St,Bv);return t?new t.prototype.constructor(e):null},Wv=function(){const{x:e,y:t,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),c=(s+a)/2-e,h=(o+l)/2-t,[d,f]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:f}},wf=function(){w(this,Yl,!0);for(const e of u(this,vn).values())e.isEmpty()&&e.remove();w(this,Yl,!1)},Y(Vn,"_initialized",!1),S(Vn,ws,new Map([Av,Rv,$v,qf].map(e=>[e._editorType,e])));let zv=Vn;var Di,Nh,Ke,mr,Oh,Gv,la,Xv,Db;const gt=class gt{constructor({pageIndex:e}){S(this,la);S(this,Di,null);S(this,Nh,0);S(this,Ke,new Map);S(this,mr,new Map);this.pageIndex=e}setParent(e){if(!u(this,Di)){w(this,Di,e);return}if(u(this,Di)!==e){if(u(this,Ke).size>0)for(const t of u(this,Ke).values())t.remove(),e.append(t);w(this,Di,e)}}static get _svgFactory(){return ue(this,"_svgFactory",new A0)}draw(e,t,i,r=!1){const s=$t(this,Nh)._++,o=E(this,la,Xv).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const a=gt._svgFactory.createElement("defs");o.append(a);const l=gt._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),r&&u(this,mr).set(s,l);const h=E(this,la,Db).call(this,a,c),d=gt._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",i),d.setAttribute("href",`#${c}`),u(this,Ke).set(s,o),{id:s,clipPathId:`url(#${h})`}}drawOutline(e){const t=$t(this,Nh)._++,i=E(this,la,Xv).call(this,e.box);i.classList.add(...e.classNamesForOutlining);const r=gt._svgFactory.createElement("defs");i.append(r);const s=gt._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.mustRemoveSelfIntersections){const h=gt._svgFactory.createElement("mask");r.append(h),a=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",a),h.setAttribute("maskUnits","objectBoundingBox");const d=gt._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=gt._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=gt._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),u(this,Ke).set(t,i),t}finalizeLine(e,t){const i=u(this,mr).get(e);u(this,mr).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){u(this,Ke).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){u(this,mr).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var i;E(i=gt,Oh,Gv).call(i,u(this,Ke).get(e),t)}show(e,t){u(this,Ke).get(e).classList.toggle("hidden",!t)}rotate(e,t){u(this,Ke).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){u(this,Ke).get(e).setAttribute("fill",t)}changeOpacity(e,t){u(this,Ke).get(e).setAttribute("fill-opacity",t)}addClass(e,t){u(this,Ke).get(e).classList.add(t)}removeClass(e,t){u(this,Ke).get(e).classList.remove(t)}getSVGRoot(e){return u(this,Ke).get(e)}remove(e){u(this,mr).delete(e),u(this,Di)!==null&&(u(this,Ke).get(e).remove(),u(this,Ke).delete(e))}destroy(){w(this,Di,null);for(const e of u(this,Ke).values())e.remove();u(this,Ke).clear(),u(this,mr).clear()}};Di=new WeakMap,Nh=new WeakMap,Ke=new WeakMap,mr=new WeakMap,Oh=new WeakSet,Gv=function(e,{x:t=0,y:i=0,width:r=1,height:s=1}={}){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},la=new WeakSet,Xv=function(e){var i;const t=gt._svgFactory.create(1,1,!0);return u(this,Di).append(t),t.setAttribute("aria-hidden",!0),E(i=gt,Oh,Gv).call(i,t,e),t},Db=function(e,t){const i=gt._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=gt._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},S(gt,Oh);let Vv=gt;var vI=q.AbortException,yI=q.AnnotationEditorLayer,wI=q.AnnotationEditorParamsType,AI=q.AnnotationEditorType,EI=q.AnnotationEditorUIManager,Nb=q.AnnotationLayer,Ob=q.AnnotationMode,SI=q.ColorPicker,_I=q.DOMSVGFactory,bI=q.DrawLayer,xI=q.FeatureTest,Wp=q.GlobalWorkerOptions,CI=q.ImageKind,kI=q.InvalidPDFException,TI=q.MissingPDFException,RI=q.OPS,PI=q.OutputScale,LI=q.PDFDataRangeTransport,MI=q.PDFDateString,II=q.PDFWorker,FI=q.PasswordResponses,DI=q.PermissionFlag,NI=q.PixelsPerInch,OI=q.RenderingCancelledException,$b=q.TextLayer,$I=q.UnexpectedResponseException,HI=q.Util,jI=q.VerbosityLevel,zI=q.XfaLayer,BI=q.build,UI=q.createValidAbsoluteUrl,WI=q.fetchData,Hb=q.getDocument,VI=q.getFilenameFromUrl,GI=q.getPdfFilenameFromUrl,XI=q.getXfaPageViewport,YI=q.isDataScheme,KI=q.isPdfFile,qI=q.noContextMenu,QI=q.normalizeUnicode,JI=q.setLayerDimensions,ZI=q.shadow,eF=q.version;const tF=Object.freeze(Object.defineProperty({__proto__:null,AbortException:vI,AnnotationEditorLayer:yI,AnnotationEditorParamsType:wI,AnnotationEditorType:AI,AnnotationEditorUIManager:EI,AnnotationLayer:Nb,AnnotationMode:Ob,ColorPicker:SI,DOMSVGFactory:_I,DrawLayer:bI,FeatureTest:xI,GlobalWorkerOptions:Wp,ImageKind:CI,InvalidPDFException:kI,MissingPDFException:TI,OPS:RI,OutputScale:PI,PDFDataRangeTransport:LI,PDFDateString:MI,PDFWorker:II,PasswordResponses:FI,PermissionFlag:DI,PixelsPerInch:NI,RenderingCancelledException:OI,TextLayer:$b,UnexpectedResponseException:$I,Util:HI,VerbosityLevel:jI,XfaLayer:zI,build:BI,createValidAbsoluteUrl:UI,fetchData:WI,getDocument:Hb,getFilenameFromUrl:VI,getPdfFilenameFromUrl:GI,getXfaPageViewport:XI,isDataScheme:YI,isPdfFile:KI,noContextMenu:qI,normalizeUnicode:QI,setLayerDimensions:JI,shadow:ZI,version:eF},Symbol.toStringTag,{value:"Module"}));var at=function(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))},nF=["onCopy","onCut","onPaste"],iF=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],rF=["onFocus","onBlur"],sF=["onInput","onInvalid","onReset","onSubmit"],oF=["onLoad","onError"],aF=["onKeyDown","onKeyPress","onKeyUp"],lF=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],uF=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],cF=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],hF=["onSelect"],dF=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],fF=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],pF=["onScroll"],gF=["onWheel"],mF=["onAnimationStart","onAnimationEnd","onAnimationIteration"],vF=["onTransitionEnd"],yF=["onToggle"],wF=["onChange"],AF=at(at(at(at(at(at(at(at(at(at(at(at(at(at(at(at(at(at([],nF,!0),iF,!0),rF,!0),sF,!0),oF,!0),aF,!0),lF,!0),uF,!0),cF,!0),hF,!0),dF,!0),fF,!0),pF,!0),gF,!0),mF,!0),vF,!0),wF,!0),yF,!0);function jb(n,e){var t={};return AF.forEach(function(i){var r=n[i];r&&(e?t[i]=function(s){return r(s,e(i))}:t[i]=r)}),t}function qh(n){var e=!1,t=new Promise(function(i,r){n.then(function(s){return!e&&i(s)}).catch(function(s){return!e&&r(s)})});return{promise:t,cancel:function(){e=!0}}}function zb(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=zb(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Vp(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=zb(n))&&(i&&(i+=" "),i+=e);return i}var EF="Invariant failed";function Se(n,e){if(!n)throw new Error(EF)}var SF=function(){},_F=SF;const Ft=pp(_F);var EA=Object.prototype.hasOwnProperty;function SA(n,e,t){for(t of n.keys())if(qa(t,e))return t}function qa(n,e){var t,i,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&qa(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(r=i,r&&typeof r=="object"&&(r=SA(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(r=i[0],r&&typeof r=="object"&&(r=SA(e,r),!r)||!qa(i[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(EA.call(n,t)&&++i&&!EA.call(e,t)||!(t in e)||!qa(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}const Bb=b.createContext(null);function Qa({children:n,type:e}){return P.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const bF="noopener noreferrer nofollow";class xF{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Se(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Se(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Se(this.pdfDocument),Se(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Se(Array.isArray(t));const i=t[0];new Promise(r=>{Se(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(s=>{r(s)}).catch(()=>{Se(!1)}):typeof i=="number"?r(i):Se(!1)}).then(r=>{const s=r+1;Se(this.pdfViewer),Se(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Se(this.pdfViewer),Se(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||bF,e.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const _A={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Gp=typeof window<"u",Ub=Gp&&window.location.protocol==="file:";function CF(n){return typeof n<"u"}function js(n){return CF(n)&&n!==null}function kF(n){return typeof n=="string"}function TF(n){return n instanceof ArrayBuffer}function RF(n){return Se(Gp),n instanceof Blob}function Yv(n){return kF(n)&&/^data:/.test(n)}function bA(n){Se(Yv(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function PF(){return Gp&&window.devicePixelRatio||1}const Wb="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function xA(){Ft(!Ub,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Wb}`)}function LF(){Ft(!Ub,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Wb}`)}function oa(n){n!=null&&n.cancel&&n.cancel()}function Kv(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function MF(n){return n.name==="RenderingCancelledException"}function IF(n){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function FF(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function iu(){return b.useReducer(FF,{value:void 0,error:void 0})}var DF=function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(d){o(d)}}function l(h){try{c(i.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):r(h.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},CA=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const{PDFDataRangeTransport:NF}=tF,OF=(n,e)=>{switch(e){case _A.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case _A.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function kA(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const Vb=b.forwardRef(function(e,t){var{children:i,className:r,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:h,loading:d="Loading PDF…",noData:f="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:v,onLoadSuccess:_,onPassword:g=OF,onSourceError:y,onSourceSuccess:A,options:x,renderMode:C,rotate:k}=e,T=CA(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[R,L]=iu(),{value:I,error:D}=R,[Q,G]=iu(),{value:V,error:J}=Q,X=b.useRef(new xF),H=b.useRef([]),M=b.useRef(void 0),z=b.useRef(void 0);l&&l!==M.current&&kA(l)&&(Ft(!qa(l,M.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),M.current=l),x&&x!==z.current&&(Ft(!qa(x,z.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),z.current=x);const U=b.useRef({scrollPageIntoView:_e=>{const{dest:Xe,pageNumber:bt,pageIndex:ot=bt-1}=_e;if(p){p({dest:Xe,pageIndex:ot,pageNumber:bt});return}const va=H.current[ot];if(va){va.scrollIntoView();return}Ft(!1,`An internal link leading to page ${bt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});b.useImperativeHandle(t,()=>({linkService:X,pages:H,viewer:U}),[]);function re(){A&&A()}function ee(){D&&(Ft(!1,D.toString()),y&&y(D))}function fe(){L({type:"RESET"})}b.useEffect(fe,[l,L]);const je=b.useCallback(()=>DF(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return Yv(l)?{data:bA(l)}:(xA(),{url:l});if(l instanceof NF)return{range:l};if(TF(l))return{data:l};if(Gp&&RF(l))return{data:yield IF(l)};if(Se(typeof l=="object"),Se(kA(l)),"url"in l&&typeof l.url=="string"){if(Yv(l.url)){const{url:_e}=l,Xe=CA(l,["url"]),bt=bA(_e);return Object.assign({data:bt},Xe)}xA()}return l}),[l]);b.useEffect(()=>{const _e=qh(je());return _e.promise.then(Xe=>{L({type:"RESOLVE",value:Xe})}).catch(Xe=>{L({type:"REJECT",error:Xe})}),()=>{oa(_e)}},[je,L]),b.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){ee();return}re()}},[I]);function Ot(){V&&(_&&_(V),H.current=new Array(V.numPages),X.current.setDocument(V))}function ge(){J&&(Ft(!1,J.toString()),m&&m(J))}b.useEffect(function(){G({type:"RESET"})},[G,I]),b.useEffect(function(){if(!I)return;const Xe=x?Object.assign(Object.assign({},I),x):I,bt=Hb(Xe);v&&(bt.onProgress=v),g&&(bt.onPassword=g);const ot=bt,va=ot.promise.then(hu=>{G({type:"RESOLVE",value:hu})}).catch(hu=>{ot.destroyed||G({type:"REJECT",error:hu})});return()=>{va.finally(()=>ot.destroy())}},[x,G,I]),b.useEffect(()=>{if(!(typeof V>"u")){if(V===!1){ge();return}Ot()}},[V]),b.useEffect(function(){X.current.setViewer(U.current),X.current.setExternalLinkRel(o),X.current.setExternalLinkTarget(a)},[o,a]);const le=b.useCallback((_e,Xe)=>{H.current[_e]=Xe},[]),pi=b.useCallback(_e=>{delete H.current[_e]},[]),Un=b.useMemo(()=>({imageResourcesPath:h,linkService:X.current,onItemClick:p,pdf:V,registerPage:le,renderMode:C,rotate:k,unregisterPage:pi}),[h,p,V,le,C,k,pi]),Re=b.useMemo(()=>jb(T,()=>V),[T,V]);function uu(){return P.jsx(Bb.Provider,{value:Un,children:i})}function cu(){return l?V==null?P.jsx(Qa,{type:"loading",children:typeof d=="function"?d():d}):V===!1?P.jsx(Qa,{type:"error",children:typeof s=="function"?s():s}):uu():P.jsx(Qa,{type:"no-data",children:typeof f=="function"?f():f})}return P.jsx("div",Object.assign({className:Vp("react-pdf__Document",r),ref:c,style:{"--scale-factor":"1"}},Re,{children:cu()}))});function Gb(){return b.useContext(Bb)}function Xb(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var i=t[0];return i||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const Yb=b.createContext(null),Kb={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},$F=/^H(\d+)$/;function HF(n){return n in Kb}function Xp(n){return"children"in n}function qb(n){return Xp(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function jF(n){const e={};if(Xp(n)){const{role:t}=n,i=t.match($F);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(HF(t)){const r=Kb[t];r&&(e.role=r)}}return e}function Qb(n){const e={};if(Xp(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),qb(n)){const[t]=n.children;if(t){const i=Qb(t);return Object.assign(Object.assign({},e),i)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function zF(n){return n?Object.assign(Object.assign({},jF(n)),Qb(n)):null}function Jb({className:n,node:e}){const t=b.useMemo(()=>zF(e),[e]),i=b.useMemo(()=>!Xp(e)||qb(e)?null:e.children.map((r,s)=>P.jsx(Jb,{node:r},s)),[e]);return P.jsx("span",Object.assign({className:n},t,{children:i}))}function Yp(){return b.useContext(Yb)}function BF(){const n=Yp();Se(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[i,r]=iu(),{value:s,error:o}=i,{customTextRenderer:a,page:l}=n;function c(){s&&t&&t(s)}function h(){o&&(Ft(!1,o.toString()),e&&e(o))}return b.useEffect(function(){r({type:"RESET"})},[r,l]),b.useEffect(function(){if(a||!l)return;const f=qh(l.getStructTree()),p=f;return f.promise.then(m=>{r({type:"RESOLVE",value:m})}).catch(m=>{r({type:"REJECT",error:m})}),()=>oa(p)},[a,l,r]),b.useEffect(()=>{if(s!==void 0){if(s===!1){h();return}c()}},[s]),s?P.jsx(Jb,{className:"react-pdf__Page__structTree structTree",node:s}):null}const TA=Ob;function UF(n){const e=Yp();Se(e);const t=Object.assign(Object.assign({},e),n),{_className:i,canvasBackground:r,devicePixelRatio:s=PF(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:h,rotate:d,scale:f}=t,{canvasRef:p}=n;Se(l);const m=b.useRef(null);function v(){l&&a&&a(Kv(l,f))}function _(x){MF(x)||(Ft(!1,x.toString()),o&&o(x))}const g=b.useMemo(()=>l.getViewport({scale:f*s,rotation:d}),[s,l,d,f]),y=b.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);b.useEffect(function(){if(!l)return;l.cleanup();const{current:C}=m;if(!C)return;C.width=g.width,C.height=g.height,C.style.width=`${Math.floor(y.width)}px`,C.style.height=`${Math.floor(y.height)}px`,C.style.visibility="hidden";const k={annotationMode:c?TA.ENABLE_FORMS:TA.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:g};r&&(k.background=r);const T=l.render(k),R=T;return T.promise.then(()=>{C.style.visibility="",v()}).catch(_),()=>oa(R)},[r,l,c,g,y]);const A=b.useCallback(()=>{const{current:x}=m;x&&(x.width=0,x.height=0)},[]);return b.useEffect(()=>A,[A]),P.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:Xb(p,m),style:{display:"block",userSelect:"none"},children:h?P.jsx(BF,{}):null})}function WF(n){return"str"in n}function VF(){const n=Yp();Se(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:h}=n;Se(o);const[d,f]=iu(),{value:p,error:m}=d,v=b.useRef(null);Ft(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function _(){p&&i&&i(p)}function g(){m&&(Ft(!1,m.toString()),t&&t(m))}b.useEffect(function(){f({type:"RESET"})},[o,f]),b.useEffect(function(){if(!o)return;const R=qh(o.getTextContent()),L=R;return R.promise.then(I=>{f({type:"RESOLVE",value:I})}).catch(I=>{f({type:"REJECT",error:I})}),()=>oa(L)},[o,f]),b.useEffect(()=>{if(p!==void 0){if(p===!1){g();return}_()}},[p]);const y=b.useCallback(()=>{s&&s()},[s]),A=b.useCallback(T=>{Ft(!1,T.toString()),r&&r(T)},[r]);function x(){const T=v.current;T&&T.classList.add("selecting")}function C(){const T=v.current;T&&T.classList.remove("selecting")}const k=b.useMemo(()=>o.getViewport({scale:h,rotation:c}),[o,c,h]);return b.useLayoutEffect(function(){if(!o||!p)return;const{current:R}=v;if(!R)return;R.innerHTML="";const L=o.streamTextContent({includeMarkedContent:!0}),I={container:R,textContentSource:L,viewport:k},D=new $b(I),Q=D;return D.render().then(()=>{const G=document.createElement("div");G.className="endOfContent",R.append(G);const V=R.querySelectorAll('[role="presentation"]');if(e){let J=0;p.items.forEach((X,H)=>{if(!WF(X))return;const M=V[J];if(!M)return;const z=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:H},X));M.innerHTML=z,J+=X.str&&X.hasEOL?2:1})}y()}).catch(A),()=>oa(Q)},[e,A,y,o,a,l,p,k]),P.jsx("div",{className:Vp("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:x,ref:v})}function GF(){const n=Gb(),e=Yp();Se(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:h,renderForms:d,rotate:f,scale:p=1}=t;Se(h),Se(c),Se(r);const[m,v]=iu(),{value:_,error:g}=m,y=b.useRef(null);Ft(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){_&&o&&o(_)}function x(){g&&(Ft(!1,g.toString()),s&&s(g))}b.useEffect(function(){v({type:"RESET"})},[v,c]),b.useEffect(function(){if(!c)return;const L=qh(c.getAnnotations()),I=L;return L.promise.then(D=>{v({type:"RESOLVE",value:D})}).catch(D=>{v({type:"REJECT",error:D})}),()=>{oa(I)}},[v,c]),b.useEffect(()=>{if(_!==void 0){if(_===!1){x();return}A()}},[_]);function C(){l&&l()}function k(R){Ft(!1,`${R}`),a&&a(R)}const T=b.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return b.useEffect(function(){if(!h||!c||!r||!_)return;const{current:L}=y;if(!L)return;const I=T.clone({dontFlip:!0}),D={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:L,l10n:null,page:c,structTreeLayer:null,viewport:I},Q={annotations:_,annotationStorage:h.annotationStorage,div:L,imageResourcesPath:i,linkService:r,page:c,renderForms:d,viewport:I};L.innerHTML="";try{new Nb(D).render(Q),C()}catch(G){k(G)}return()=>{}},[_,i,r,c,h,d,T]),P.jsx("div",{className:Vp("react-pdf__Page__annotations","annotationLayer"),ref:y})}var XF=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const RA=1;function Zb(n){const e=Gb(),t=Object.assign(Object.assign({},e),n),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:m,loading:v="Loading page…",noData:_="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:y,onGetStructTreeError:A,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:k,onLoadError:T,onLoadSuccess:R,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:I,onRenderError:D,onRenderSuccess:Q,onRenderTextLayerError:G,onRenderTextLayerSuccess:V,pageIndex:J,pageNumber:X,pdf:H,registerPage:M,renderAnnotationLayer:z=!0,renderForms:U=!1,renderMode:re="canvas",renderTextLayer:ee=!0,rotate:fe,scale:je=RA,unregisterPage:Ot,width:ge}=t,le=XF(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[pi,Un]=iu(),{value:Re,error:uu}=pi,cu=b.useRef(null);Se(H);const _e=js(X)?X-1:J??null,Xe=X??(js(J)?J+1:null),bt=fe??(Re?Re.rotate:null),ot=b.useMemo(()=>{if(!Re)return null;let ya=1;const Jh=je??RA;if(ge||p){const Zh=Re.getViewport({scale:1,rotation:bt});ge?ya=ge/Zh.width:p&&(ya=p/Zh.height)}return Jh*ya},[p,Re,bt,je,ge]);b.useEffect(function(){return()=>{js(_e)&&r&&Ot&&Ot(_e)}},[r,H,_e,Ot]);function va(){if(R){if(!Re||!ot)return;R(Kv(Re,ot))}if(r&&M){if(!js(_e)||!cu.current)return;M(_e,cu.current)}}function hu(){uu&&(Ft(!1,uu.toString()),T&&T(uu))}b.useEffect(function(){Un({type:"RESET"})},[Un,H,_e]),b.useEffect(function(){if(!H||!Xe)return;const Jh=qh(H.getPage(Xe)),Zh=Jh;return Jh.promise.then(Kp=>{Un({type:"RESOLVE",value:Kp})}).catch(Kp=>{Un({type:"REJECT",error:Kp})}),()=>oa(Zh)},[Un,H,Xe]),b.useEffect(()=>{if(Re!==void 0){if(Re===!1){hu();return}va()}},[Re,ot]);const ex=b.useMemo(()=>Re&&js(_e)&&Xe&&js(bt)&&js(ot)?{_className:i,canvasBackground:s,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:g,onGetAnnotationsSuccess:y,onGetStructTreeError:A,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:k,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:I,onRenderError:D,onRenderSuccess:Q,onRenderTextLayerError:G,onRenderTextLayerSuccess:V,page:Re,pageIndex:_e,pageNumber:Xe,renderForms:U,renderTextLayer:ee,rotate:bt,scale:ot}:null,[i,s,h,d,g,y,A,x,C,k,L,I,D,Q,G,V,Re,_e,Xe,U,ee,bt,ot]),tx=b.useMemo(()=>jb(le,()=>Re&&(ot?Kv(Re,ot):void 0)),[le,Re,ot]),Qh=`${_e}@${ot}/${bt}`;function nx(){switch(re){case"custom":return Se(c),P.jsx(c,{},`${Qh}_custom`);case"none":return null;case"canvas":default:return P.jsx(UF,{canvasRef:o},`${Qh}_canvas`)}}function ix(){return ee?P.jsx(VF,{},`${Qh}_text`):null}function rx(){return z?P.jsx(GF,{},`${Qh}_annotations`):null}function sx(){return P.jsxs(Yb.Provider,{value:ex,children:[nx(),ix(),rx(),a]})}function ox(){return Xe?H===null||Re===void 0||Re===null?P.jsx(Qa,{type:"loading",children:typeof v=="function"?v():v}):H===!1||Re===!1?P.jsx(Qa,{type:"error",children:typeof f=="function"?f():f}):sx():P.jsx(Qa,{type:"no-data",children:typeof _=="function"?_():_})}return P.jsx("div",Object.assign({className:Vp(i,l),"data-page-number":Xe,ref:Xb(m,cu),style:{"--scale-factor":`${ot}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},tx,{children:ox()}))}LF();Wp.workerSrc="pdf.worker.mjs";const YF="/Divestment%20Demand%20for%20UMaine%20System.pdf";Wp.workerSrc=new URL("/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();function KF(){b.useEffect(()=>(window.scrollTo(0,0),t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)),[]);const[n,e]=b.useState(window.outerWidth);function t(){window.outerWidth>window.outerHeight?e(1e3):e(window.outerWidth)}return P.jsxs(P.Fragment,{children:[P.jsx(i0,{}),P.jsxs("div",{className:"page-content",children:[P.jsx("section",{className:"main-nav-section",style:{paddingTop:"2rem"},children:P.jsx("h2",{children:"Our Demands to the University of Maine System"})}),P.jsx("div",{className:"pdf-wrapper",children:P.jsx(Vb,{file:YF,children:[1,2,3,4,5,6,7].map(i=>P.jsx(Zb,{pageNumber:i,width:n,className:"pdf-page"},i))})}),P.jsx("footer",{})]})]})}const qF="/Minutes%20July%201982%20BOT%20Meeting.pdf";Wp.workerSrc=new URL("/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();function QF(){b.useEffect(()=>(window.scrollTo(0,0),t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)),[]);const[n,e]=b.useState(window.outerWidth);function t(){window.outerWidth>window.outerHeight?e(1e3):e(window.outerWidth)}return P.jsxs(P.Fragment,{children:[P.jsx(i0,{}),P.jsxs("div",{className:"page-content",children:[P.jsxs("section",{className:"main-nav-section",style:{paddingTop:"2rem"},children:[P.jsx("h2",{children:"Minutes from the Meeting of the University of Maine Board of Trustees, July 26, 1982"}),P.jsx("p",{children:"In 1982, the University of Maine was the fourth university in the United States to divest from apartheid South Africa and complicit corporations. This action, taken by the board in response to pressure from students and faculty, helped inspire other schools to divest and was part of a movement that led to the dissolution of the apartheid regime in South Africa and the liberation of its people. At the time, the board held that “Apartheid conflicts with the values of the university”."}),P.jsxs("p",{children:["Today, the state of Israel has been identified as responsible for a system of apartheid in the West Bank of Occupied Palestine by the"," ",P.jsx("a",{href:"https://www.un.org/unispal/wp-content/uploads/2022/10/A.77.356_210922.pdf",target:"_blank",rel:"noreferrer",children:"United Nations Special Rapporteur on the occupied Palestinian territories"}),", and the"," ",P.jsx("a",{href:"https://www.hrw.org/news/2024/07/19/world-court-finds-israel-responsible-apartheid",target:"_blank",rel:"noreferrer",children:"International Court of Justice"}),". In addition, the conditions Israel is inflicting on the Palestinians in Gaza amounts to genocide. It is therefore the responsibility of our board of trustees to uphold its values and divest from the state of Israel and all corporations complicit in its apartheid regime and genocidal war."]}),P.jsx("p",{children:"The text of the 1982 decision can be found below."})]}),P.jsx("div",{className:"pdf-wrapper",children:P.jsx(Vb,{file:qF,children:[1,2,3,4,5].map(i=>P.jsx(Zb,{pageNumber:i,width:n,className:"pdf-page"},i))})}),P.jsx("footer",{})]})]})}WS(document.getElementById("root")).render(P.jsx(b.StrictMode,{children:P.jsx(sL,{children:P.jsxs(NP,{children:[P.jsx(jd,{path:"/",element:P.jsx(VR,{})}),P.jsx(jd,{path:"/demands",element:P.jsx(KF,{})}),P.jsx(jd,{path:"/minutes-1982",element:P.jsx(QF,{})})]})})}));
